!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ot.type(e);return"function"===n||ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(ot.isFunction(t))return ot.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ot.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pt.test(t))return ot.filter(t,e,n);t=ot.filter(t,e)}return ot.grep(e,function(e){return ot.inArray(e,t)>=0!==n})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=bt[e]={};return ot.each(e.match(yt)||[],function(e,n){t[n]=!0}),t}function r(){ht.addEventListener?(ht.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(ht.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ht.addEventListener||"load"===event.type||"complete"===ht.readyState)&&(r(),ot.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(kt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:St.test(n)?ot.parseJSON(n):n}catch(o){}ot.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!ot.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(ot.acceptData(e)){var o,a,r=ot.expando,s=e.nodeType,l=s?ot.cache:e,u=s?e[r]:e[r]&&r;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[r]=q.pop()||ot.guid++:r),l[u]||(l[u]=s?{}:{toJSON:ot.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[u]=ot.extend(l[u],t):l[u].data=ot.extend(l[u].data,t)),a=l[u],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[ot.camelCase(t)]=n),"string"==typeof t?(o=a[t],null==o&&(o=a[ot.camelCase(t)])):o=a,o}}function d(e,t,n){if(ot.acceptData(e)){var i,o,a=e.nodeType,r=a?ot.cache:e,s=a?e[ot.expando]:ot.expando;if(r[s]){if(t&&(i=n?r[s]:r[s].data)){ot.isArray(t)?t=t.concat(ot.map(t,ot.camelCase)):t in i?t=[t]:(t=ot.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!u(i):!ot.isEmptyObject(i))return}(n||(delete r[s].data,u(r[s])))&&(a?ot.cleanData([e],!0):nt.deleteExpando||r!=r.window?delete r[s]:r[s]=null)}}}function p(){return!0}function f(){return!1}function h(){try{return ht.activeElement}catch(e){}}function m(e){var t=Lt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,o=0,a=typeof e.getElementsByTagName!==Tt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Tt?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||ot.nodeName(i,t)?a.push(i):ot.merge(a,g(i,t));return void 0===t||t&&ot.nodeName(e,t)?ot.merge([e],a):a}function Z(e){zt.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return ot.nodeName(e,"table")&&ot.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==ot.find.attr(e,"type"))+"/"+e.type,e}function b(e){var t=Wt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,i=0;null!=(n=e[i]);i++)ot._data(n,"globalEval",!t||ot._data(t[i],"globalEval"))}function x(e,t){if(1===t.nodeType&&ot.hasData(e)){var n,i,o,a=ot._data(e),r=ot._data(t,a),s=a.events;if(s){delete r.handle,r.events={};for(n in s)for(i=0,o=s[n].length;o>i;i++)ot.event.add(t,n,s[n][i])}r.data&&(r.data=ot.extend({},r.data))}}function T(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[ot.expando]){o=ot._data(t);for(i in o.events)ot.removeEvent(t,i,o.handle);t.removeAttribute(ot.expando)}"script"===n&&t.text!==e.text?(y(t).text=e.text,b(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!ot.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&zt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function S(t,n){var i,o=ot(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:ot.css(o[0],"display");return o.detach(),a}function k(e){var t=ht,n=Jt[e];return n||(n=S(e,t),"none"!==n&&n||(Qt=(Qt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Qt[0].contentWindow||Qt[0].contentDocument).document,t.write(),t.close(),n=S(e,t),Qt.detach()),Jt[e]=n),n}function E(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=fn.length;o--;)if(t=fn[o]+n,t in e)return t;return i}function U(e,t){for(var n,i,o,a=[],r=0,s=e.length;s>r;r++)i=e[r],i.style&&(a[r]=ot._data(i,"olddisplay"),n=i.style.display,t?(a[r]||"none"!==n||(i.style.display=""),""===i.style.display&&Ut(i)&&(a[r]=ot._data(i,"olddisplay",k(i.nodeName)))):(o=Ut(i),(n&&"none"!==n||!o)&&ot._data(i,"olddisplay",o?n:ot.css(i,"display"))));for(r=0;s>r;r++)i=e[r],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[r]||"":"none"));return e}function I(e,t,n){var i=un.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function z(e,t,n,i,o){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,r=0;4>a;a+=2)"margin"===n&&(r+=ot.css(e,n+Ct[a],!0,o)),i?("content"===n&&(r-=ot.css(e,"padding"+Ct[a],!0,o)),"margin"!==n&&(r-=ot.css(e,"border"+Ct[a]+"Width",!0,o))):(r+=ot.css(e,"padding"+Ct[a],!0,o),"padding"!==n&&(r+=ot.css(e,"border"+Ct[a]+"Width",!0,o)));return r}function D(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=en(e),r=nt.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,a);if(0>=o||null==o){if(o=tn(e,t,a),(0>o||null==o)&&(o=e.style[t]),on.test(o))return o;i=r&&(nt.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+z(e,t,n||(r?"border":"content"),i,a)+"px"}function N(e,t,n,i,o){return new N.prototype.init(e,t,n,i,o)}function V(){return setTimeout(function(){hn=void 0}),hn=ot.now()}function P(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Ct[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function R(e,t,n){for(var i,o=(bn[t]||[]).concat(bn["*"]),a=0,r=o.length;r>a;a++)if(i=o[a].call(n,t,e))return i}function L(e,t,n){var i,o,a,r,s,l,u,c,d=this,p={},f=e.style,h=e.nodeType&&Ut(e),m=ot._data(e,"fxshow");n.queue||(s=ot._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ot.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ot.css(e,"display"),c="none"===u?ot._data(e,"olddisplay")||k(e.nodeName):u,"inline"===c&&"none"===ot.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],gn.exec(o)){if(delete t[i],a=a||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;h=!0}p[i]=m&&m[i]||ot.style(e,i)}else u=void 0;if(ot.isEmptyObject(p))"inline"===("none"===u?k(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(h=m.hidden):m=ot._data(e,"fxshow",{}),a&&(m.hidden=!h),h?ot(e).show():d.done(function(){ot(e).hide()}),d.done(function(){var t;ot._removeData(e,"fxshow");for(t in p)ot.style(e,t,p[t])});for(i in p)r=R(h?m[i]:0,i,d),i in m||(m[i]=r.start,h&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function F(e,t){var n,i,o,a,r;for(n in e)if(i=ot.camelCase(n),o=t[i],a=e[n],ot.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),r=ot.cssHooks[i],r&&"expand"in r){a=r.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=o)}else t[i]=o}function A(e,t,n){var i,o,a=0,r=yn.length,s=ot.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=hn||V(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,a=1-i,r=0,l=u.tweens.length;l>r;r++)u.tweens[r].run(a);return s.notifyWith(e,[u,a,n]),1>a&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:hn||V(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ot.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(F(c,u.opts.specialEasing);r>a;a++)if(i=yn[a].call(u,e,c,u.opts))return i;return ot.map(c,R,u),ot.isFunction(u.opts.start)&&u.opts.start.call(e,u),ot.fx.timer(ot.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,a=t.toLowerCase().match(yt)||[];if(ot.isFunction(n))for(;i=a[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function M(e,t,n,i){function o(s){var l;return a[s]=!0,ot.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||r||a[u]?r?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var a={},r=e===_n;return o(t.dataTypes[0])||!a["*"]&&o("*")}function H(e,t){var n,i,o=ot.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&ot.extend(!0,e,n),e}function B(e,t,n){for(var i,o,a,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}i||(i=r)}a=a||i}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function j(e,t,n,i){var o,a,r,s,l,u={},c=e.dataTypes.slice();if(c[1])for(r in e.converters)u[r.toLowerCase()]=e.converters[r];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(r=u[l+" "+a]||u["* "+a],!r)for(o in u)if(s=o.split(" "),s[1]===a&&(r=u[l+" "+s[0]]||u["* "+s[0]])){r===!0?r=u[o]:u[o]!==!0&&(a=s[0],c.unshift(s[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function _(e,t,n,i){var o;if(ot.isArray(t))ot.each(t,function(t,o){n||qn.test(e)?i(e,o):_(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==ot.type(t))i(e,t);else for(o in t)_(e+"["+o+"]",t[o],n,i)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function $(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function W(e){return ot.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var q=[],Y=q.slice,G=q.concat,K=q.push,Q=q.indexOf,J={},et=J.toString,tt=J.hasOwnProperty,nt={},it="1.11.2",ot=function(e,t){return new ot.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^-ms-/,st=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};ot.fn=ot.prototype={jquery:it,constructor:ot,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},map:function(e){return this.pushStack(ot.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:q.sort,splice:q.splice},ot.extend=ot.fn.extend=function(){var e,t,n,i,o,a,r=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[s]||{},s++),"object"==typeof r||ot.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(i in o)e=r[i],n=o[i],r!==n&&(u&&n&&(ot.isPlainObject(n)||(t=ot.isArray(n)))?(t?(t=!1,a=e&&ot.isArray(e)?e:[]):a=e&&ot.isPlainObject(e)?e:{},r[i]=ot.extend(u,a,n)):void 0!==n&&(r[i]=n));return r},ot.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray||function(e){return"array"===ot.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ot.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[et.call(e)]||"object":typeof e},globalEval:function(t){t&&ot.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(rt,"ms-").replace(st,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,a=0,r=e.length,s=n(e);if(i){if(s)for(;r>a&&(o=t.apply(e[a],i),o!==!1);a++);else for(a in e)if(o=t.apply(e[a],i),o===!1)break}else if(s)for(;r>a&&(o=t.call(e[a],a,e[a]),o!==!1);a++);else for(a in e)if(o=t.call(e[a],a,e[a]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ot.merge(i,"string"==typeof e?[e]:e):K.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(Q)return Q.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],a=0,r=e.length,s=!n;r>a;a++)i=!t(e[a],a),i!==s&&o.push(e[a]);return o},map:function(e,t,i){var o,a=0,r=e.length,s=n(e),l=[];if(s)for(;r>a;a++)o=t(e[a],a,i),null!=o&&l.push(o);else for(a in e)o=t(e[a],a,i),null!=o&&l.push(o);return G.apply([],l)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),ot.isFunction(e)?(n=Y.call(arguments,2),i=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},i.guid=e.guid=e.guid||ot.guid++,i):void 0},now:function(){return+new Date},support:nt}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ut=function(e){function t(e,t,n,i){var o,a,r,s,l,u,d,f,h,m;if((t?t.ownerDocument||t:M)!==N&&D(t),t=t||N,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&P){if(11!==s&&(o=vt.exec(e)))if(r=o[1]){if(9===s){if(a=t.getElementById(r),!a||!a.parentNode)return n;if(a.id===r)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(r))&&A(t,a)&&a.id===r)return n.push(a),n}else{if(o[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((r=o[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(r)),n}if(w.qsa&&(!R||!R.test(e))){if(f=d=O,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=k(e),(d=t.getAttribute("id"))?f=d.replace(bt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+p(u[l]);h=yt.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Q.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return C(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[O]=!0,e}function o(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var o,a=e([],n.length,t),r=a.length;r--;)n[o=a[r]]&&(n[o]=!(i[o]=n[o]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=B++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,a)}:function(t,n,r){var s,l,u=[H,a];if(r){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,r))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(l=t[O]||(t[O]={}),(s=l[i])&&s[0]===H&&s[1]===a)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,r))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var o=0,a=n.length;a>o;o++)t(e,n[o],i);return i}function g(e,t,n,i,o){for(var a,r=[],s=0,l=e.length,u=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,i,o))&&(r.push(a),u&&t.push(s));return r}function Z(e,t,n,o,a,r){return o&&!o[O]&&(o=Z(o)),a&&!a[O]&&(a=Z(a,r)),i(function(i,r,s,l){var u,c,d,p=[],f=[],h=r.length,Z=i||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?Z:g(Z,p,e,s,l),y=n?a||(i?e:h||o)?[]:r:v;if(n&&n(v,y,s,l),o)for(u=g(y,f),o(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[f[c]]=!(v[f[c]]=d));if(i){if(a||e){if(a){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);a(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=a?et(i,d):p[c])>-1&&(i[u]=!(r[u]=d))}}else y=g(y===r?y.splice(h,y.length):y),a?a(null,r,y,l):Q.apply(r,y)})}function v(e){for(var t,n,i,o=e.length,a=x.relative[e[0].type],r=a||x.relative[" "],s=a?1:0,l=f(function(e){return e===t},r,!0),u=f(function(e){return et(t,e)>-1},r,!0),c=[function(e,n,i){var o=!a&&(i||n!==U)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,o}];o>s;s++)if(n=x.relative[e[s].type])c=[f(h(c),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[O]){for(i=++s;o>i&&!x.relative[e[i].type];i++);return Z(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&v(e.slice(s,i)),o>i&&v(e=e.slice(i)),o>i&&p(e))}c.push(n)}return h(c)}function y(e,n){var o=n.length>0,a=e.length>0,r=function(i,r,s,l,u){var c,d,p,f=0,h="0",m=i&&[],Z=[],v=U,y=i||a&&x.find.TAG("*",u),b=H+=null==v?1:Math.random()||.1,w=y.length;for(u&&(U=r!==N&&r);h!==w&&null!=(c=y[h]);h++){if(a&&c){for(d=0;p=e[d++];)if(p(c,r,s)){l.push(c);break}u&&(H=b)}o&&((c=!p&&c)&&f--,i&&m.push(c))}if(f+=h,o&&h!==f){for(d=0;p=n[d++];)p(m,Z,r,s);if(i){if(f>0)for(;h--;)m[h]||Z[h]||(Z[h]=G.call(l));Z=g(Z)}Q.apply(l,Z),u&&!i&&Z.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(H=b,U=v),m};return o?i(r):r}var b,w,x,T,S,k,E,C,U,I,z,D,N,V,P,R,L,F,A,O="sizzle"+1*new Date,M=e.document,H=0,B=0,j=n(),_=n(),X=n(),$=function(e,t){return e===t&&(z=!0),0},W=1<<31,q={}.hasOwnProperty,Y=[],G=Y.pop,K=Y.push,Q=Y.push,J=Y.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),at="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),pt=new RegExp(rt),ft=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,Zt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Tt=function(){D()};try{Q.apply(Y=J.call(M.childNodes),M.childNodes),Y[M.childNodes.length].nodeType}catch(St){Q={apply:Y.length?function(e,t){K.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},D=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:M;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,V=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),P=!S(i),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=Zt.test(i.getElementsByClassName),w.getById=o(function(e){return V.appendChild(e).id=O,!i.getElementsByName||!i.getElementsByName(O).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&i.push(n);return i}return a},x.find.CLASS=w.getElementsByClassName&&function(e,t){return P?t.getElementsByClassName(e):void 0},L=[],R=[],(w.qsa=Zt.test(i.querySelectorAll))&&(o(function(e){V.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+O+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||R.push(".#.+[+~]")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(w.matchesSelector=Zt.test(F=V.matches||V.webkitMatchesSelector||V.mozMatchesSelector||V.oMatchesSelector||V.msMatchesSelector))&&o(function(e){w.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),L.push("!=",rt)}),R=R.length&&new RegExp(R.join("|")),L=L.length&&new RegExp(L.join("|")),t=Zt.test(V.compareDocumentPosition),A=t||Zt.test(V.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return z=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===M&&A(M,e)?-1:t===i||t.ownerDocument===M&&A(M,t)?1:I?et(I,e)-et(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return z=!0,0;var n,o=0,a=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!a||!s)return e===i?-1:t===i?1:a?-1:s?1:I?et(I,e)-et(I,t):0;if(a===s)return r(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[o]===u[o];)o++;return o?r(l[o],u[o]):l[o]===M?-1:u[o]===M?1:0},i):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&D(e),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!P||L&&L.test(n)||R&&R.test(n)))try{var i=F.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&D(e),A(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&D(e);var n=x.attrHandle[t.toLowerCase()],i=n&&q.call(x.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:w.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(z=!w.detectDuplicates,I=!w.sortStable&&e.slice(0),e.sort($),z){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return I=null,e},T=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=T(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,xt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pt.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var a=t.attr(o,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(st," ")+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,o){var a="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,h,m=a!==r?"nextSibling":"previousSibling",g=t.parentNode,Z=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(a){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===Z:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[r?g.firstChild:g.lastChild],r&&v){for(c=g[O]||(g[O]={}),u=c[e]||[],f=u[0]===H&&u[1],p=u[0]===H&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[H,f,p];break}}else if(v&&(u=(t[O]||(t[O]={}))[e])&&u[0]===H)p=u[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==Z:1!==d.nodeType)||!++p||(v&&((d[O]||(d[O]={}))[e]=[H,p]),d!==t)););return p-=o,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var o,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[O]?a(n):a.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=a(e,n),r=o.length;r--;)i=et(e,o[r]),e[i]=!(t[i]=o[r])}):function(e){return a(e,0,o)}):a}},pseudos:{not:i(function(e){var t=[],n=[],o=E(e.replace(lt,"$1"));return o[O]?i(function(e,t,n,i){for(var a,r=o(e,null,i,[]),s=e.length;s--;)(a=r[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,o(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(wt,xt),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,xt).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===V},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=l(b);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,k=t.tokenize=function(e,n){var i,o,a,r,s,l,u,c=_[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){(!i||(o=ut.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),i=!1,(o=ct.exec(s))&&(i=o.shift(),a.push({value:i,type:o[0].replace(lt," ")}),s=s.slice(i.length));for(r in x.filter)!(o=ht[r].exec(s))||u[r]&&!(o=u[r](o))||(i=o.shift(),a.push({value:i,type:r,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):_(e,l).slice(0)},E=t.compile=function(e,t){var n,i=[],o=[],a=X[e+" "];if(!a){for(t||(t=k(e)),n=t.length;n--;)a=v(t[n]),a[O]?i.push(a):o.push(a);a=X(e,y(o,i)),a.selector=e}return a},C=t.select=function(e,t,n,i){var o,a,r,s,l,u="function"==typeof e&&e,d=!i&&k(e=u.selector||e);if(n=n||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&w.getById&&9===t.nodeType&&P&&x.relative[a[1].type]){if(t=(x.find.ID(r.matches[0].replace(wt,xt),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=ht.needsContext.test(e)?0:a.length;o--&&(r=a[o],!x.relative[s=r.type]);)if((l=x.find[s])&&(i=l(r.matches[0].replace(wt,xt),yt.test(a[0].type)&&c(t.parentNode)||t))){if(a.splice(o,1),e=i.length&&p(a),!e)return Q.apply(n,i),n;
break}}return(u||E(e,d))(i,t,!P,n,yt.test(e)&&c(t.parentNode)||t),n},w.sortStable=O.split("").sort($).join("")===O,w.detectDuplicates=!!z,D(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ot.find=ut,ot.expr=ut.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=ut.uniqueSort,ot.text=ut.getText,ot.isXMLDoc=ut.isXML,ot.contains=ut.contains;var ct=ot.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;ot.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ot.find.matchesSelector(i,e)?[i]:[]:ot.find.matches(e,ot.grep(t,function(e){return 1===e.nodeType}))},ot.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(ot(e).filter(function(){for(t=0;o>t;t++)if(ot.contains(i[t],this))return!0}));for(t=0;o>t;t++)ot.find(e,i[t],n);return n=this.pushStack(o>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ct.test(e)?ot(e):e||[],!1).length}});var ft,ht=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=ot.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ot?t[0]:t,ot.merge(this,ot.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ht,!0)),dt.test(n[1])&&ot.isPlainObject(t))for(n in t)ot.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=ht.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return ft.find(e);this.length=1,this[0]=i}return this.context=ht,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(ot):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))};gt.prototype=ot.fn,ft=ot(ht);var Zt=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!ot(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ot.fn.extend({has:function(e){var t,n=ot(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ot.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,a=[],r=ct.test(e)||"string"!=typeof e?ot(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?ot.unique(a):a)},index:function(e){return e?"string"==typeof e?ot.inArray(this[0],ot(e)):ot.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ot.unique(ot.merge(this.get(),ot(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ot.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ot.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ot.dir(e,"previousSibling",n)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return ot.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(n,i){var o=ot.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ot.filter(i,o)),this.length>1&&(vt[e]||(o=ot.unique(o)),Zt.test(e)&&(o=o.reverse())),this.pushStack(o)}});var yt=/\S+/g,bt={};ot.Callbacks=function(e){e="string"==typeof e?bt[e]||a(e):ot.extend({},e);var t,n,i,o,r,s,l=[],u=!e.once&&[],c=function(a){for(n=e.memory&&a,i=!0,r=s||0,s=0,o=l.length,t=!0;l&&o>r;r++)if(l[r].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function a(t){ot.each(t,function(t,n){var i=ot.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),t?o=l.length:n&&(s=i,c(n))}return this},remove:function(){return l&&ot.each(arguments,function(e,n){for(var i;(i=ot.inArray(n,l,i))>-1;)l.splice(i,1),t&&(o>=i&&o--,r>=i&&r--)}),this},has:function(e){return e?ot.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||i&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(n){ot.each(t,function(t,a){var r=ot.isFunction(e[t])&&e[t];o[a[1]](function(){var e=r&&r.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,i):i}},o={};return i.pipe=i.then,ot.each(t,function(e,a){var r=a[2],s=a[3];i[a[1]]=r.add,s&&r.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?i:this,arguments),this},o[a[0]+"With"]=r.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,a=Y.call(arguments),r=a.length,s=1!==r||e&&ot.isFunction(e.promise)?r:0,l=1===s?e:ot.Deferred(),u=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?Y.call(arguments):o,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(r>1)for(t=new Array(r),n=new Array(r),i=new Array(r);r>o;o++)a[o]&&ot.isFunction(a[o].promise)?a[o].promise().done(u(o,i,a)).fail(l.reject).progress(u(o,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}});var wt;ot.fn.ready=function(e){return ot.ready.promise().done(e),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){if(e===!0?!--ot.readyWait:!ot.isReady){if(!ht.body)return setTimeout(ot.ready);ot.isReady=!0,e!==!0&&--ot.readyWait>0||(wt.resolveWith(ht,[ot]),ot.fn.triggerHandler&&(ot(ht).triggerHandler("ready"),ot(ht).off("ready")))}}}),ot.ready.promise=function(t){if(!wt)if(wt=ot.Deferred(),"complete"===ht.readyState)setTimeout(ot.ready);else if(ht.addEventListener)ht.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{ht.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ht.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!ot.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}r(),ot.ready()}}()}return wt.promise(t)};var xt,Tt="undefined";for(xt in ot(nt))break;nt.ownLast="0"!==xt,nt.inlineBlockNeedsLayout=!1,ot(function(){var e,t,n,i;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Tt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ht.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),ot.acceptData=function(e){var t=ot.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ot.cache[e[ot.expando]]:e[ot.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ot.fn.extend({data:function(e,t){var n,i,o,a=this[0],r=a&&a.attributes;if(void 0===e){if(this.length&&(o=ot.data(a),1===a.nodeType&&!ot._data(a,"parsedAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(a,i,o[i])));ot._data(a,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ot.data(this,e)}):arguments.length>1?this.each(function(){ot.data(this,e,t)}):a?l(a,e,ot.data(a,e)):void 0},removeData:function(e){return this.each(function(){ot.removeData(this,e)})}}),ot.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ot._data(e,t),n&&(!i||ot.isArray(n)?i=ot._data(e,t,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ot.queue(e,t),i=n.length,o=n.shift(),a=ot._queueHooks(e,t),r=function(){ot.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,r,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ot._data(e,n)||ot._data(e,n,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(e,t+"queue"),ot._removeData(e,n)})})}}),ot.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ot.queue(this[0],e):void 0===t?this:this.each(function(){var n=ot.queue(this,e,t);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ot.Deferred(),a=this,r=this.length,s=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)n=ot._data(a[r],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],Ut=function(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)},It=ot.access=function(e,t,n,i,o,a,r){var s=0,l=e.length,u=null==n;if("object"===ot.type(n)){o=!0;for(s in n)ot.access(e,t,s,n[s],!0,a,r)}else if(void 0!==i&&(o=!0,ot.isFunction(i)||(r=!0),u&&(r?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(ot(e),n)})),t))for(;l>s;s++)t(e[s],n,r?i:i.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):a},zt=/^(?:checkbox|radio)$/i;!function(){var e=ht.createElement("input"),t=ht.createElement("div"),n=ht.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ht.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(i){nt.deleteExpando=!1}}}(),function(){var t,n,i=ht.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),nt[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Dt=/^(?:input|select|textarea)$/i,Nt=/^key/,Vt=/^(?:mouse|pointer|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,t,n,i,o){var a,r,s,l,u,c,d,p,f,h,m,g=ot._data(e);if(g){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=ot.guid++),(r=g.events)||(r=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ot===Tt||e&&ot.event.triggered===e.type?void 0:ot.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(yt)||[""],s=t.length;s--;)a=Rt.exec(t[s])||[],f=m=a[1],h=(a[2]||"").split(".").sort(),f&&(u=ot.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ot.event.special[f]||{},d=ot.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:h.join(".")},l),(p=r[f])||(p=r[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,i,h,c)!==!1||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),ot.event.global[f]=!0);e=null}},remove:function(e,t,n,i,o){var a,r,s,l,u,c,d,p,f,h,m,g=ot.hasData(e)&&ot._data(e);if(g&&(c=g.events)){for(t=(t||"").match(yt)||[""],u=t.length;u--;)if(s=Rt.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=ot.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=p.length;a--;)r=p[a],!o&&m!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(p.splice(a,1),r.selector&&p.delegateCount--,d.remove&&d.remove.call(e,r));l&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ot.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)ot.event.remove(e,f+t[u],n,i,!0);ot.isEmptyObject(c)&&(delete g.handle,ot._removeData(e,"events"))}},trigger:function(t,n,i,o){var a,r,s,l,u,c,d,p=[i||ht],f=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=i=i||ht,3!==i.nodeType&&8!==i.nodeType&&!Pt.test(f+ot.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),r=f.indexOf(":")<0&&"on"+f,t=t[ot.expando]?t:new ot.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ot.makeArray(n,[t]),u=ot.event.special[f]||{},o||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!o&&!u.noBubble&&!ot.isWindow(i)){for(l=u.delegateType||f,Pt.test(l+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(i.ownerDocument||ht)&&p.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=p[d++])&&!t.isPropagationStopped();)t.type=d>1?l:u.bindType||f,a=(ot._data(s,"events")||{})[t.type]&&ot._data(s,"handle"),a&&a.apply(s,n),a=r&&s[r],a&&a.apply&&ot.acceptData(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!o&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),n)===!1)&&ot.acceptData(i)&&r&&i[f]&&!ot.isWindow(i)){c=i[r],c&&(i[r]=null),ot.event.triggered=f;try{i[f]()}catch(m){}ot.event.triggered=void 0,c&&(i[r]=c)}return t.result}},dispatch:function(e){e=ot.event.fix(e);var t,n,i,o,a,r=[],s=Y.call(arguments),l=(ot._data(this,"events")||{})[e.type]||[],u=ot.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(r=ot.event.handlers.call(this,e,l),t=0;(o=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((ot.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,a,r=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;s>a;a++)i=t[a],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?ot(n,this).index(l)>=0:ot.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&r.push({elem:l,handlers:o})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},fix:function(e){if(e[ot.expando])return e;var t,n,i,o=e.type,a=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Vt.test(o)?this.mouseHooks:Nt.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new ot.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=a.srcElement||ht),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ht,o=i.documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ot.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=ot.extend(new ot.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ot.event.trigger(o,null,t):ot.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=ht.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Tt&&(e[i]=null),e.detachEvent(i,n))},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:f):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,a=e.handleObj;return(!o||o!==i&&!ot.contains(i,o))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:void ot.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ot.nodeName(t,"input")||ot.nodeName(t,"button")?t.form:void 0;n&&!ot._data(n,"submitBubbles")&&(ot.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ot._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ot.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:void ot.event.remove(this,"._submit")}}),nt.changeBubbles||(ot.event.special.change={setup:function(){return Dt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,e,!0)})),!1):void ot.event.add(this,"beforeactivate._change",function(e){var t=e.target;Dt.test(t.nodeName)&&!ot._data(t,"changeBubbles")&&(ot.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ot.event.simulate("change",this.parentNode,e,!0)}),ot._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!Dt.test(this.nodeName)}}),nt.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=ot._data(i,t);o||i.addEventListener(e,n,!0),ot._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ot._data(i,t)-1;o?ot._data(i,t,o):(i.removeEventListener(e,n,!0),ot._removeData(i,t))}}}),ot.fn.extend({on:function(e,t,n,i,o){var a,r;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=f;else if(!i)return this;return 1===o&&(r=i,i=function(e){return ot().off(e),r.apply(this,arguments)},i.guid=r.guid||(r.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ot(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){ot.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ot.event.trigger(e,t,n,!0):void 0}});var Lt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ft=/ jQuery\d+="(?:null|\d+)"/g,At=new RegExp("<(?:"+Lt+")[\\s/>]","i"),Ot=/^\s+/,Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ht=/<([\w:]+)/,Bt=/<tbody/i,jt=/<|&#?\w+;/,_t=/<(?:script|style|link)/i,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,$t=/^$|\/(?:java|ecma)script/i,Wt=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=m(ht),Kt=Gt.appendChild(ht.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,ot.extend({clone:function(e,t,n){var i,o,a,r,s,l=ot.contains(e.ownerDocument,e);if(nt.html5Clone||ot.isXMLDoc(e)||!At.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Kt.innerHTML=e.outerHTML,Kt.removeChild(a=Kt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(i=g(a),s=g(e),r=0;null!=(o=s[r]);++r)i[r]&&T(o,i[r]);if(t)if(n)for(s=s||g(e),i=i||g(a),r=0;null!=(o=s[r]);r++)x(o,i[r]);else x(e,a);return i=g(a,"script"),i.length>0&&w(i,!l&&g(e,"script")),i=s=o=null,a},buildFragment:function(e,t,n,i){for(var o,a,r,s,l,u,c,d=e.length,p=m(t),f=[],h=0;d>h;h++)if(a=e[h],a||0===a)if("object"===ot.type(a))ot.merge(f,a.nodeType?[a]:a);else if(jt.test(a)){for(s=s||p.appendChild(t.createElement("div")),l=(Ht.exec(a)||["",""])[1].toLowerCase(),c=Yt[l]||Yt._default,s.innerHTML=c[1]+a.replace(Mt,"<$1></$2>")+c[2],o=c[0];o--;)s=s.lastChild;if(!nt.leadingWhitespace&&Ot.test(a)&&f.push(t.createTextNode(Ot.exec(a)[0])),!nt.tbody)for(a="table"!==l||Bt.test(a)?"<table>"!==c[1]||Bt.test(a)?0:s:s.firstChild,o=a&&a.childNodes.length;o--;)ot.nodeName(u=a.childNodes[o],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(ot.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(t.createTextNode(a));for(s&&p.removeChild(s),nt.appendChecked||ot.grep(g(f,"input"),Z),h=0;a=f[h++];)if((!i||-1===ot.inArray(a,i))&&(r=ot.contains(a.ownerDocument,a),s=g(p.appendChild(a),"script"),r&&w(s),n))for(o=0;a=s[o++];)$t.test(a.type||"")&&n.push(a);return s=null,p},cleanData:function(e,t){for(var n,i,o,a,r=0,s=ot.expando,l=ot.cache,u=nt.deleteExpando,c=ot.event.special;null!=(n=e[r]);r++)if((t||ot.acceptData(n))&&(o=n[s],a=o&&l[o])){if(a.events)for(i in a.events)c[i]?ot.event.remove(n,i):ot.removeEvent(n,i,a.handle);l[o]&&(delete l[o],u?delete n[s]:typeof n.removeAttribute!==Tt?n.removeAttribute(s):n[s]=null,q.push(o))}}}),ot.fn.extend({text:function(e){return It(this,function(e){return void 0===e?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ht).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ot.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||ot.cleanData(g(n)),n.parentNode&&(t&&ot.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ot.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ot.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return It(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ft,""):void 0;if(!("string"!=typeof e||_t.test(e)||!nt.htmlSerialize&&At.test(e)||!nt.leadingWhitespace&&Ot.test(e)||Yt[(Ht.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Mt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ot.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ot.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,i,o,a,r,s,l=0,u=this.length,c=this,d=u-1,p=e[0],f=ot.isFunction(p);if(f||u>1&&"string"==typeof p&&!nt.checkClone&&Xt.test(p))return this.each(function(n){var i=c.eq(n);f&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(u&&(s=ot.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=ot.map(g(s,"script"),y),o=a.length;u>l;l++)i=s,l!==d&&(i=ot.clone(i,!0,!0),o&&ot.merge(a,g(i,"script"))),t.call(this[l],i,l);if(o)for(r=a[a.length-1].ownerDocument,ot.map(a,b),l=0;o>l;l++)i=a[l],$t.test(i.type||"")&&!ot._data(i,"globalEval")&&ot.contains(r,i)&&(i.src?ot._evalUrl&&ot._evalUrl(i.src):ot.globalEval((i.text||i.textContent||i.innerHTML||"").replace(qt,"")));s=n=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var n,i=0,o=[],a=ot(e),r=a.length-1;r>=i;i++)n=i===r?this:this.clone(!0),ot(a[i])[t](n),K.apply(o,n.get());return this.pushStack(o)}});var Qt,Jt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=ht.getElementsByTagName("body")[0],n&&n.style?(t=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Tt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ht.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var en,tn,nn=/^margin/,on=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var i,o,a,r,s=e.style;return n=n||en(e),r=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==r||ot.contains(e.ownerDocument,e)||(r=ot.style(e,t)),on.test(r)&&nn.test(t)&&(i=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=o,s.maxWidth=a)),void 0===r?r:r+""}):ht.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var i,o,a,r,s=e.style;return n=n||en(e),r=n?n[t]:void 0,null==r&&s&&s[t]&&(r=s[t]),on.test(r)&&!an.test(t)&&(i=s.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":r,r=s.pixelLeft+"px",s.left=i,a&&(o.left=a)),void 0===r?r:r+""||"auto"}),function(){function t(){var t,n,i,o;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=r=!1,l=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(t,null)||{}).top,r="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,o=t.appendChild(ht.createElement("div")),o.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(o)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=t.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===o[0].offsetHeight,s&&(o[0].style.display="",o[1].style.display="none",s=0===o[0].offsetHeight),n.removeChild(i))
}var n,i,o,a,r,s,l;n=ht.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=n.getElementsByTagName("a")[0],i=o&&o.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,ot.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==r&&t(),r},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ot.swap=function(e,t,n,i){var o,a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];o=n.apply(e,i||[]);for(a in t)e.style[a]=r[a];return o};var rn=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,un=new RegExp("^("+Et+")(.*)$","i"),cn=new RegExp("^([+-])=("+Et+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"},fn=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r,s=ot.camelCase(t),l=e.style;if(t=ot.cssProps[s]||(ot.cssProps[s]=C(l,s)),r=ot.cssHooks[t]||ot.cssHooks[s],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:l[t];if(a=typeof n,"string"===a&&(o=cn.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ot.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||ot.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(e,n,i)))))try{l[t]=n}catch(u){}}},css:function(e,t,n,i){var o,a,r,s=ot.camelCase(t);return t=ot.cssProps[s]||(ot.cssProps[s]=C(e.style,s)),r=ot.cssHooks[t]||ot.cssHooks[s],r&&"get"in r&&(a=r.get(e,!0,n)),void 0===a&&(a=tn(e,t,i)),"normal"===a&&t in pn&&(a=pn[t]),""===n||n?(o=parseFloat(a),n===!0||ot.isNumeric(o)?o||0:a):a}}),ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,n,i){return n?ln.test(ot.css(e,"display"))&&0===e.offsetWidth?ot.swap(e,dn,function(){return D(e,t,i)}):D(e,t,i):void 0},set:function(e,n,i){var o=i&&en(e);return I(e,n,i?z(e,t,i,nt.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,o),o):0)}}}),nt.opacity||(ot.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=ot.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ot.trim(a.replace(rn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=rn.test(a)?a.replace(rn,o):a+" "+o)}}),ot.cssHooks.marginRight=E(nt.reliableMarginRight,function(e,t){return t?ot.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(n){for(var i=0,o={},a="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+Ct[i]+t]=a[i]||a[i-2]||a[0];return o}},nn.test(e)||(ot.cssHooks[e+t].set=I)}),ot.fn.extend({css:function(e,t){return It(this,function(e,t,n){var i,o,a={},r=0;if(ot.isArray(t)){for(i=en(e),o=t.length;o>r;r++)a[t[r]]=ot.css(e,t[r],!1,i);return a}return void 0!==n?ot.style(e,t,n):ot.css(e,t)},e,t,arguments.length>1)},show:function(){return U(this,!0)},hide:function(){return U(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ut(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=N,N.prototype={constructor:N,init:function(e,t,n,i,o,a){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(ot.cssNumber[n]?"":"px")},cur:function(){var e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this)},run:function(e){var t,n=N.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.fx=N.prototype.init,ot.fx.step={};var hn,mn,gn=/^(?:toggle|show|hide)$/,Zn=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),vn=/queueHooks$/,yn=[L],bn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=Zn.exec(t),a=o&&o[3]||(ot.cssNumber[e]?"":"px"),r=(ot.cssNumber[e]||"px"!==a&&+i)&&Zn.exec(ot.css(n.elem,e)),s=1,l=20;if(r&&r[3]!==a){a=a||r[3],o=o||[],r=+i||1;do s=s||".5",r/=s,ot.style(n.elem,e,r+a);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return o&&(r=n.start=+r||+i||0,n.unit=a,n.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),n}]};ot.Animation=ot.extend(A,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],bn[n]=bn[n]||[],bn[n].unshift(t)},prefilter:function(e,t){t?yn.unshift(e):yn.push(e)}}),ot.speed=function(e,t,n){var i=e&&"object"==typeof e?ot.extend({},e):{complete:n||!n&&t||ot.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ot.isFunction(t)&&t};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ut).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ot.isEmptyObject(e),a=ot.speed(t,n,i),r=function(){var t=A(this,ot.extend({},e),a);(o||ot._data(this,"finish"))&&t.stop(!0)};return r.finish=r,o||a.queue===!1?this.each(r):this.queue(a.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=ot.timers,r=ot._data(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&vn.test(o)&&i(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));(t||!n)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ot._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],a=ot.timers,r=i?i.length:0;for(n.finish=!0,ot.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;r>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(e,t){var n=ot.fn[t];ot.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,i,o)}}),ot.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ot.timers=[],ot.fx.tick=function(){var e,t=ot.timers,n=0;for(hn=ot.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ot.fx.stop(),hn=void 0},ot.fx.timer=function(e){ot.timers.push(e),e()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){mn||(mn=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(mn),mn=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,o;t=ht.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=ht.createElement("select"),o=n.appendChild(ht.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=o.selected,nt.enctype=!!ht.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!o.disabled,e=ht.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var wn=/\r/g;ot.fn.extend({val:function(e){var t,n,i,o=this[0];{if(arguments.length)return i=ot.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,ot(this).val()):e,null==o?o="":"number"==typeof o?o+="":ot.isArray(o)&&(o=ot.map(o,function(e){return null==e?"":e+""})),t=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=ot.valHooks[o.type]||ot.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(e){var t=ot.find.attr(e,"value");return null!=t?t:ot.trim(ot.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type||0>o,r=a?null:[],s=a?o+1:i.length,l=0>o?s:a?o:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==o||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(t=ot(n).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,a=ot.makeArray(t),r=o.length;r--;)if(i=o[r],ot.inArray(ot.valHooks.option.get(i),a)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}},nt.checkOn||(ot.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xn,Tn,Sn=ot.expr.attrHandle,kn=/^(?:checked|selected)$/i,En=nt.getSetAttribute,Cn=nt.input;ot.fn.extend({attr:function(e,t){return It(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})}}),ot.extend({attr:function(e,t,n){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Tt?ot.prop(e,t,n):(1===a&&ot.isXMLDoc(e)||(t=t.toLowerCase(),i=ot.attrHooks[t]||(ot.expr.match.bool.test(t)?Tn:xn)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=ot.find.attr(e,t),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void ot.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,a=t&&t.match(yt);if(a&&1===e.nodeType)for(;n=a[o++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)?Cn&&En||!kn.test(n)?e[i]=!1:e[ot.camelCase("default-"+n)]=e[i]=!1:ot.attr(e,n,""),e.removeAttribute(En?n:i)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tn={set:function(e,t,n){return t===!1?ot.removeAttr(e,n):Cn&&En||!kn.test(n)?e.setAttribute(!En&&ot.propFix[n]||n,n):e[ot.camelCase("default-"+n)]=e[n]=!0,n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Sn[t]||ot.find.attr;Sn[t]=Cn&&En||!kn.test(t)?function(e,t,i){var o,a;return i||(a=Sn[t],Sn[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,Sn[t]=a),o}:function(e,t,n){return n?void 0:e[ot.camelCase("default-"+t)]?t.toLowerCase():null}}),Cn&&En||(ot.attrHooks.value={set:function(e,t,n){return ot.nodeName(e,"input")?void(e.defaultValue=t):xn&&xn.set(e,t,n)}}),En||(xn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Sn.id=Sn.name=Sn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ot.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:xn.set},ot.attrHooks.contenteditable={set:function(e,t,n){xn.set(e,""===t?!1:t,n)}},ot.each(["width","height"],function(e,t){ot.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(ot.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Un=/^(?:input|select|textarea|button|object)$/i,In=/^(?:a|area)$/i;ot.fn.extend({prop:function(e,t){return It(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ot.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,o,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return a=1!==r||!ot.isXMLDoc(e),a&&(t=ot.propFix[t]||t,o=ot.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ot.find.attr(e,"tabindex");return t?parseInt(t,10):Un.test(e.nodeName)||In.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||ot.each(["href","src"],function(e,t){ot.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(ot.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),nt.enctype||(ot.propFix.enctype="encoding");var zn=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(e){var t,n,i,o,a,r,s=0,l=this.length,u="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(yt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(zn," "):" ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r=ot.trim(i),n.className!==r&&(n.className=r)}return this},removeClass:function(e){var t,n,i,o,a,r,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(yt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(zn," "):"")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");r=e?ot.trim(i):"",n.className!==r&&(n.className=r)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ot.isFunction(e)?function(n){ot(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,o=ot(this),a=e.match(yt)||[];t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Tt||"boolean"===n)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ot._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(zn," ").indexOf(t)>=0)return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ot.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dn=ot.now(),Nn=/\?/,Vn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,o=ot.trim(t+"");return o&&!ot.trim(o.replace(Vn,function(e,t,o,a){return n&&t&&(i=0),0===i?e:(n=o||t,i+=!a-!o,"")}))?Function("return "+o)():ot.error("Invalid JSON: "+t)},ot.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+t),n};var Pn,Rn,Ln=/#.*$/,Fn=/([?&])_=[^&]*/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mn=/^(?:GET|HEAD)$/,Hn=/^\/\//,Bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,jn={},_n={},Xn="*/".concat("*");try{Rn=location.href}catch($n){Rn=ht.createElement("a"),Rn.href="",Rn=Rn.href}Pn=Bn.exec(Rn.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rn,type:"GET",isLocal:On.test(Pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ot.ajaxSettings),t):H(ot.ajaxSettings,e)},ajaxPrefilter:O(jn),ajaxTransport:O(_n),ajax:function(e,t){function n(e,t,n,i){var o,c,Z,v,b,x=t;2!==y&&(y=2,s&&clearTimeout(s),u=void 0,r=i||"",w.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(v=B(d,w,n)),v=j(d,v,w,o),o?(d.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(ot.lastModified[a]=b),b=w.getResponseHeader("etag"),b&&(ot.etag[a]=b)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=v.state,c=v.data,Z=v.error,o=!Z)):(Z=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(t||x)+"",o?h.resolveWith(p,[c,x,w]):h.rejectWith(p,[w,x,Z]),w.statusCode(g),g=void 0,l&&f.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?c:Z]),m.fireWith(p,[w,x]),l&&(f.trigger("ajaxComplete",[w,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,a,r,s,l,u,c,d=ot.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ot(p):ot.event,h=ot.Deferred(),m=ot.Callbacks("once memory"),g=d.statusCode||{},Z={},v={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=An.exec(r);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=v[n]=v[n]||e,Z[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return u&&u.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Rn)+"").replace(Ln,"").replace(Hn,Pn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(yt)||[""],null==d.crossDomain&&(i=Bn.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Pn[1]&&i[2]===Pn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Pn[3]||("http:"===Pn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),M(jn,d,t,w),2===y)return w;l=ot.event&&d.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Mn.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Nn.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Fn.test(a)?a.replace(Fn,"$1_="+Dn++):a+(Nn.test(a)?"&":"?")+"_="+Dn++)),d.ifModified&&(ot.lastModified[a]&&w.setRequestHeader("If-Modified-Since",ot.lastModified[a]),ot.etag[a]&&w.setRequestHeader("If-None-Match",ot.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Xn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===y))return w.abort();b="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(u=M(_n,d,t,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{y=1,u.send(Z,n)}catch(x){if(!(2>y))throw x;n(-1,x)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ot.get(e,t,n,"json")},getScript:function(e,t){return ot.get(e,void 0,t,"script")}}),ot.each(["get","post"],function(e,t){ot[t]=function(e,n,i,o){return ot.isFunction(n)&&(o=o||i,i=n,n=void 0),ot.ajax({url:e,type:t,dataType:o,data:n,success:i})}}),ot._evalUrl=function(e){return ot.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(e){if(ot.isFunction(e))return this.each(function(t){ot(this).wrapAll(e.call(this,t))});if(this[0]){var t=ot(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ot.isFunction(e)?function(t){ot(this).wrapInner(e.call(this,t))}:function(){var t=ot(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(n){ot(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ot.css(e,"display"))},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)};var Wn=/%20/g,qn=/\[\]$/,Yn=/\r?\n/g,Gn=/^(?:submit|button|image|reset|file)$/i,Kn=/^(?:input|select|textarea|keygen)/i;ot.param=function(e,t){var n,i=[],o=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){o(this.name,this.value)});else for(n in e)_(n,e[n],t,o);return i.join("&").replace(Wn,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&Kn.test(this.nodeName)&&!Gn.test(e)&&(this.checked||!zt.test(e))}).map(function(e,t){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(e){return{name:t.name,value:e.replace(Yn,"\r\n")}}):{name:t.name,value:n.replace(Yn,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||$()}:X;var Qn=0,Jn={},ei=ot.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Jn)Jn[e](void 0,!0)}),nt.cors=!!ei&&"withCredentials"in ei,ei=nt.ajax=!!ei,ei&&ot.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,i){var o,a=e.xhr(),r=++Qn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"");a.send(e.hasContent&&e.data||null),t=function(n,o){var s,l,u;if(t&&(o||4===a.readyState))if(delete Jn[r],t=void 0,a.onreadystatechange=ot.noop,o)4!==a.readyState&&a.abort();else{u={},s=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(c){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&i(s,l,u,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(t):a.onreadystatechange=Jn[r]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ht.head||ot("head")[0]||ht.documentElement;return{send:function(i,o){t=ht.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ni=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||ot.expando+"_"+Dn++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(t,n,i){var o,a,r,s=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=ot.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+o):t.jsonp!==!1&&(t.url+=(Nn.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||ot.error(o+" was not called"),r[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){r=arguments},i.always(function(){e[o]=a,t[o]&&(t.jsonpCallback=n.jsonpCallback,ti.push(o)),r&&ot.isFunction(a)&&a(r[0]),r=a=void 0}),"script"):void 0}),ot.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ht;var i=dt.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=ot.buildFragment([e],t,o),o&&o.length&&ot(o).remove(),ot.merge([],i.childNodes))};var ii=ot.fn.load;ot.fn.load=function(e,t,n){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var i,o,a,r=this,s=e.indexOf(" ");return s>=0&&(i=ot.trim(e.slice(s,e.length)),e=e.slice(0,s)),ot.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),r.length>0&&ot.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){o=arguments,r.html(i?ot("<div>").append(ot.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){r.each(n,o||[e.responseText,t,e])}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length};var oi=e.document.documentElement;ot.offset={setOffset:function(e,t,n){var i,o,a,r,s,l,u,c=ot.css(e,"position"),d=ot(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),a=ot.css(e,"top"),l=ot.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ot.inArray("auto",[a,l])>-1,u?(i=d.position(),r=i.top,o=i.left):(r=parseFloat(a)||0,o=parseFloat(l)||0),ot.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+r),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):d.css(p)}},ot.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return t=a.documentElement,ot.contains(t,o)?(typeof o.getBoundingClientRect!==Tt&&(i=o.getBoundingClientRect()),n=W(a),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ot.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(n=e.offset()),n.top+=ot.css(e[0],"borderTopWidth",!0),n.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ot.css(i,"marginTop",!0),left:t.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||oi;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||oi})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ot.fn[e]=function(i){return It(this,function(e,i,o){var a=W(e);return void 0===o?a?t in a?a[t]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(n?ot(a).scrollLeft():o,n?o:ot(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),ot.each(["top","left"],function(e,t){ot.cssHooks[t]=E(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),on.test(n)?ot(e).position()[t]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(e,t){ot.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ot.fn[i]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||o===!0?"margin":"border");return It(this,function(t,n,i){var o;return ot.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?ot.css(t,n,r):ot.style(t,n,i,r)},t,a?i:void 0,a,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var ai=e.jQuery,ri=e.$;return ot.noConflict=function(t){return e.$===ot&&(e.$=ri),t&&e.jQuery===ot&&(e.jQuery=ai),ot},typeof t===Tt&&(e.jQuery=e.$=ot),ot}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)},fire:function(t,n,i){var o=e.Event(n);return t.trigger(o,i),o.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var o,a,r,s,l,u,c,d;
if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,u=i.data("with-credentials")||null,c=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){o=i.attr("method"),a=i.attr("action"),r=i.serializeArray();var p=i.data("ujs:submit-button");p&&(r.push(p),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(o=i.data("method"),a=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",a=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(o=i.data("method"),a=n.href(i),r=i.data("params")||null);return d={type:o||"GET",data:r,dataType:c,beforeSend:function(e,o){return o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),n.fire(i,"ajax:beforeSend",[e,o])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},u&&(d.xhrFields={withCredentials:u}),a&&(d.url=a),n.ajax(d)}return!1},handleMethod:function(i){var o=n.href(i),a=i.data("method"),r=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),u=e('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';l!==t&&s!==t&&(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),r&&u.attr("target",r),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),e.data("ujs:enable-with",e[n]()),i!==t&&e[n](i),e.prop("disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,i=e.data("confirm"),o=!1;return i?(n.fire(e,"confirm")&&(o=n.confirm(i),t=n.fire(e,"confirm:complete",[o])),o&&t):!0},blankInputs:function(t,n,i){var o,a,r=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(o=e(this),a=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!a==!i){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;r=r.add(o)}}),r.length?r:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");e.data("ujs:enable-with",e.html()),i!==t&&e.html(i),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var o=e(this),a=o.data("method"),r=o.data("params"),s=i.metaKey||i.ctrlKey;if(!n.allowAction(o))return n.stopEverything(i);if(!s&&o.is(n.linkDisableSelector)&&n.disableElement(o),o.data("remote")!==t){if(s&&(!a||"GET"===a)&&!r)return!0;var l=n.handleRemote(o);return l===!1?n.enableElement(o):l.fail(function(){n.enableElement(o)}),!1}return a?(n.handleMethod(o),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return o===!1?n.enableFormElement(i):o.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var o,a,r=e(this),s=r.data("remote")!==t;if(!n.allowAction(r))return n.stopEverything(i);if(r.attr("novalidate")==t&&(o=n.blankInputs(r,n.requiredInputSelector),o&&n.fire(r,"ajax:aborted:required",[o])))return n.stopEverything(i);if(s){if(a=n.nonBlankInputs(r,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var o=i.attr("name"),a=o?{name:o,value:i.val()}:null;i.closest("form").data("ujs:submit-button",a)}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(){var e,t,n,i,o,a,r,s,l,u,c,d,p,f,h,m,g,Z,v,y,b,w,x,T,S,k,E,C,U,I,z,D,N,V,P,R,L,F,A,O,M,H,B,j,_,X,$,W,q,Y,G,K,Q,J,et,tt,nt=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},it=function(e,t){function n(){this.constructor=e}for(var i in t)ot.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},ot={}.hasOwnProperty,at=[].slice,rt=function(e,t){return function(){return e.apply(t,arguments)}};V={},p=10,K=!1,A=null,v=null,D=null,H=null,tt=null,i={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},T=function(e){var t;return e=new n(e),$(),d(),null!=A&&A.start(),K&&(t=Q(e.absolute))?(S(t),k(e,null,!1)):k(e,Y)},Q=function(e){var t;return t=V[e],t&&!t.transitionCacheDisabled?t:void 0},b=function(e){return null==e&&(e=!0),K=e},y=function(e){return null==e&&(e=!0),u?e?null!=A?A:A=new a("html"):(null!=A&&A.uninstall(),A=null):void 0},k=function(e,t,n){return null==n&&(n=!0),J(i.FETCH,{url:e.absolute}),null!=tt&&tt.abort(),tt=new XMLHttpRequest,tt.open("GET",e.withoutHashForIE10compatibility(),!0),tt.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),tt.setRequestHeader("X-XHR-Referer",H),tt.onload=function(){var n;return J(i.RECEIVE,{url:e.absolute}),(n=F())?(B(e),j(),f.apply(null,x(n)),N(),"function"==typeof t&&t(),J(i.LOAD)):document.location.href=Z()||e.absolute},A&&n&&(tt.onprogress=function(){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:A.value+(100-A.value)/10,A.advanceTo(t)}}(this)),tt.onloadend=function(){return tt=null},tt.onerror=function(){return document.location.href=e.absolute},tt.send()},S=function(e){return null!=tt&&tt.abort(),f(e.title,e.body),O(e),J(i.RESTORE)},d=function(){var e;return e=new n(v.url),V[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(p)},R=function(e){return null==e&&(e=p),/^[\d]+$/.test(e)?p=parseInt(e):void 0},m=function(e){var t,n,o,a,r,s;for(r=Object.keys(V),t=r.map(function(e){return V[e].cachedAt}).sort(function(e,t){return t-e}),s=[],n=0,a=r.length;a>n;n++)o=r[n],V[o].cachedAt<=t[e]&&(J(i.EXPIRE,V[o]),s.push(delete V[o]));return s},f=function(t,n,o,a){return J(i.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(n,document.body),null!=o&&e.update(o),G(),a&&w(),v=window.history.state,null!=A&&A.done(),J(i.CHANGE),J(i.UPDATE)},w=function(){var e,t,n,i,o,a,r,s,l,u,c,d;for(d=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,o=d.length;o>n;n++)if(c=d[n],""===(l=c.type)||"text/javascript"===l){for(t=document.createElement("script"),u=c.attributes,i=0,a=u.length;a>i;i++)e=u[i],t.setAttribute(e.name,e.value);c.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(c.innerHTML)),s=c.parentNode,r=c.nextSibling,s.removeChild(c),s.insertBefore(t,r)}},W=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},G=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},B=function(e){return(e=new n(e)).absolute!==H?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},j=function(){var e,t;return(e=tt.getResponseHeader("X-XHR-Redirected-To"))?(e=new n(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",e.href+t)):void 0},Z=function(){var e;return null!=(e=tt.getResponseHeader("Location"))&&new n(e).crossOrigin()?e:void 0},$=function(){return H=document.location.href},X=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},_=function(){return v=window.history.state},N=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new n).hasNoHash()?(window.history.replaceState(v,"",e.withoutHash()),document.location.hash=e.hash):void 0},O=function(e){return window.scrollTo(e.positionX,e.positionY)},Y=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},h=function(e){var t,n,i;if(null==e||"object"!=typeof e)return e;t=new e.constructor;for(n in e)i=e[n],t[n]=h(i);return t},L=function(e){var t,n;return n=(null!=(t=document.cookie.match(new RegExp(e+"=(\\w+)")))?t[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},J=function(e,t){var n;return"undefined"!=typeof Prototype&&Event.fire(document,e,t,!0),n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},P=function(e){return!J(i.BEFORE_CHANGE,{url:e})},F=function(){var e,t,n,i,o,a;return t=function(){var e;return 400<=(e=tt.status)&&600>e},a=function(){var e;return null!=(e=tt.getResponseHeader("Content-Type"))&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(e){var t,n,i,o,a;for(o=e.querySelector("head").childNodes,a=[],t=0,n=o.length;n>t;t++)i=o[t],null!=("function"==typeof i.getAttribute?i.getAttribute("data-turbolinks-track"):void 0)&&a.push(i.getAttribute("src")||i.getAttribute("href"));return a},e=function(e){var t;return D||(D=i(document)),t=i(e),t.length!==D.length||o(t,D).length!==D.length},o=function(e,t){var n,i,o,a,r;for(e.length>t.length&&(o=[t,e],e=o[0],t=o[1]),a=[],n=0,i=e.length;i>n;n++)r=e[n],nt.call(t,r)>=0&&a.push(r);return a},!t()&&a()&&(n=g(tt.responseText),n&&!e(n))?n:void 0},x=function(t){var n;return n=t.querySelector("title"),[null!=n?n.textContent:void 0,W(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},g=function(e){var t;return t=document.documentElement.cloneNode(),t.innerHTML=e,t.head=t.querySelector("head"),t.body=t.querySelector("body"),t},n=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),o=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void t.__super__.constructor.apply(this,arguments))}return it(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,i,o;for(n=1<=arguments.length?at.call(arguments,0):[],i=0,o=n.length;o>i;i++)e=n[i],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.originalElement;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(n),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(P(this.link.absolute)||et(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new o(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),a=function(){function e(e){this.elementSelector=e,this._trickle=rt(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var t;return t="turbolinks-progress-bar",e.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(t),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},e.prototype.uninstall=function(){return this.element.classList.remove(t),document.head.removeChild(this.styleElement)},e.prototype.start=function(){return this.advanceTo(5)},e.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&100>=t){if(this.value=e,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},e.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},e.prototype._reset=function(){var e;return e=this.opacity,setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(t){return function(){return t.value=0,t.opacity=e,t._withSpeed(0,function(){return t._updateStyle(!0)})}}(this),this.speed)},e.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},e.prototype._stopTrickle=function(){return delete this.trickling},e.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},e.prototype._withSpeed=function(e,t){var n,i;return n=this.speed,this.speed=e,i=t(),this.speed=n,i},e.prototype._updateStyle=function(e){return null==e&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},e.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},e.prototype._createCSSRule=function(){return this.elementSelector+"."+t+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},e}(),c=function(e){return setTimeout(e,500)},U=function(){return document.addEventListener("DOMContentLoaded",function(){return J(i.CHANGE),J(i.UPDATE)},!0)},z=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t){return jQuery.trim(t.responseText)?J(i.UPDATE):void 0}):void 0},I=function(e){var t,i;return(null!=(i=e.state)?i.turbolinks:void 0)?(t=V[new n(e.state.url).absolute])?(d(),S(t)):et(e.target.location.href):void 0},C=function(){return X(),_(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(){return X(),_()},!1),c(function(){return window.addEventListener("popstate",I,!1)})},E=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&E,r=!navigator.userAgent.match(/CriOS\//),q="GET"===(M=L("request_method"))||""===M,u=l&&r&&q,s=document.addEventListener&&document.createEvent,s&&(U(),z()),u?(et=T,C()):et=function(e){return document.location.href=e},this.Turbolinks={visit:et,pagesCached:R,enableTransitionCache:b,enableProgressBar:y,allowLinkExtensions:o.allowExtensions,supported:u,EVENTS:h(i)}}.call(this),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.affix"),a="object"==typeof t&&t;o||i.data("bs.affix",o=new n(this,a)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var o=this.$target.scrollTop(),a=this.$element.offset(),r=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o?"top":!1;if("bottom"==this.affixed)return null!=n?o+this.unpin<=a.top?!1:"bottom":e-i>=o+r?!1:"bottom";var s=null==this.affixed,l=s?o:a.top,u=s?r:t;return null!=n&&n>=o?"top":null!=i&&l+u>=e-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,o=i.top,a=i.bottom,r=e(document.body).height();"object"!=typeof i&&(a=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var s=this.getState(r,t,o,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:r-t-a})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){r.detach().trigger("closed.bs.alert").remove()}var o=e(this),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var r=e(a);t&&t.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.button"),a="object"==typeof t&&t;o||i.data("bs.button",o=new n(this,a)),"toggle"==t?o.toggle():t&&o.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",a=i.data();t+="Text",null==a.resetText&&i.data("resetText",i[o]()),setTimeout(e.proxy(function(){i[o](null==a[t]?this.options[t]:a[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.carousel"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),r="string"==typeof t?t:a.slide;o||i.data("bs.carousel",o=new n(this,a)),"number"==typeof t?o.to(t):r?o[r]():a.interval&&o.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var o="prev"==e?-1:1,a=(n+o)%this.$items.length;return this.$items.eq(a)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var o=this.$element.find(".item.active"),a=i||this.getItemForDirection(t,o),r=this.interval,s="next"==t?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var u=a[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,o.addClass(s),a.addClass(s),o.one("bsTransitionEnd",function(){a.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),r&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var o=function(n){var i,o=e(this),a=e(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var r=e.extend({},a.data(),o.data()),s=o.attr("data-slide-to");s&&(r.interval=!1),t.call(a,r),s&&a.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),a=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!o&&a.toggle&&/show|hide/.test(t)&&(a.toggle=!1),o||n.data("bs.collapse",o=new i(this,a)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.4",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var a=e.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),t||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[r](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var o=e(i);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=e(this);o.attr("data-target")||i.preventDefault();var a=t(o),r=a.data("bs.collapse"),s=r?"toggle":o.data();n.call(a,s)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(o).remove(),e(a).each(function(){var i=e(this),o=n(i),a={relatedTarget:this};o.hasClass("open")&&(o.trigger(t=e.Event("hide.bs.dropdown",a)),t.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",a)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var o=".dropdown-backdrop",a='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.4",r.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var a=n(o),r=a.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(a.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),r=o.hasClass("open");if(!r&&27!=t.which||r&&27==t.which)return 27==t.which&&o.find(a).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=o.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var u=l.index(t.target);38==t.which&&u>0&&u--,40==t.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this
},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a,r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var o=e(this),a=o.data("bs.modal"),r=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);a||o.data("bs.modal",a=new n(this,r)),"string"==typeof t?a[t](i):r.show&&a.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:t});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&o;if(this.$backdrop=e('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),o=i.attr("href"),a=e(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(a,r,this)})}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),o=i.data("bs.scrollspy"),a="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new t(this,a)),"string"==typeof n&&o[n]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),a=/^#./.test(o)&&e(o);return a&&a.length&&a.is(":visible")&&[[a[n]().top+i,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return r!=(e=a[a.length-1])&&this.activate(e);if(r&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)r!=a[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof t&&o[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a"),a=e.Event("hide.bs.tab",{relatedTarget:t[0]}),r=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(a),t.trigger(r),!r.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(t,i,o){function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=i.find("> .active"),s=o&&e.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a(),r.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var o=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.tooltip"),a="object"==typeof t&&t;(o||!/destroy|hide/.test(t))&&(o||i.data("bs.tooltip",o=new n(this,a)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),a=o.length;a--;){var r=o[a];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var o=this,a=this.tip(),r=this.getUID(this.type);this.setContent(),a.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var c=this.getPosition(),d=a[0].offsetWidth,p=a[0].offsetHeight;if(u){var f=s,h=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(h);s="bottom"==s&&c.bottom+p>m.bottom?"top":"top"==s&&c.top-p<m.top?"bottom":"right"==s&&c.right+d>m.width?"left":"left"==s&&c.left-d<m.left?"right":s,a.removeClass(f).addClass(s)}var g=this.getCalculatedOffset(s,c,d,p);this.applyPlacement(g,s);var Z=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",Z).emulateTransitionEnd(n.TRANSITION_DURATION):Z()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=a&&(t.top=t.top+a-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(n),p=d?2*c.left-o+l:2*c.top-a+u,f=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=o.hoverState&&a.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,a=e(this.$tip),r=e.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var a=i?{top:0,left:0}:t.offset(),r={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,r,s,a)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-r.scroll,l=t.top+a-r.scroll+i;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var u=t.left-a,c=t.left+a+n;u<r.left?o.left=r.left-u:c>r.width&&(o.left=r.left+r.width-c)}return o},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.popover"),a="object"==typeof t&&t;(o||!/destroy|hide/.test(t))&&(o||i.data("bs.popover",o=new n(this,a)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),function(){(function(){return this}).call().Z={}}(),Z.version="2.3.01 Express",Z.showImage=function(e,t,n){Z.showImage.done?(Z.Utils.declareGlobals(),Z.pageContainerID=e,Z.imagePath="undefined"!=typeof t&&null!==t?Z.Utils.stringRemoveTrailingSlashCharacters(t):null,"undefined"!=typeof n&&(Z.parameters=Z.Utils.parseParameters(n)),Z.initialize()):(Z.showImage.done=!0,Z.Utils.addCrossBrowserMethods(),Z.Utils.addCrossBrowserEvents(),Z.Utils.declareGlobals(),Z.pageContainerID=e,Z.setCallback=function(e,t){var n=Z.Utils.arrayIndexOfObjectTwoValues(Z.callbacks,"callbackEvent",e,null,"callbackFunction",t);-1==n&&(n=Z.callbacks.length),Z.callbacks[n]={callbackEvent:e,callbackFunction:t}},Z.clearCallback=function(e,t){var n=Z.Utils.arrayIndexOfObjectTwoValues(Z.callbacks,"callbackEvent",e,null,"callbackFunction",t);-1!=n&&(Z.callbacks=Z.Utils.arraySplice(Z.callbacks,n,1))},Z.imagePath="undefined"!=typeof t&&null!==t?Z.Utils.stringRemoveTrailingSlashCharacters(t):null,"undefined"!=typeof n&&("string"==typeof n?(e=unescape(n),e=Z.Utils.stringUnescapeAmpersandCharacters(e),Z.parameters=Z.Utils.parseParameters(e)):Z.parameters=Z.Utils.parseParameters(n)),"complete"!=document.readyState?(Z.Utils.addEventListener(document,"DOMContentLoaded",Z.initialize),Z.Utils.addEventListener(window,"load",Z.initialize)):Z.initialize())},Z.initialize=function(){Z.Utils.removeEventListener(document,"DOMContentLoaded",Z.initialize),Z.Utils.removeEventListener(window,"load",Z.initialize),Z.Utils.detectBrowserFeatures(),Z.Utils.setParameters(Z.parameters),Z.Viewer=new Z.ZoomifyImageViewer,Z.Viewer.configureViewer()},Z.ZoomifyImageViewer=function(){function e(){document.getElementsByTagName("body")?document.getElementsByTagName("body")[0].onorientationchange=t:window.setTimeout(e,100)}function t(){!Z.interactivityOff&&Z.fullView&&(Z.ToolbarDisplay&&Z.toolbarAutoShowHide&&Z.Toolbar.show(!1),Z.NavigatorDisplay&&1<Z.navigatorVisible&&Z.Navigator.setVisibility(!1),Z.Viewport&&(Z.Viewport.toggleFullViewMode(!1),Z.Viewport.toggleFullViewMode(!0)),Z.NavigatorDisplay&&1<Z.navigatorVisible&&Z.Navigator.setVisibility(!0),Z.ToolbarDisplay&&Z.toolbarAutoShowHide&&Z.Toolbar.show(!0))}function n(e){if(e=Z.Utils.event(e),18==e.keyCode||e.altKey||Z.viewportCurrent.zoomAndPanAllStop(!0,!0),e){var t=e.type;if(e=e.keyCode,"keydown"==t)switch(Z.keyIsDown=!0,e){case 90:Z.viewportCurrent.zoom("out");break;case 17:Z.viewportCurrent.zoom("out");break;case 65:Z.viewportCurrent.zoom("in");break;case 16:Z.viewportCurrent.zoom("in");break;case 37:Z.animation&&Z.viewportCurrent.getZoom()==Z.minZ||Z.viewportCurrent.pan("left");break;case 38:Z.animation&&Z.viewportCurrent.getZoom()==Z.minZ||Z.viewportCurrent.pan("up");break;case 40:Z.animation&&Z.viewportCurrent.getZoom()==Z.minZ||Z.viewportCurrent.pan("down");break;case 39:Z.animation&&Z.viewportCurrent.getZoom()==Z.minZ||Z.viewportCurrent.pan("right");break;case 27:Z.fullView?Z.viewportCurrent.toggleFullViewMode(!1):Z.viewportCurrent.reset()}else"keyup"==t&&(Z.keyIsDown=!1,90==e||17==e||65==e||16==e?Z.viewportCurrent.zoom("stop"):37==e||39==e?Z.viewportCurrent.pan("horizontalStop"):38!=e&&40!=e||Z.viewportCurrent.pan("verticalStop"))}}function i(e){e=Z.Utils.event(e);var t=e.type;if(e&&t){var n=Z.Utils.isRightMouseButton(e),i=e.altKey;if(!("mouseover"!=t&&"mouseout"!=t&&Z.interactivityOff||"mousedown"==t&&(Z.interactivityOff||Z.coordinatesVisible&&i)||n)){switch(Z.touchSupport&&!Z.clickZoomAndPanBlock&&"touchmove"!=t&&"gesturechange"!=t&&e.preventDefault(),t){case"mouseover":Z.fullView||"TEXTAREA"==document.activeElement.tagName||Z.Viewer.initializeViewerKeyDefaultListeners(!0);break;case"mouseout":Z.Viewer.initializeViewerKeyDefaultListeners(!1)}var i=Z.Utils.event(e),a=i.type;if(i&&a){var r;switch(e=Z.Utils.target(i),n=Z.Utils.relatedTarget(i),"resize"!=a&&(r=Z.Utils.getMousePosition(i)),"DOMMouseScroll"==a&&(a="mousewheel"),a){case"mouseover":i=Z.Utils.nodeIsInViewer(e),a=Z.Utils.nodeIsInViewer(n),i&&a||(Z.ToolbarDisplay&&Z.toolbarAutoShowHide&&Z.Toolbar.show(!0),Z.NavigatorDisplay&&1<Z.navigatorVisible&&Z.Navigator.setVisibility(!0),Z.mouseOutDownPoint=null);break;case"mouseout":i=Z.Utils.nodeIsInViewer(e),a=Z.Utils.nodeIsInViewer(n),i&&a||"[object HTMLSelectElement]"==e||"[object HTMLOptionElement]"==e||"[object HTMLSelectElement]"==n||"[object HTMLOptionElement]"==n||(Z.mouseIsDown?Z.mouseOutDownPoint=new Z.Utils.Point(r.x,r.y):(Z.ToolbarDisplay&&Z.toolbarAutoShowHide&&Z.Toolbar.show(!1),Z.NavigatorDisplay&&1<Z.navigatorVisible&&Z.Navigator.setVisibility(!1)));break;case"resize":u||(u=window.setTimeout(o,c));break;case"mousewheel":r=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)),Z.viewportCurrent.mouseWheelHandler(r)}}if("mousedown"==t||"mousemove"==t)return!1}}}function o(){u&&(window.clearTimeout(u),u=null,a())}function a(){var e=Z.Utils.getContainerSize(Z.pageContainer,Z.ViewerDisplay),t=Z.viewportCurrent.calculateZoomForResize(Z.viewportCurrent.getZoom(),Z.viewerW,Z.viewerH,e.x,e.y);r.resizeViewer(e.x,e.y,t)}var r=this,s=[];Z.ViewerDisplay=Z.Utils.createContainerElement("div","ViewerDisplay","inline-block","relative","hidden","100%","100%","0px","0px","none","0px","transparent none","0px","0px","normal","pointer"),Z.pageContainer=document.getElementById(Z.pageContainerID),Z.Utils.getElementStyle(Z.pageContainer),Z.ViewerDisplay.style["-webkit-touch-callout"]="none",Z.ViewerDisplay.style["-moz-user-select"]="none",Z.ViewerDisplay.style["-khtml-user-select"]="none",Z.ViewerDisplay.style["-webkit-user-select"]="none",Z.ViewerDisplay.style["-ms-user-select"]="none",Z.ViewerDisplay.style["-o-user-select"]="none",Z.ViewerDisplay.style["user-select"]="none";var l=Z.Utils.getContainerSize(Z.pageContainer,Z.ViewerDisplay);Z.viewerW=l.x,Z.viewerH=l.y,Z.pageContainer.innerHTML="",Z.pageContainer.appendChild(Z.ViewerDisplay),Z.autoResize=!1!==Z.autoResize&&Z.Utils.isElementFluid(Z.pageContainer);var u,c=parseInt(Z.Utils.getResource("DEFAULT_AUTORESIZESKIPDURATION"),10);Z.mouseWheelCompleteDuration=parseInt(Z.Utils.getResource("z165"),10),this.configureViewer=function(){function t(){Z.clearCallback(o,t),r.initializeViewerKeyEventListeners(!0),Z.Utils.addEventListener(Z.ViewerDisplay,"mouseover",i),Z.Utils.addEventListener(Z.ViewerDisplay,"mouseout",i),Z.Utils.addEventListener(Z.ViewerDisplay,"mousemove",Z.Utils.preventDefault),Z.Utils.addEventListener(Z.ViewerDisplay,"mousewheel",i),Z.Utils.addEventListener(Z.ViewerDisplay,"mousewheel",Z.Utils.preventDefault),e(),Z.autoResize&&Z.Utils.addEventListener(window,"resize",i),r.configureComponents(Z.viewportCurrent)}function n(){Z.clearCallback("readyViewer",n)}var o=Z.imageSet?"initializedViewer":"initializedViewport";Z.setCallback(o,t),Z.setCallback("readyViewer",n),Z.Viewport=new Z.ZoomifyViewport,Z.viewportCurrent=Z.Viewport},this.configureComponents=function(e){0<Z.toolbarVisible&&!Z.Toolbar&&(Z.Toolbar=new Z.ZoomifyToolbar(e)),0<Z.navigatorVisible&&!Z.Navigator&&(Z.Navigator=new Z.ZoomifyNavigator(e),Z.Navigator&&Z.Navigator.z682())},this.getVersion=function(){return Z.version},this.setSizeAndPosition=function(e,t,n,i,o){Z.viewerW=e,Z.viewerH=t,Z.ViewerDisplay.style.width=e+"px",Z.ViewerDisplay.style.height=t+"px",Z.Viewport&&Z.Viewport.getStatus("initialized")&&Z.Viewport.setSizeAndPosition(e,t,n,i),t=1==Z.toolbarPosition?t-Z.toolbarH:0,Z.ToolbarDisplay&&Z.Toolbar.getInitialized()&&(Z.Toolbar.setSizeAndPosition(e,null,null,t),Z.toolbarAutoShowHide&&Z.Toolbar.show(!0)),Z.NavigatorDisplay&&Z.Navigator.getInitialized()&&(Z.Navigator.setSizeAndPosition(null,null,n,i,Z.navigatorFit),1<Z.navigatorVisible&&Z.Navigator.setVisibility(!0)),o&&Z.Viewport.updateView(!0)},this.getImagePath=function(){return r.getImage()},this.getImage=function(){return Z.imagePath},this.setImagePath=function(e,t){"undefined"!=typeof t&&Z.Utils.stringValidate(t)&&(Z.imageProperties=t),r.setImage(e)},this.setImage=function(e,t,n){Z.Viewport&&(Z.Viewport.getStatus("initialized")||n)&&(Z.Viewport.zoomAndPanAllStop(!0),Z.Utils.clearImageParameters(),Z.imagePath=Z.Utils.stringRemoveTrailingSlashCharacters(e),Z.Utils.validateImagePath(),Z.Viewport.setImagePath(Z.imagePath),"undefined"!=typeof t&&(Z.parameters=Z.Utils.parseParameters(t)),n&&Z.Utils.setParameters(Z.parameters),"unconverted"==Z.tileSource?Z.Viewport.loadUnconvertedImage(e):Z.imageProperties?(e=Z.Utils.xmlConvertTextToDoc(Z.imageProperties),Z.Viewport.z602(e)):(e=new Z.NetConnector,Z.Viewport.loadImageProperties(Z.imagePath,e)))},this.setImageWithFade=function(e,t,n){Z.Viewport&&(Z.Viewport.getStatus("initialized")||n)&&(Z.slideTransitionTimeout=window.setTimeout(function(){Z.Viewport.slideTransitionTimeoutHandler("out",e,t,n)},50))},this.getStatus=function(e){return e=Z.Utils.arrayIndexOfObjectValue(s,"state",e),-1==e?!1:s[e].status},this.setStatus=function(e,t){var n=!1,i=Z.Utils.arrayIndexOfObjectValue(s,"state",e);-1==i?(n=t,s[s.length]={state:e,status:t}):(!s[i].status&&t&&(n=!0),s[i].status=t),n&&(Z.Utils.validateCallback(e+"Viewer"),r.validateViewerReady(e))},this.validateViewerStatus=function(e){var t=!0;if(Z.imageSet)for(var n=0,i=Z.imageSetLength;i>n;n++)if(!Z["Viewport"+n.toString()].getStatus(e)){t=!1;break}t&&r.setStatus(e,!0)},this.validateViewerReady=function(e){e=Z.Viewport&&Z.Viewport.getStatus("initialized")&&("unconverted"==Z.tileSource||Z.Viewport.getStatus("precacheLoaded")&&Z.Viewport.getStatus("backfillLoaded")&&Z.Viewport.getStatus("backfillDrawn"))&&Z.Viewport.getStatus("displayLoaded")&&Z.Viewport.getStatus("displayDrawn");var t=!Z.hotspots||Z.Viewport.getStatus("hotspotsLoaded"),n=!Z.annotations||Z.Viewport.getStatus("annotationsLoaded")&&Z.Viewport.getStatus("annotationPanelInitialized"),i=0==Z.ToolbarVisible||Z.Toolbar&&Z.Toolbar.getInitialized(),o=!Z.NavigatorVisible||Z.Navigator&&Z.Navigator.getInitialized(),a=!Z.RulerVisible||Z.Ruler&&Z.Ruler.getInitialized(),r=!Z.imageSet||Z.Viewer&&Z.Viewer.getStatus("initialized")&&("unconverted"==Z.tileSource||Z.Viewer.getStatus("precacheLoaded")&&Z.Viewer.getStatus("backfillLoaded")&&Z.Viewer.getStatus("backfillDrawn"))&&Z.Viewer.getStatus("displayLoaded")&&Z.Viewer.getStatus("displayDrawn"),s=!Z.imageSet||!Z.hotspots||Z.Viewer&&Z.Viewer.getStatus("hotspotsLoaded"),l=!Z.imageSet||!Z.annotations||Z.Viewer&&Z.Viewer.getStatus("annotationsLoaded")&&Z.Viewer.getStatus("annotationPanelInitialized");return(e=e&&t&&n&&i&&o&&a&&r&&s&&l)&&Z.Viewer.setStatus("ready",!0),e},this.initializeViewerKeyEventListeners=function(e){e?(Z.Utils.addEventListener(document,"keydown",n),Z.Utils.addEventListener(document,"keyup",n)):(Z.Utils.removeEventListener(document,"keydown",n),Z.Utils.removeEventListener(document,"keyup",n))},this.initializeViewerKeyDefaultListeners=function(e){e?(Z.Utils.addEventListener(document,"keydown",Z.Utils.preventDefault),Z.Utils.addEventListener(document,"keyup",Z.Utils.preventDefault)):(Z.Utils.removeEventListener(document,"keydown",Z.Utils.preventDefault),Z.Utils.removeEventListener(document,"keyup",Z.Utils.preventDefault))},this.autoResizeViewer=function(){a()},this.resizeViewer=function(e,t,n){r.setSizeAndPosition(e,t,0,0,!1),Z.viewportCurrent.resizeViewport(Z.imageX,Z.imageY,n,Z.imageR)},this.z586=function(){Z.mouseWheelIsDown=!1,Z.mouseWheelCompleteTimer&&(window.clearTimeout(Z.mouseWheelCompleteTimer),Z.mouseWheelCompleteTimer=null,Z.zooming="stop",Z.viewportCurrent.updateView(!0))}},Z.ZoomifyViewport=function(e,t){function n(e,t,n,i,o){if(r(),Z.imageW=e,Z.imageH=t,Z.imageCenterX=Z.imageW/2,Z.imageCenterY=Z.imageH/2,Ut=o,It=n,zt=i,c(),s(en,tn,nn,on),Tt.validateXYZDefaults(),Mt>Qn?(Ot=F(_t,Z.initialZ),at&&st.scale(Ot,Ot)):st=rt=at=null,At=F(Bt,Z.initialZ),Ft=Lt=F(Ht,Z.initialZ),Z.useCanvas)try{vt.scale(Lt,Lt)
}catch(a){Z.Utils.showMessage(Z.Utils.getResource("ERROR_SCALINGCANVASFORUNCONVERTEDIMAGE")),console.log("In function initializeViewportContinue scaling canvas:  "+a)}"unconverted"!=Z.tileSource&&Tt.z619(),j(Z.initialX,Z.initialY,Z.initialZ,Z.initialR,null,!0),Z.initialFullPage&&Tt.toggleFullViewMode(!0),Z.Utils.addEventListener(ut,"mousedown",q),Z.Utils.addEventListener(ut,"mousemove",Z.Utils.preventDefault),Z.Utils.addEventListener(ut,"touchstart",q),Z.Utils.addEventListener(ut,"touchmove",q),Z.Utils.addEventListener(ut,"touchend",q),Z.Utils.addEventListener(ut,"touchcancel",q),Z.Utils.addEventListener(ut,"gesturestart",q),Z.Utils.addEventListener(ut,"gesturechange",q),Z.Utils.addEventListener(ut,"gestureend",q),Z.Utils.addEventListener(pt,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(gt,"contextmenu",Z.Utils.preventDefault),Tt.setStatus("initialized",!0),Tt.syncViewportRelated()}function i(e,t,n,i,o){Tt.setStatus("initialized",!1),Tn=xn=0,"undefined"!=typeof vn&&Z.Utils.arrayClear(vn),"undefined"!=typeof yn&&Z.Utils.arrayClear(yn),"undefined"!=typeof Zn&&Z.Utils.arrayClear(Zn),"undefined"!=typeof Fn&&Z.Utils.arrayClear(Fn),"undefined"!=typeof An&&Z.Utils.arrayClear(An),"undefined"!=typeof On&&Z.Utils.arrayClear(On),"undefined"!=typeof Mn&&Z.Utils.arrayClear(Mn),"undefined"!=typeof Hn&&Z.Utils.arrayClear(Hn),"undefined"!=typeof Bn&&Z.Utils.arrayClear(Bn),"undefined"!=typeof bn&&Z.Utils.arrayClear(bn),"undefined"!=typeof wn&&Z.Utils.arrayClear(wn),"undefined"!=typeof Yn&&Z.Utils.arrayClear(Yn),"undefined"!=typeof qn&&Z.Utils.arrayClear(qn),"undefined"!=typeof Wn&&Z.Utils.arrayClear(Wn),"undefined"!=typeof Gn&&Z.Utils.arrayClear(Gn),at&&Z.Utils.clearDisplay(at),pt&&Z.Utils.clearDisplay(pt),gt&&Z.Utils.clearDisplay(gt),bt&&Z.Utils.clearDisplay(bt),Z.imageW=e,Z.imageH=t,Z.imageCenterX=Z.imageW/2,Z.imageCenterY=Z.imageH/2,Ut=o,It=n,zt=i,c(),Z.Utils.setParameters(Z.parameters),a(),r(),Tt.validateXYZDefaults(),Mt>Qn?(Ot=F(_t,Z.initialZ),st.restore(),st.scale(Ot,Ot)):at=rt=st=null,At=F(Bt,Z.initialZ),Ft=Lt=F(Ht,Z.initialZ),Z.useCanvas&&(vt.restore(),vt.scale(Lt,Lt)),"unconverted"!=Z.tileSource&&Tt.z619(),Tt.setSizeAndPosition(en,tn,nn,on),j(Z.initialX,Z.initialY,Z.initialZ,Z.initialR,null,!0),Tt.setStatus("initialized",!0),Z.Navigator&&0<Z.navigatorVisible&&Z.Navigator.setImage(Z.imagePath)}function o(){Mt=1,Bt=Ht=0,jt=!1,"undefined"!=typeof $t&&Z.Utils.arrayClear($t),"undefined"!=typeof Wt&&Z.Utils.arrayClear(Wt),"undefined"!=typeof qt&&Z.Utils.arrayClear(qt),"undefined"!=typeof Yt&&Z.Utils.arrayClear(Yt),"undefined"!=typeof Gt&&Z.Utils.arrayClear(Gt),"undefined"!=typeof Kt&&Z.Utils.arrayClear(Kt),"undefined"!=typeof tierTileOffsetsCount&&Z.Utils.arrayClear(tierTileOffsetsCount),"undefined"!=typeof tierTileOffsetChunks&&Z.Utils.arrayClear(tierTileOffsetChunks),"undefined"!=typeof tierTileOffsetLast&&Z.Utils.arrayClear(tierTileOffsetLast),"undefined"!=typeof Qt&&Z.Utils.arrayClear(Qt),"undefined"!=typeof tierTileByteCountsCount&&Z.Utils.arrayClear(tierTileByteCountsCount),"undefined"!=typeof tierTileByteCountChunks&&Z.Utils.arrayClear(tierTileByteCountChunks),"undefined"!=typeof tierTileByteCountLast&&Z.Utils.arrayClear(tierTileByteCountLast)}function a(e){("undefined"==typeof e||null===e)&&(e=0),e=e.toString(),Z.useCanvas&&!at&&(ot=Z.Utils.createContainerElement("canvas","oversizeDisplay"+e,"inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),Z.ViewerDisplay.appendChild(ot),at=ot,rt=at.style),ut||(lt=Z.Utils.createContainerElement("div","viewportContainer"+e,"inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),Z.ViewerDisplay.appendChild(lt),ut=lt,ct=ut.style),pt||(dt=Z.Utils.createContainerElement(Z.useCanvas?"canvas":"div","viewportBackfillDisplay"+e,"inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),lt.appendChild(dt),pt=dt,ft=pt.style),gt||(mt=Z.Utils.createContainerElement(Z.useCanvas?"canvas":"div","viewportDisplay"+e,"inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),lt.appendChild(mt),gt=mt,Zt=gt.style),Z.useCanvas&&!bt&&(yt=Z.Utils.createContainerElement("canvas","transitionCanvas","none","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal"),lt.appendChild(yt),bt=yt,wt=bt.style),Z.useCanvas||(pt.innerHTML="",gt.innerHTML="")}function r(){at&&(st=at.getContext("2d")),ht=pt.getContext("2d"),vt=gt.getContext("2d"),xt=bt.getContext("2d")}function s(e,t,n,i){("undefined"==typeof n||null===n)&&(n=0),("undefined"==typeof i||null===i)&&(i=0),Z.viewerW=en=e,Z.viewerH=tn=t,an=en*ci,rn=tn*ci,e=Z.imageSet?hi:"unconverted"==Z.tileSource&&Z.browser==Z.browsers.FIREFOX?fi:pi,t=Z.constrainPanStrict?Z.imageW:2*Z.imageW;var o=Z.constrainPanStrict?Z.imageH:2*Z.imageH;if(an>e&&(an=e),rn>e&&(rn=e),an>t&&(an=t),rn>o&&(rn=o),en>an&&(an=en),tn>rn&&(rn=tn),sn=Z.Utils.roundToFixed(an/2,4),ln=Z.Utils.roundToFixed(rn/2,4),un=Z.Utils.roundToFixed(-((an-en)/2)+n,4),Z.Utils.roundToFixed((an-en)/2+n,4),cn=Z.Utils.roundToFixed(-((rn-tn)/2)+i,4),Z.Utils.roundToFixed((rn-tn)/2+i,4),at&&(at.width=en,at.height=tn,rt.width=en+"px",rt.height=tn+"px",rt.left="0px",rt.top="0px"),ut.width=an,ut.height=rn,ct.width=an+"px",ct.height=rn+"px",ct.left=un+"px",ct.top=cn+"px",gt.width=an,gt.height=rn,Zt.width=an+"px",Zt.height=rn+"px",Z.useCanvas){at&&(st.translate(en/2,tn/2),st.save());try{vt.translate(sn,ln)}catch(a){Z.Utils.showMessage(Z.Utils.getResource("ERROR_TRANSLATINGCANVASFORUNCONVERTEDIMAGE")),console.log("In function setSizeAndPosition translating canvas:  "+a)}vt.save()}}function l(e,t,n){if("ZoomifyImageFile"==Z.tileSource){n=parseFloat(Z.Utils.getResource("z125"));var i=parseFloat(Z.Utils.getResource("z124"));t.loadByteRange(e,n,i,"header")}else"ZoomifyImageFolder"==Z.tileSource&&(e=Z.Utils.cacheProofPath(e+"/ImageProperties.xml"),t.loadXML(e,n))}function u(e,t){if(o(),"undefined"==typeof Tt.getStatus)window.setTimeout(function(){u(e,t)},100);else{var a=null,r=null,s=null,l=null,c=null,d=null;"ZoomifyImageFolder"==Z.tileSource&&(a=parseInt(e.documentElement.getAttribute("WIDTH"),10),r=parseInt(e.documentElement.getAttribute("HEIGHT"),10),c=parseInt(e.documentElement.getAttribute("NUMTILES"),10),parseInt(e.documentElement.getAttribute("NUMIMAGES"),10),d=parseInt(e.documentElement.getAttribute("VERSION"),10),s=l=parseInt(e.documentElement.getAttribute("TILESIZE"),10)),null!==Z.tileW&&(s=Z.tileW),null!==Z.tileH&&(l=Z.tileH),("ZoomifyImageFolder"==Z.tileSource||"ImageServer"==Z.tileSource)&&((null===s||isNaN(s))&&(s=It),(null===l||isNaN(l))&&(l=zt),(null===c||isNaN(c))&&(c=1)),!isNaN(a)&&a>0&&!isNaN(r)&&r>0&&!isNaN(s)&&s>0&&!isNaN(l)&&l>0&&c>0?Tt.getStatus("initialized")?i(a,r,s,l,c,d,null,null,null,null,null,t):n(a,r,s,l,c,d,null,null,null,null,null,t):Z.Utils.showMessage("ZoomifyImageFolder"==Z.tileSource?Z.Utils.getResource("z252"):Z.Utils.getResource("z250"))}}function c(){if("unconverted"==Z.tileSource)$t[0]=Z.imageW,Wt[0]=Z.imageH,qt[0]=1,Yt[0]=1,Mt=Gt[0]=1;else if("ZoomifyImageFile"==Z.tileSource)for(var e=Mt-1;e>=0;e--)qt[e]=Math.ceil($t[e]/It),Yt[e]=Math.ceil(Wt[e]/zt),Gt[e]=qt[e]*Yt[e];else{for(var e=Z.imageW,t=Z.imageH;e>It||t>zt;)e/=2,t/=2,Mt++;for(var e=Z.imageW,t=Z.imageH,n=0,i=Mt-1;i>=0;i--)$t[i]=e,Wt[i]=t,qt[i]=Math.ceil($t[i]/It),Yt[i]=Math.ceil(Wt[i]/zt),Gt[i]=qt[i]*Yt[i],e/=2,t/=2,n+=Gt[i];if(n!=Ut&&("ZoomifyImageFolder"==Z.tileSource||"ZoomifyImageFile"==Z.tileSource||"ZoomifyPFFFile"==Z.tileSource)){for($t=[],Wt=[],qt=[],Yt=[],Mt=1,e=Z.imageW,t=Z.imageH,n=2;e>It||t>zt;)e=Math.floor(Z.imageW/n),t=Math.floor(Z.imageH/n),n*=2,e%2&&e++,t%2&&t++,Mt++;for(e=Z.imageW,t=Z.imageH,n=2,tileCounter=0,i=Mt-1;i>=0;i--)qt[i]=Math.floor(e/It),e%It&&qt[i]++,Yt[i]=Math.floor(t/zt),t%zt&&Yt[i]++,Gt[i]=qt[i]*Yt[i],tileCounter+=Gt[i],$t[i]=e,Wt[i]=t,e=Math.floor(Z.imageW/n),t=Math.floor(Z.imageH/n),n*=2,e%2&&e++,t%2&&t++;e=tileCounter,e!=Ut&&Z.Utils.showMessage(Z.Utils.getResource("z254"))}}}function d(e,t){for(var n=qt[e]-1,i=Yt[e]-1,o=0;n>=o;o++)for(var a=0;i>=a;a++)t[t.length]=e+"-"+o+"-"+a}function p(e){if(e){for(e=Tt.z542(Bt),Z.Utils.arrayClear(yn),Z.Utils.arrayClear(Zn),t=e.l,n=e.r;n>=t;t++)for(i=e.t,o=e.b;o>=i;i++)a=Bt+"-"+t+"-"+i,Zn[Zn.length]=a,yn[yn.length]=a;y(yn,U,"simple","image-backfill")}else{Z.Utils.arrayClear(Fn),Z.Utils.arrayClear(Hn),Z.Utils.arrayClear(Bn),Z.Utils.arrayClear(An),e=Tt.z542();for(var t=e.l,n=e.r;n>=t;t++)for(var i=e.t,o=e.b;o>=i;i++){var a=Ht+"-"+t+"-"+i;Fn[Fn.length]=a,An[An.length]=a}if(Tt.getStatus("initialized")&&0<vn.length&&(Ht==oi||Ht==ii||Ht==ti))for(t=0,n=vn.length;n>t;t++)(i=vn[t])&&i.t==Ht&&i.c>=e.l&&i.c<=e.r&&i.r>=e.t&&i.r<=e.b&&(Bn[Bn.length]=i.name,Hn[Hn.length]=i,o=Z.Utils.arrayIndexOf(An,i.name),-1!=o&&(An=Z.Utils.arraySplice(An,o,1)));for(t=0,n=On.length;n>t;t++)(i=On[t])&&i.t==Ht&&i.c>=e.l&&i.c<=e.r&&i.r>=e.t&&i.r<=e.b&&(o=Z.Utils.arrayIndexOf(Bn,i.name),-1==o&&(Bn[Bn.length]=i.name,Hn[Hn.length]=i),i=Z.Utils.arrayIndexOf(An,i.name),-1!=i&&(An=Z.Utils.arraySplice(An,i,1)));if(0!=Tn){for(t=0,n=bn.length;n>t;t++)i=bn[t],i.alpha=1;Z.Utils.arrayClear(bn),Z.Utils.arrayClear(wn)}xn=An.length,Tt.traceDebugValues("tilesToDisplay",null,Fn.length,Fn),Tt.traceDebugValues("tilesInCache",null,Bn.length,Bn),Tt.traceDebugValues("tilesToLoad",null,An.length,An)}}function f(e,t,n,i,o,a){if(o||Z.Utils.clearDisplay(e),"canvasCopy"==i)Z.Utils.clearDisplay(gt),vt.restore(),vt.save(),vt.scale(1,1),vt.drawImage(bt,-sn,-ln),vt.restore(),vt.save(),vt.scale(Lt,Lt);else{if(o=Tt.z542(t),a=[],null===n)for(var r=0,s=Hn.length;s>r;r++)a[r]=Hn[r];else if(0<n.length)for(r=0,s=n.length;s>r;r++){var l=n[r];l&&l.t==t&&(t==Bt&&!jt||l.c>=o.l&&l.c<=o.r&&l.r>=o.t&&l.r<=o.b)&&(a[a.length]=n[r])}if(0<a.length)if(Tt.traceDebugValues("z622-"+e.id,null,null,a),"centerOut"==i)for(r=Math.floor(a.length/2),s=a.length;s>r;r++)z(e,t,a[r]),a.length-r-1!=r&&z(e,t,a[a.length-r-1]);else for(r=0,s=a.length;s>r;r++)z(e,t,a[r]);else Tt.traceDebugValues("No cached tiles in view");Tt.traceDebugValues("blankLine")}}function h(e,t){var n=Tt.z542();syncTransitionCanvas();for(var i=0,o=t.length;o>i;i++){var a=t[i];a&&a.t==e&&(e==Bt||a.c>=n.l&&a.c<=n.r&&a.r>=n.t&&a.r<=n.b)&&z(bt,e,a)}}function m(e){Rt=null,Rt=new Image,Rt.onload=g,Rt.onerror=v,Rt.src=e}function g(){if("undefined"!=typeof Rt){var e=Z.Utils.createContainerElement("div","testImageContainer","inline-block","absolute","hidden",en+"px",tn+"px","0px","0px","none","0px","transparent none","0px","0px","normal",null,!0);e.appendChild(Rt),e.removeChild(Rt);var e=null,e=Rt.width,t=Rt.height;Tt.setStatus("displayLoaded",!0),Tt.setStatus("displayDrawn",!0),0!=e&&0!=t?n(e,t,e,t,null,null,null,null,null,null,null):window.setTimeout(function(){g()},100)}else window.setTimeout(function(){g()},100)}function v(){Z.Utils.showMessage(Z.Utils.getResource("ERROR_UNCONVERTEDIMAGEPATHINVALID"))}function y(e,t,n,i){var o="undefined"!=typeof i&&null!==i?"-"+i:"";if(0<e.length){if(Tt.traceDebugValues("z577"+o,null,null,e),o=(new Date).getTime(),"centerOut"==n&&4<e.length){var a=[],r=0,s=0,l=0,u=0;for(n=0;n<e.length;n++){var c=e[n];c&&(c=new b(c,i),a[a.length]=c,0==n?(r=s=c.c,l=u=c.r):(c.c<r?r=c.c:c.c>s&&(s=c.c),c.r<l?l=c.r:c.r>u&&(u=c.r)))}for(e=r+(s-r)/2,i=l+(u-l)/2,n=0;n<a.length;n++)a[n].r-=i,a[n].c-=e;for(a.sort(function(e,t){return e.r*e.r+e.c*e.c-(t.r*t.r+t.c*t.c)}),n=0;n<a.length;n++)a[n].r+=i,a[n].c+=e,E(a[n],o,t)}else for(n=0,a=e.length;a>n;n++)(c=e[n])&&(c=new b(c,i),E(c,o,t));Tt.traceDebugValues("blankLine")}else Tt.traceDebugValues("z577"+o,"No new tiles requested")}function b(e,t){this.name=e;var n=new w(e);this.t=n.t,this.c=n.c,this.r=n.r,this.x=Math.floor(this.c*It),this.y=Math.floor(this.r*zt),this.image=null,this.alpha=0,this.url=Tt.formatTilePath(this.t,this.c,this.r,t),this.style=this.elmt=this.loadTime=null}function w(e){this.t=parseInt(e.substring(0,e.indexOf("-")),10),this.c=parseInt(e.substring(e.indexOf("-")+1,e.lastIndexOf("-")),10),this.r=parseInt(e.substring(e.lastIndexOf("-")+1),10)}function x(e,t,n){n=t+n*qt[e],t=8*n+Kt[e],n=Math.floor(n/kt);var i=n*kt,i=i+kt>Gt[e]?8*(Gt[e]-i):Et;this.chunkStart=Kt[e]+n*Et,this.chunkEnd=this.chunkStart+i,this.offsetStartInChunk=t-this.chunkStart,this.chunkID=e.toString()+"-"+n.toString()}function T(e,t,n){n=t+n*qt[e],t=4*n+Qt[e],n=Math.floor(n/kt);var i=n*kt,i=i+kt>Gt[e]?4*(Gt[e]-i):Ct;this.chunkStart=Qt[e]+n*Ct,this.chunkEnd=this.chunkStart+i,this.bcStartInChunk=t-this.chunkStart,this.chunkID=e.toString()+"-"+n.toString()}function S(e,t){for(var n=0,i=qn.length;i>n;n++){var o=qn[n].split(",");o[0]==e&&o[5]==t&&(void 0!==o[4]&&"image-display"==o[4]?Wn[Wn.length]=o[1]+"-"+o[2]+"-"+o[3]:"image-backfill"==o[4]&&(Gn[Gn.length]=o[1]+"-"+o[2]+"-"+o[3]),qn=Z.Utils.arraySplice(qn,n,1),n--,i--)}0<Wn.length&&(Wn.sort(),Wn=Z.Utils.arrayUnique(Wn),Tt.traceDebugValues("z637",Wn),n=C,k(Wn,n,"simple","image-display")),0<Gn.length&&(Gn.sort(),Gn=Z.Utils.arrayUnique(Gn),n=U,k(Gn,n,"simple","image-backfill"))}function k(e,t,n,i){n=(new Date).getTime();for(var o=0,a=e.length;a>o;o++){var r=null;if(r=e[o])if(e=Z.Utils.arraySplice(e,o,1),o--,a--,index=Z.Utils.arrayIndexOfObjectValue(Yn,"name",r),-1!=index?(r=Yn[index],Yn=Z.Utils.arraySplice(Yn,index,1),r.url=Tt.formatTilePath(r.t,r.c,r.r,i)):r=new b(r,i),null!=r&&-1==r.url.indexOf("NaN"))Tt.traceDebugValues("z577Retry",r.name+"  "+r.url),E(r,n,t);else if(-1==r.url.indexOf("NaN")){var s=parseInt(Z.Utils.getResource("z268MEDIUM"),10);Z.Utils.showMessage(Z.Utils.getResource("z280-ZIF")+r.name+".jpg",!1,s,"center",!1)}}}function E(e,t,n){var i=e.name;if("z647"==e.url.substr(0,8))M(e),t=e.name,n=Z.Utils.arrayIndexOf(An,t),-1!=n&&(An=Z.Utils.arraySplice(An,n,1)),("ZoomifyImageFile"==Z.tileSource||"ZoomifyPFFFile"==Z.tileSource)&&(n=Z.Utils.arrayIndexOf(Wn,t),-1!=n&&(Wn=Z.Utils.arraySplice(Wn,n,1))),bn[bn.length]=e,wn[wn.length]=t;else if("offsetLoading"==e.url)-1==Z.Utils.arrayIndexOfObjectValue(Yn,"name",i)&&(Yn[Yn.length]=e),Tt.traceDebugValues("z581DelayForOffset",i);else if("offsetLoading"!=e.url){var o;n==C?o="image-display":n==U&&(o="image-backfill");var a=e.t==oi&&ai||e.t==ii&&ri||e.t==ti&&si;"image-display"==o&&a||(e.loadTime=t,Tt.traceDebugValues("z581-"+o,i),Kn.loadImage(e.url,Z.Utils.createCallback(null,n,e),o,e))}}function C(e,t){if(e&&t){e.image=t;var n=e.name,i=Z.Utils.arrayIndexOf(An,n);if(-1!=i){if(An=Z.Utils.arraySplice(An,i,1),M(e),-1==Z.Utils.arrayIndexOf(wn,n)&&(wn[wn.length]=n,bn[bn.length]=e),Bi||(Bi=window.setInterval(I,50)),Tn=An.length,0==Tn){for(Z.useCanvas&&Vt>0&&(Xt?(h(Ht,On),f(gt,Ht,On,"canvasCopy",!1,"4. Updating view: all new tiles loaded"),window.setTimeout(function(){Z.Utils.clearDisplay(bt)},200),Xt=!1):f(gt,Ht,On,"centerOut",!1,"4. Updating view: all new tiles loaded"));Mn.length>Vt&&On.length>Vt;)Mn=Z.Utils.arraySplice(Mn,0,1),On=Z.Utils.arraySplice(On,0,1);xn=0}Tt.traceDebugValues("onTileLoad",e.name,e.loadTime),Tt.updateProgress(xn,Tn)}In==zn+Nn&&Tt.setStatus("displayLoaded",!0)}else"undefined"!=typeof t&&null!==t||console.log(Z.Utils.getResource("z280")+e.name+".jpg")}function U(e,t){if(e&&t){e.image=t;var n=e.name;vn[vn.length]=e;var i=Z.Utils.arrayIndexOf(yn,n);-1!=i&&(yn=Z.Utils.arraySplice(yn,i,1)),("ZoomifyImageFile"==Z.tileSource||"ZoomifyPFFFile"==Z.tileSource)&&(n=Z.Utils.arrayIndexOf(Gn,n),-1!=n&&(Gn=Z.Utils.arraySplice(Gn,n,1))),e.alpha=1,e.t==Bt&&z(pt,Bt,e),Tt.traceDebugValues("onTileBackfillPrecache",e.name),Sn==kn&&Tt.setStatus("precacheLoaded",!0),Tt.traceDebugValues("z599",e.name),0+Cn>=En&&Tt.setStatus("backfillLoaded",!0),e.t==Ht&&C(e,t)}else("undefined"==typeof t||null===t)&&(Z.mobileDevice?console.log(Z.Utils.getResource("z280")+e.name+".jpg"):Z.Utils.showMessage(Z.Utils.getResource("z280")+e.name+".jpg"))}function I(e){for(var t=e=0,n=bn.length;n>t;t++){var i=bn[t];i.t==Ht?(0!=Hi&&1>i.alpha+Hi?i.alpha+=Hi:(i.alpha=1,e++),z(gt,Ht,i),e>=n&&(window.clearInterval(Bi),Bi=null,t=n)):(bn=Z.Utils.arraySplice(bn,t,1),wn=Z.Utils.arraySplice(wn,t,1),i=Z.Utils.arrayIndexOf(An,i.name),-1!=i&&(An=Z.Utils.arraySplice(An,i,1)),n--)}}function z(e,t,n){if("z647"!=n.url.substr(0,8)&&0!=n.image.width&&0!=n.image.height){var i=n.x,o=n.y;t=L(t,1),Ot=F(_t,Tt.getZoom());var a=Ot>8;Z.useCanvas?(e==gt||e==bt||e==pt&&jt?(i-=Z.imageX*t,o-=Z.imageY*t):e==at&&(jt||a)&&(a=Tt.calculateCurrentCenterCoordinates(),i-=a.x*t,o-=a.y*t),t=e.getContext("2d"),Z.alphaSupported&&1>n.alpha&&"transitionCanvas"!=e.id&&-1==e.id.indexOf("oversizeDisplay")&&(t.globalAlpha=n.alpha),t.drawImage(n.image,i,o),Z.alphaSupported&&1>n.alpha&&"transitionCanvas"!=e.id&&"oversizeDisplay"!=e.id&&(t.globalAlpha=1)):(e==gt?(i-=Z.imageX*t-sn/Lt,o-=Z.imageY*t-ln/Lt,t=Lt):t=At,n.elmt||(n.elmt=Z.Utils.createContainerElement("img"),n.elmt.onmousedown=Z.Utils.preventDefault,Z.Utils.addEventListener(n.elmt,"contextmenu",Z.Utils.preventDefault),n.elmt.src=n.url,n.style=n.elmt.style,n.style.position="absolute",Z.Utils.renderQuality(n,Z.renderQuality),Z.cssTransformsSupported&&(n.style[Z.cssTransformProperty+"Origin"]="0px 0px")),n.elmt.parentNode!=e&&e.appendChild(n.elmt),a=n.style,a.display="none",Z.cssTransformsSupported?a[Z.cssTransformProperty]=["matrix(",(n.image.width/n.elmt.width*t).toFixed(8),",0,0,",(n.image.height/n.elmt.height*t).toFixed(8),",",(i*t).toFixed(8),Z.cssTransformNoUnits?",":"px,",(o*t).toFixed(8),Z.cssTransformNoUnits?")":"px)"].join(""):(a.width=n.image.width*t+"px",a.height=n.image.height*t+"px",a.left=i*t+"px",a.top=o*t+"px"),a.display="inline-block",Z.Utils.setOpacity(n,n.alpha)),e==gt?(Tt.traceDebugValues("z507",n.name),In==Vn&&Tt.setStatus("displayDrawn",!0)):(Tt.traceDebugValues("displayBackfillTile",n.name),Un>=En&&Tt.setStatus("backfillDrawn",!0))}}function D(e,t){var n=L(t,1),i=Math.floor(e.l*n/It),o=Math.floor(e.r*n/It),a=Math.floor(e.t*n/zt),n=Math.floor(e.b*n/zt);0>i&&(i=0),o>qt[t]-1&&(o=qt[t]-1),0>a&&(a=0),n>Yt[t]-1&&(n=Yt[t]-1),this.l=i,this.r=o,this.t=a,this.b=n}function N(e,t,n,i,o,a,r){this.l=e+n/r,this.r=e+i/r,this.t=t+o/r,this.b=t+a/r}function V(e,t){var n=e-Z.Utils.getElementPosition(Z.ViewerDisplay).x,i=t-Z.Utils.getElementPosition(Z.ViewerDisplay).y;return new Z.Utils.Point(n,i)}function P(e,t,n,i){("undefined"==typeof n||null===n)&&(n=Z.imageZ),("undefined"==typeof i||null===i)&&(i=Z.imageR),0>i&&(i+=360);var o=parseFloat(ct.left)+sn,a=parseFloat(ct.top)+ln;return e-=o,t-=a,0!=Z.imageR&&(viewportClickPt=Z.Utils.rotatePoint(e,t,i),e=viewportClickPt.x,t=viewportClickPt.y),new Z.Utils.Point(Z.imageX+e/n,Z.imageY+t/n)}function R(e,t,n,i){return("undefined"==typeof n||null===n)&&(n=Z.imageZ),("undefined"==typeof i||null===i)&&(i=Z.imageR),0>i&&(i+=360),e=(Z.imageX-e)*n,t=(Z.imageY-t)*n,0!=Z.imageR&&(viewportClickPt=Z.Utils.rotatePoint(e,t,-i),e=viewportClickPt.x,t=viewportClickPt.y),new Z.Utils.Point(un+e,cn+t)}function L(e,t){return $t[e]/Z.imageW*t}function F(e,t){return t/($t[e]/Z.imageW)}function A(e,t,n,i,o){if(Z.constrainPan){i=Math.round(i);var a=e,r=t;n="undefined"!=typeof n&&null!==n?n:Z.imageZ,i="undefined"!=typeof i&&null!==i?i:Z.imageR,0>i&&(i+=360);var s=Z.Utils.getDisplayPositionRotated(ct,i),l=Z.imageW,u=Z.imageH,c=en,d=tn,p=Math.round(l*n),f=Math.round(u*n);if("container"==o){var h=n,m=i;("undefined"==typeof h||null===h)&&(h=Z.imageZ),("undefined"==typeof m||null===m)&&(m=Z.imageR),0>m&&(m+=360),e=(un-e)/h,t=(cn-t)/h;var g,v;switch(m){case 0:g=Z.imageX+e,v=Z.imageY+t;break;case 90:g=Z.imageX+t,v=Z.imageY-e;break;case 180:g=Z.imageX-e,v=Z.imageY-t;break;case 270:g=Z.imageX-t,v=Z.imageY+e}t=new Z.Utils.Point(g,v),e=t.x,t=t.y}if(m=Z.constrainPanStrict?0:c/2/n,v=Z.constrainPanStrict?0:d/2/n,g=(c+s.y)/2/n-m,m=l-(c+s.y)/2/n+m,h=(d+s.x)/2/n-v,s=u-(d+s.x)/2/n+v,e=(0==i||180==i)&&p>c||(90==i||270==i)&&p>d||!Z.constrainPanStrict?g>=e?g:e>=m?m:e:l/2,t=(0==i||180==i)&&f>d||(90==i||270==i)&&f>c||!Z.constrainPanStrict?h>=t?h:t>=s?s:t:u/2,"container"==o){var y;o=n,n=i,("undefined"==typeof o||null===o)&&(o=Z.imageZ),("undefined"==typeof n||null===n)&&(n=Z.imageR),0>n&&(n+=360);var b;switch(n){case 0:y=e-Z.imageX,b=t-Z.imageY;break;case 90:y=Z.imageY-t,b=e-Z.imageX;break;case 180:y=Z.imageX-e,b=Z.imageY-t;break;case 270:y=t-Z.imageY,b=Z.imageX-e}y=new Z.Utils.Point(un-y*o,cn-b*o),e=y.x,t=y.y}e==a&&t==r||Z.Utils.validateCallback("panConstrained")}return new Z.Utils.Point(e,t)}function O(e){return e>Z.maxZ?(e=Z.maxZ,Z.Utils.validateCallback("zoomConstrainedMax")):e<Z.minZ&&(e=Z.minZ,Z.Utils.validateCallback("zoomConstrainedMin")),e}function M(e){if(Vt>0){var t=Z.Utils.arrayIndexOf(Mn,e.name);-1!=t&&(Mn=Z.Utils.arraySplice(Mn,t,1),On=Z.Utils.arraySplice(On,t,1)),Mn[Mn.length]=e.name,On[On.length]=e}}function H(){window.clearTimeout(jn),jn=null,Rn=((new Date).getTime()-tilesTimeStart)/1e3;var e=Ln*Rn,e=Pn&&e>Nn,t=Pn&&Nn>=Dn;(2==Z.debug||3==Z.debug)&&(Z.Utils.trace("View validation-time elapsed: "+Rn),Pn>0&&Z.Utils.trace(e?"Loading delay - re-calling updateView":t?"Display delay - re-calling updateView":"Progress slow, resetting timer"),Z.Utils.trace(""),Z.traces.scrollTop=Z.traces.scrollHeight,Z.Utils.traceTileSpeed(Rn,Ln)),Pn>0?Xn>_n?e||t?(_n+=1,Tt.updateView(!0)):jn=window.setTimeout(H,$n):console.log(Z.Utils.getResource("ERROR_VALIDATEVIEW")):(_n=0,Z.Utils.validateCallback("viewUpdateComplete"),Z.Utils.validateCallback("viewUpdateCompleteGetLabelIDs"))}function B(e){Z.preventDupCall||(Z.priorX=Z.imageX,Z.priorY=Z.imageY,Z.priorZ=Z.imageZ,Z.priorR=Math.round(Z.imageR)),Z.preventDupCall="undefined"!=typeof e&&null!==e}function j(e,t,n,i,o,a){a||Tt.zoomAndPanAllStop(),("undefined"==typeof e||null===e)&&(e=Z.imageW/2),("undefined"==typeof t||null===t)&&(t=Z.imageH/2),"undefined"==typeof n||null===n?n=Z.fitZ:n>1&&(n/=100),("undefined"==typeof i||null===i)&&(i=Z.imageR),n=O(n),i=90*Math.round(Math.abs(i)/90)*Z.Utils.getSign(i),-360>=i?i+=360:i>=360&&(i-=360),e=A(e,t,n,i,"image"),Z.imageX=et=e.x,Z.imageY=tt=e.y,Z.imageZ=n,i!=Z.imageR&&Z.Utils.rotateElement(ct,i),Z.imageR=i,Tt.updateView(!0),"function"==typeof o&&o()}function _(){if(Ai&&(0!=Ti||0!=Si||0!=Fi)){var e=Ti,t=Si,n=Fi,i=Tt.getZoom();0!=n&&(i=L(Ht,Lt*(1+n)),i=O(i),i!=Z.imageZ&&W(i)),(0!=e||0!=t)&&(e=parseFloat(ct.left)+e,t=parseFloat(ct.top)+t,i=A(e,t,i,Z.imageR,"container"),ct.left=Math.round(i.x)+"px",ct.top=Math.round(i.y)+"px",t=i.x-un,i=i.y-cn,at&&jt&&(Z.mobileDevice||Math.abs(t)>en/2||Math.abs(i)>tn/2)&&f(at,_t,vn,"simple",!1,"Updating backfill oversize display")),Tt.syncViewportRelated(),Oi++,Ai=window.setTimeout(_,Mi)}}function X(e,t,n,i,o,a,r){$i++;var s=o/a,l=$i*s,u=Z.Utils.easing(Z.imageX,e,l,o),c=Z.Utils.easing(Z.imageY,t,l,o),d=Z.Utils.easing(Z.imageZ,n,l,o),l=Z.Utils.easing(Z.imageR,i,l,o),c=R(u,c,d),u=c.x,c=c.y,p=!1,h=syncOversize=!1;(parseFloat(ct.left)!=u||parseFloat(ct.top)!=c)&&(ct.left=u+"px",ct.top=c+"px",h=!0,at&&jt&&(syncOversize=!0)),d!=Z.imageZ&&(W(d,!1),p=h=!0,at&&jt&&(st.restore(),st.save(),st.scale(Ot,Ot),syncOversize=!0)),l!=Z.imageR&&(Z.Utils.rotateElement(ct,l),at&&jt&&(st.rotate((l-Z.imageR)*Math.PI/180),syncOversize=!0),Z.imageR=l,h=!0),syncOversize&&f(at,_t,vn,"simple",!1,"Updating backfill oversize display"),Tt.syncViewportRelated(!1,!1,!1,!1,!1),0==$i%2&&Tt.syncViewportRelated(!1,!1,p,h,p),d=Z.tour&&Z.tourStop&&0==Math.round(Z.imageR%90),a+1>$i&&!d?Xi=window.setTimeout(function(){X(e,t,n,i,o,a,r)},s):(d&&(Z.tourPlaying=!1),Z.interactivityOff=!1,Xi&&(window.clearTimeout(Xi),Xi=null),Tt.updateView(),"function"==typeof r&&r())}function $(){Oi=Fi=Si=Ti=0,Ai&&(window.clearTimeout(Ai),Ai=null)}function W(e,t){var n=!1,i=F(Ht,e);if(i!=Lt){Lt=i;var n=i/Ft,o=an*n,a=rn*n,r=(an-o)/2,s=(rn-a)/2;Ft>i&&(i=A(parseFloat(ct.left),parseFloat(ct.top),e,Z.imageR,"container"),ct.left=i.x+"px",ct.top=i.y+"px"),Z.useCanvas?(Zt.width=o+"px",Zt.height=a+"px",Zt.left=r+"px",Zt.top=s+"px",Ot=F(_t,Tt.getZoom()),i=Ot>8,jt||i?((null!==st&&"undefined"==typeof t||null===t||t&&at&&("in"!=Z.zooming||o>Z.scaleThreshold||a>Z.scaleThreshold))&&(st.restore(),st.save(),st.scale(Ot,Ot),st.rotate(Z.imageR*Math.PI/180),f(at,_t,vn,"simple",!1,"Updating backfill oversize display")),At=n=F(Bt,e),o=n/tierBackfillScalePrior,n=dn*o,o*=pn,a=mn+(dn-n)/2,i=gn+(pn-o)/2,ft.width=n+"px",ft.height=o+"px",ft.left=a+"px",ft.top=i+"px"):(at&&Z.Utils.clearDisplay(at),o=dn*n,a=pn*n,r=mn+Z.imageX*(1-n)*Z.imageZ,s=gn+Z.imageY*(1-n)*Z.imageZ,ft.width=o+"px",ft.height=a+"px",ft.left=r+"px",ft.top=s+"px")):(f(gt,Ht,On,"centerOut",!1,"Scaling: non-canvas zoom"),jt?(n=di,dn=an*n,pn=rn*n,mn=-(an/n),gn=-(rn/n),fn=sn*n,hn=ln*n,pt.width=dn,pt.height=pn,ft.width=pt.width+"px",ft.height=pt.height+"px"):(n=Wt[Bt],pt.width=$t[Bt],pt.height=n,n=Z.imageY*e,mn=sn-Z.imageX*e,gn=ln-n),ft.left=mn+"px",ft.top=gn+"px",f(pt,Bt,vn,"simple",!1,"Scaling: non-canvas zoom - backfill")),n=!0}return n}function q(e){e=Z.Utils.event(e);var t=e.type;if(e&&t){var n=Z.Utils.isRightMouseButton(e),i=e.altKey;if("mouseover"!=t&&"mouseout"!=t&&Z.interactivityOff||"mousedown"==t&&(Z.interactivityOff||Z.coordinatesVisible&&i)||n)Z.tourStop=!0;else{switch(("mousedown"==t||"touchstart"==t||Z.tourPlaying&&Z.tourStop)&&(Tt.zoomAndPanAllStop(),Z.interactivityOff=!1),Z.touchSupport&&!Z.clickZoomAndPanBlock&&"touchmove"!=t&&"gesturechange"!=t&&e.preventDefault(),"mousedown"==t?window.setTimeout(function(){Tt.zoomAndPanAllStop(!1,!0)},1):("touchstart"==t||"gesturestart"==t)&&(touch=Z.Utils.getFirstTouch(e),Tt.zoomAndPanAllStop(!1,!0)),t){case"mouseover":Z.fullView||"TEXTAREA"==document.activeElement.tagName||Z.Viewer.initializeViewerKeyDefaultListeners(!0);break;case"mousedown":!Z.fullView&&document.activeElement&&document.activeElement.blur(),Z.Viewer.initializeViewerKeyEventListeners(!0),Z.Utils.addEventListener(document,"mousemove",q),Z.Utils.addEventListener(document,"mouseup",q);break;case"mouseup":Z.Utils.removeEventListener(document,"mousemove",q),Z.Utils.removeEventListener(document,"mouseup",q)}if(Y(e),"mousedown"==t||"mousemove"==t)return!1}}}function Y(e){e=Z.Utils.event(e);var t=e.type;if(e&&t){var n,i;if("touchstart"==t||"touchmove"==t||"touchend"==t||"touchcancel"==t)n=Z.Utils.getFirstTouch(e),"undefined"!=typeof n&&(i=new Z.Utils.Point(n.pageX,n.pageY));else{Z.Utils.target(e),Z.Utils.relatedTarget(e);var o=Z.Utils.isRightMouseButton(e),a=e.altKey;"resize"!=t&&(i=Z.Utils.getMousePosition(e)),Z.smoothPan&&(Ri=i)}"DOMMouseScroll"==t&&(t="mousewheel");var r=Tt.getZoom();switch("undefined"!=typeof i&&null!==i&&Tt.getClickCoordsInImage(e,r,i),t){case"mousedown":Z.mouseIsDown=!0,mi=new Z.Utils.Point(i.x,i.y),ut.mouseXPrior=i.x,ut.mouseYPrior=i.y,Z.smoothPan&&!a&&Z.mousePan&&1<Z.smoothPanEasing&&(G(void 0),Vi=mi,null===Pi&&(Pi=new Z.Utils.Point(parseFloat(ct.left),parseFloat(ct.top))),null===Ni&&(Ni=window.setInterval(K,50)));break;case"mousemove":gi=new Z.Utils.Point(i.x,i.y),Zi&&(clearTimeout(Zi),Zi=null),!a&&Z.mousePan&&(Ni?Ri=i:Z.animation&&Tt.getZoom()==Z.minZ?(i.x>ut.mouseXPrior?Z.Viewer.viewportNext():i.x<ut.mouseXPrior&&Z.Viewer.viewportPrior(),ut.mouseXPrior=i.x,ut.mouseYPrior=i.y):(o=i.x-ut.mouseXPrior,e=i.y-ut.mouseYPrior,isNaN(o)||isNaN(e)||(o=parseFloat(ct.left)+o,e=parseFloat(ct.top)+e,a=A(o,e,Z.imageZ,Z.imageR,"container"),ct.left=a.x+"px",ct.top=a.y+"px",ut.mouseXPrior=i.x,ut.mouseYPrior=i.y,o=a.x-un,e=a.y-cn,at&&jt&&(Z.mobileDevice||Math.abs(o)>en/2||Math.abs(e)>tn/2)&&f(at,_t,vn,"simple",!1,"Updating backfill oversize display"),Z.Navigator&&(i=Tt.calculateCurrentCenterCoordinates(a,Z.imageZ,Z.imageR),Z.Navigator.z658(i)))));break;case"mouseup":if(Z.mouseIsDown=!1,document.mousemove=null,document.mouseup=null,Z.mouseOutDownPoint?(i=Z.mouseOutDownPoint,Tt.getClickCoordsInImage(e,r,Z.mouseOutDownPoint)):i=new Z.Utils.Point(i.x,i.y),i=Z.Utils.calculatePointsDistance(mi.x,mi.y,i.x,i.y),4>i||!a&&("freehand"==Z.labelMode||"rectangle"==Z.labelMode)){if(null===Z.editMode&&"measure"==Z.labelMode||"view"!=Z.labelMode&&("addLabel"==Z.editing||"editLabel"==Z.editing))a&&!o||"freehand"!=Z.labelMode&&"rectangle"!=Z.labelMode&&"polygon"!=Z.labelMode&&"measure"!=Z.labelMode||(Z.Utils.addEventListener(document,"mousemove",q),Zi?(clearTimeout(Zi),Zi=null,Z.Utils.removeEventListener(document,"mousemove",q)):(Zi=setTimeout(function(){Zi=null},Z.doubleClickDelay),"polygon"!=Z.labelMode&&"measure"!=Z.labelMode&&Z.Utils.removeEventListener(document,"mousemove",q)));else if(null===Z.editing||"view"==Z.labelMode){if(Z.clickZoom||Z.clickPan){i=Zi&&Z.doubleClickZoom?!0:!1;var s=Tt.getClickZoomCoords3D(e,mi,Ht,Lt,i)}Z.clickZoom?Z.doubleClickZoom?Zi?(clearTimeout(Zi),Zi=null,Tt.zoomAndPanToView(s.x,s.y,s.z)):Zi=setTimeout(function(){Zi=null,Tt.zoomAndPanToView(s.x,s.y,s.z)},Z.doubleClickDelay):window.setTimeout(function(){Tt.zoomAndPanToView(s.x,s.y,s.z)},1):Z.clickPan&&Tt.zoomAndPanToView(s.x,s.y,Z.imageZ)}Z.mousePan&&!Z.smoothPan&&Tt.updateView()}Z.mouseOutDownPoint&&(Z.ToolbarDisplay&&Z.toolbarAutoShowHide&&Z.Toolbar.show(!1),Z.NavigatorDisplay&&1<Z.navigatorVisible&&Z.Navigator.setVisibility(!1));break;case"touchstart":n&&!vi&&(Z.mouseIsDown=!0,bi=!1,mi=new Z.Utils.Point(i.x,i.y),ut.mouseXPrior=i.x,ut.mouseYPrior=i.y,a||"view"==Z.labelMode||"addLabel"!=Z.editing&&"editLabel"!=Z.editing&&(null!==Z.editMode||"measure"!=Z.labelMode)||Z.Utils.hideMessage());break;case"touchmove":!n||vi||bi||(gi=new Z.Utils.Point(i.x,i.y),Zi&&(clearTimeout(Zi),Zi=null),!a&&Z.mousePan&&(Ni?Ri=i:(o=i.x-ut.mouseXPrior,e=i.y-ut.mouseYPrior,isNaN(o)||isNaN(e)||(o=parseFloat(ct.left)+o,e=parseFloat(ct.top)+e,a=A(o,e,Z.imageZ,Z.imageR,"container"),ct.left=a.x+"px",ct.top=a.y+"px",ut.mouseXPrior=i.x,ut.mouseYPrior=i.y,o=a.x-un,e=a.y-cn,at&&jt&&(Z.mobileDevice||Math.abs(o)>en/2||Math.abs(e)>tn/2)&&f(at,_t,vn,"simple",!1,"Updating backfill oversize display"),Z.Navigator&&(i=Tt.calculateCurrentCenterCoordinates(a,Z.imageZ,Z.imageR),Z.Navigator.z658(i))))));break;case"touchend":vi||bi||(Z.mouseIsDown=!1,document.mousemove=null,document.mouseup=null,Z.mouseOutDownPoint?(i=Z.mouseOutDownPoint,Tt.getClickCoordsInImage(e,r,Z.mouseOutDownPoint)):i="undefined"!=typeof i&&null!==i?new Z.Utils.Point(i.x,i.y):"undefined"!=typeof gi&&null!==gi?gi:mi,i=Z.Utils.calculatePointsDistance(mi.x,mi.y,i.x,i.y),(4>i||!a&&("rectangle"==Z.labelMode||"freehand"==Z.labelMode))&&(null===Z.editMode&&"measure"==Z.labelMode||"view"!=Z.labelMode&&("addLabel"==Z.editing||"editLabel"==Z.editing)?a||"freehand"!=Z.labelMode&&"rectangle"!=Z.labelMode&&"polygon"!=Z.labelMode&&"measure"!=Z.labelMode||(Z.Utils.addEventListener(document,"touchmove",q),Zi?(clearTimeout(Zi),Zi=null,Z.Utils.removeEventListener(document,"touchmove",q)):(Zi=setTimeout(function(){Zi=null},Z.doubleClickDelay),"polygon"!=Z.labelMode&&"measure"!=Z.labelMode&&Z.Utils.removeEventListener(document,"touchmove",q))):(null===Z.editing||"view"==Z.labelMode)&&(Z.clickZoom?(i=Zi&&Z.doubleClickZoom?!0:!1,s=Tt.getClickZoomCoords3D(e,mi,Ht,Lt,i),Z.doubleClickZoom?Zi?(clearTimeout(Zi),Zi=null,Tt.zoomAndPanToView(s.x,s.y,s.z)):Zi=setTimeout(function(){Zi=null,Tt.zoomAndPanToView(s.x,s.y,s.z)},Z.doubleClickDelay):window.setTimeout(function(){Tt.zoomAndPanToView(s.x,s.y,s.z)},1)):Z.clickPan&&Tt.zoomAndPanToView(s.x,s.y,Z.imageZ))),Z.mousePan&&!Ni&&Tt.updateView(),Z.mouseOutDownPoint&&(Z.ToolbarDisplay&&Z.toolbarAutoShowHide&&Z.Toolbar.show(!1),Z.NavigatorDisplay&&1<Z.navigatorVisible&&Z.Navigator.setVisibility(!1)));break;case"touchcancel":vi||bi||(Z.mouseIsDown=!1,document.mousemove=null,document.mouseup=null,Z.mouseOutDownPoint?(i=Z.mouseOutDownPoint,Tt.getClickCoordsInImage(e,r,Z.mouseOutDownPoint)):i="undefined"!=typeof i&&null!==i?new Z.Utils.Point(i.x,i.y):"undefined"!=typeof gi&&null!==gi?gi:mi,i=Z.Utils.calculatePointsDistance(mi.x,mi.y,i.x,i.y),4>i||!a&&("rectangle"==Z.labelMode||"freehand"==Z.labelMode)?null===Z.editMode&&"measure"==Z.labelMode||"view"!=Z.labelMode&&("addLabel"==Z.editing||"editLabel"==Z.editing)?("addLabel"!=Z.editing||a||"text"!=Z.labelMode&&"icon"!=Z.labelMode&&"polygon"!=Z.labelMode&&"measure"!=Z.labelMode||Tt.saveEditsLabel(!0,!1,!1),a||"freehand"!=Z.labelMode&&"rectangle"!=Z.labelMode&&"polygon"!=Z.labelMode&&"measure"!=Z.labelMode||(Z.Utils.addEventListener(document,"touchmove",q),Zi?(clearTimeout(Zi),Zi=null,Z.Utils.removeEventListener(document,"touchmove",q)):(Zi=setTimeout(function(){Zi=null},Z.doubleClickDelay),"polygon"!=Z.labelMode&&"measure"!=Z.labelMode&&Z.Utils.removeEventListener(document,"touchmove",q)))):(null===Z.editing||"view"==Z.labelMode)&&(Z.clickZoom?(i=Zi&&Z.doubleClickZoom?!0:!1,s=Tt.getClickZoomCoords3D(e,mi,Ht,Lt,i),Z.doubleClickZoom?Zi?(clearTimeout(Zi),Zi=null,Tt.zoomAndPanToView(s.x,s.y,s.z)):Zi=setTimeout(function(){Zi=null,Tt.zoomAndPanToView(s.x,s.y,s.z)},Z.doubleClickDelay):window.setTimeout(function(){Tt.zoomAndPanToView(s.x,s.y,s.z)},1)):Z.clickPan&&Tt.zoomAndPanToView(s.x,s.y,Z.imageZ)):Z.mousePan&&!Ni&&Tt.updateView(),Z.mouseOutDownPoint&&(Z.ToolbarDisplay&&Z.toolbarAutoShowHide&&Z.Toolbar.show(!1),Z.NavigatorDisplay&&1<Z.navigatorVisible&&Z.Navigator.setVisibility(!1)));
break;case"gesturestart":Q(e),vi||(vi=window.setInterval(J,wi));break;case"gesturechange":yi=Math.round(100*e.scale)/100;break;case"gestureend":vi&&(window.clearInterval(vi),bi=!0,vi=null),Z.mousePan&&Tt.updateView()}}}function G(e){null!==Ni&&e&&(window.clearInterval(Ni),Ni=null),Pi=zi=Di=Ii=null,ki=Ei=Ci=Ui=0}function K(e){if(!Z.animation||Tt.getZoom()!=Z.minZ){var t=parseFloat(ct.left),n=parseFloat(ct.top);if(Z.mouseIsDown||Ii){var i=(Ii?zi:Ri.x)-Vi.x,o=(Ii?Di:Ri.y)-Vi.y,a=t-Pi.x,r=n-Pi.y;if(!(isNaN(i)||isNaN(o)||isNaN(a)||isNaN(r)||0==i&&0==o&&0==a&&0==r)){var s=Ii?Z.smoothPanGlide:1;e=Ii?1:100,ki=Math.round((i-a)/(Z.smoothPanEasing*s)*e/e),Ei=Math.round((o-r)/(Z.smoothPanEasing*s)*e/e),Z.mouseIsDown?(Ci=ki,Ui=Ei):(Math.abs(ki)>Math.abs(Ci)&&(ki=Ci),Math.abs(Ei)>Math.abs(Ui)&&(Ei=Ui)),t+=ki,n+=Ei,i=A(t,n,Z.imageZ,Z.imageR,"container"),ct.left=i.x+"px",ct.top=i.y+"px",ki-=t-i.x,Ei-=n-i.y,n=i.x-un,t=i.y-cn,at&&jt&&(Ii||Z.mobileDevice||Math.abs(n)>en/2||Math.abs(t)>tn/2)&&f(at,_t,vn,"simple",!1,"Updating backfill oversize display"),Ii&&0==Math.round(ki*e)/e&&0==Math.round(Ei*e)/e&&(Ii=!1),Z.Navigator&&(e=Tt.calculateCurrentCenterCoordinates(i,Z.imageZ,Z.imageR),Z.Navigator.z658(e))}}else Z.mouseIsDown||null!==Ii||0==ki||0==Ei?(G(!0),Tt.updateView()):(i=A(t+Ci,n+Ui,Z.imageZ,Z.imageR,"container"),Ci=i.x-t,Ui=i.y-n,(0!=Ci||0!=Ui)&&(zi=Ri.x+Ci,Di=Ri.y+Ui,Ii=!0))}}function Q(e){e=Z.Utils.event(e),e.preventDefault(),yi=Math.round(100*e.scale)/100}function J(e){if(Z.mousePan){e=L(Ht,Ft*yi);var t=O(e);e!=Z.imageZ&&Tt.z633(t)}}var et=null,tt=null,nt=0;"undefined"!=typeof e&&null!==e&&(nt=e);var it;it="undefined"!=typeof t&&null!==t?t:Z.imagePath;var ot,at,rt,st,lt,ut,ct,dt,pt,ft,ht,mt,gt,Zt,vt,yt,bt,wt,xt,Tt=this,St=[],kt=parseInt(Z.Utils.getResource("z90"),10),Et=8*kt,Ct=4*kt,Ut=0,It=parseInt(Z.Utils.getResource("z221"),10),zt=parseInt(Z.Utils.getResource("z219"),10),Dt=parseFloat(Z.Utils.getResource("z218")),Nt=Dt/2,Vt=parseInt(Z.Utils.getResource("z220"),10),Pt=1==Z.toolbarVisible?Z.toolbarH:0;a(nt);var Rt,Lt,Ft,At,Ot,Mt=1,Ht=0,Bt=0,jt=!1,_t=0,Xt=!1,$t=[],Wt=[],qt=[],Yt=[],Gt=[],Kt=[];tierTileOffsetsCount=[],tierTileOffsetChunks=[],tierTileOffsetLast=[];var Qt=[];tierTileByteCountsCount=[],tierTileByteCountChunks=[],tierTileByteCountLast=[];var Jt,en,tn,nn,on,an,rn,sn,ln,un,cn,dn,pn,fn,hn,mn,gn,Zn=[],vn=[],yn=[],bn=[],wn=[],xn=0,Tn=0,Sn=0,kn=0,En=0,Cn=0,Un=0,In=0,zn=0,Dn=0,Nn=0,Vn=0,Pn=0,Rn=0,Ln=0,Fn=[],An=[],On=[],Mn=[],Hn=[],Bn=[],jn=null,_n=0,Xn=parseInt(Z.Utils.getResource("DEFAULT_VALIDATEVIEWRETRYLIMIT"),10),$n=parseInt(Z.Utils.getResource("DEFAULT_VALIDATEVIEWRETRYDELAY"),10),Wn=[],qn=[],Yn=[],Gn=[],Kn=new Z.NetConnector,Qn=parseInt(Z.Utils.getResource("z81"),10),Jn=parseInt(Z.Utils.getResource("z78"),10),ei=parseInt(Z.Utils.getResource("z80"),10),ti=parseInt(Z.Utils.getResource("z77"),10),_t=ti,ni=parseInt(Z.Utils.getResource("z79"),10),ii=parseInt(Z.Utils.getResource("z76"),10),oi=parseInt(Z.Utils.getResource("z75"),10),ai=null,ri=null,si=null,li=parseFloat(Z.Utils.getResource("z173UNCONVERTED"),10),ui=null!==Z.panBuffer?Z.panBuffer:parseFloat(Z.Utils.getResource("z173"),10),ci="unconverted"!=Z.tileSource?ui:li,di=parseFloat(Z.Utils.getResource("z74"),10),pi=parseFloat(Z.Utils.getResource("DEFAULT_z310SIZEMAXBROWSER"),10),fi=parseFloat(Z.Utils.getResource("DEFAULT_z310SIZEMAXFIREFOX"),10),hi=parseFloat(Z.Utils.getResource("DEFAULT_z310SIZEMAXIMAGESET"),10);en=Z.viewerW,tn=Z.viewerH,nn=on=0,tn-=Pt,0==Z.toolbarPosition&&(on+=Pt);var mi,gi,Zi=null,vi=null,yi=null,bi=!1,wi=parseInt(Z.Utils.getResource("z122"),10),xi=Math.round(parseFloat(Z.Utils.getResource("z176"))*Z.panSpeed),Ti=0,Si=0,ki=0,Ei=0,Ci=0,Ui=0,Ii=null,zi=null,Di=null,Ni=null,Vi=null,Pi=null,Ri=null,Li=parseFloat(Z.Utils.getResource("z242"))*Z.zoomSpeed;Z.mobileDevice&&(Li/=2);var Fi=0,Ai=null,Oi=0,Mi=parseInt(Z.Utils.getResource("z238"),10),Hi=parseFloat(Z.Utils.getResource("z112"))*Z.fadeInSpeed,Bi=null,ji=parseFloat(Z.Utils.getResource("z239")),_i=parseFloat(Z.Utils.getResource("z240"));Z.mobileDevice&&(_i/=2);var Xi=null,$i=0;if(!Z.fullScreenVisible&&!Z.fullPageVisible)var Wi,qi,Yi,Gi,Ki,Qi,Ji;if(null!==Z.imagePath&&"null"!=Z.imagePath){if(1==Z.localUse&&"ZoomifyImageFile"==Z.tileSource)return void Z.Utils.showMessage(Z.Utils.getResource("z290"),!0);if(1==Z.localUse&&(Z.browser==Z.browsers.CHROME||Z.browser==Z.browsers.OPERA||Z.browser==Z.browsers.IE&&11==Z.browserVersion||Z.browser==Z.browsers.SAFARI&&7<=Z.browserVersion)&&Z.Utils.showMessage(Z.Utils.getResource("z288"),!0),null!==Z.imageW&&null!==Z.imageH&&null!==Z.sourceMagnification)"undefined"!=typeof Tt.getStatus?n(Z.imageW,Z.imageH,It,zt,null,null,null,null,Z.sourceMagnification,Z.focal,Z.quality):window.setTimeout(function(){n(Z.imageW,Z.imageH,It,zt,null,null,null,null,Z.sourceMagnification,Z.focal,Z.quality)},100);else if(null!==Z.imageProperties){var eo=Z.Utils.xmlConvertTextToDoc(Z.imageProperties);u(eo)}else if("unconverted"==Z.tileSource)m(it);else if(-1==Z.imagePath.indexOf("zSlidePath")&&-1==Z.imagePath.indexOf("zAnimationPath")){var to=new Z.NetConnector;l(it,to,nt)}}this.setSizeAndPosition=function(e,t,n,i){s(e,t,n,i)},this.syncViewportResize=function(e,t,n,i){Tt.setSizeAndPosition(Z.viewerW,Z.viewerH,0,0),Tt.resizeViewport(e,t,n,i)},this.resizeViewport=function(e,t,n,i){Tt.validateXYZDefaults(),Tt.setView(e,t,n,i)},this.loadImageProperties=function(e,t,n){l(e,t,n)},this.parseZIFHeader=function(e){if(o(),73==e[0]&&73==e[1]&&43==e[2]&&0==e[3]&&8==e[4]&&0==e[5]&&0==e[6]&&0==e[7]&&16==e[8]&&0==e[9]&&0==e[10]&&0==e[11]&&0==e[12]&&0==e[13]&&0==e[14]&&0==e[15]){for(var t=Z.Utils.longValue(e,8),a=Z.Utils.longValue(e,t),r=1,s=null,l=null,u=null,c=null,d=null,p=null,p=2;0!=t;){for(s=0;a>s;s++)switch(l=t+8+20*s,Z.Utils.shortValue(e,l)){case 256:$t[r-1]=Z.Utils.intValue(e,l+12);break;case 257:Wt[r-1]=Z.Utils.intValue(e,l+12);break;case 322:u=Z.Utils.intValue(e,l+12);break;case 323:c=Z.Utils.intValue(e,l+12);break;case 324:var f=tierTileOffsetsCount[r-1]=Z.Utils.longValue(e,l+4);Kt[r-1]=Z.Utils.longValue(e,l+12),d+=f;break;case 325:f=tierTileByteCountsCount[r-1]=Z.Utils.longValue(e,l+4),Qt[r-1]=1==f?Z.Utils.intValue(e,l+12):2==f?Z.Utils.intValue(e,l+12)+","+Z.Utils.intValue(e,l+16):Z.Utils.longValue(e,l+12)}t=Z.Utils.longValue(e,t+20*a+8),a=Z.Utils.longValue(e,t),r++}s=$t[0],l=Wt[0],Mt=r-1,$t.reverse(),Wt.reverse(),tierTileOffsetsCount.reverse(),Kt.reverse(),tierTileByteCountsCount.reverse(),Qt.reverse(),!isNaN(s)&&s>0&&!isNaN(l)&&l>0&&!isNaN(u)&&u>0&&!isNaN(c)&&c>0&&d>0?"undefined"!=typeof Tt.getStatus?n(s,l,u,c,d,p,null,null,null,null,null):i(s,l,u,c,d,p,null,null,null,null,null):Z.Utils.showMessage("ZoomifyImageFolder"==Z.tileSource?Z.Utils.getResource("z252"):Z.Utils.getResource("z250"))}},this.parseZIFOffsetChunk=function(e,t){var n=Z.Utils.arrayIndexOfObjectValue(tierTileOffsetChunks,"chunkID",t);-1!=n&&(tierTileOffsetChunks[n].chunk=e,S(t,"offset"))},this.parseZIFByteCountChunk=function(e,t){var n=Z.Utils.arrayIndexOfObjectValue(tierTileByteCountChunks,"chunkID",t);-1!=n&&(tierTileByteCountChunks[n].chunk=e,S(t,"byteCount"))},this.parseZIFImage=function(e,t,n){e="data:image/jpeg;base64,"+Z.Utils.encodeBase64(e);var i;"image-display"==n?i=C:"image-backfill"==n?i=U:"navigator"==n&&(i=Z.Navigator.z556),t=Z.Utils.createCallback(null,i,t),Z.Utils.createImageElementFromBytes(e,t)},this.z602=function(e){u(e)},this.validateXYZDefaults=function(e){e&&Z.Utils.resetParametersXYZ(Z.parameters);var t=parseFloat(Z.Utils.getResource("z143")),n=parseFloat(Z.Utils.getResource("z144")),i=parseFloat(Z.Utils.getResource("z145")),o=parseFloat(Z.Utils.getResource("DEFAULT_INITIALR")),a=parseFloat(Z.Utils.getResource("z163"));e=parseFloat(Z.Utils.getResource("z153")),t=isNaN(t)?null:t,n=isNaN(n)?null:n,i=isNaN(i)?null:i,o=isNaN(o)?null:o,a=isNaN(a)?null:a,e=isNaN(e)?null:e,Z.parameters?(Z.parameters.zInitialX||(Z.initialX=t),Z.parameters.zInitialY||(Z.initialY=n),Z.parameters.zInitialZoom||(Z.initialZ=i),Z.parameters.zInitialRotation||(Z.initialR=o),Z.parameters.zMinZoom||(Z.minZ=a),Z.parameters.zMaxZoom||(Z.maxZ=e)):(Z.initialX=t,Z.initialY=n,Z.initialZ=i,Z.initialR=o,Z.minZ=a,Z.maxZ=e),null===Z.initialX&&(Z.initialX=Z.imageW/2),null===Z.initialY&&(Z.initialY=Z.imageH/2),Z.fitZ=Tt.z468(0),Z.fillZ=Tt.calculateZoomToFill(0),t=Tt.getStatus("initialized")?Tt.getRotation():Z.initialR,e=Tt.z468(t),t=Tt.calculateZoomToFill(t),1<Z.fitZ&&(null!==Z.maxZ?Z.fitZ>Z.maxZ&&(Z.fitZ=Z.maxZ):"unconverted"==Z.tileSource&&(Z.fitZ=1)),1<Z.fillZ&&(null!==Z.maxZ?Z.fillZ>Z.maxZ&&(Z.fillZ=Z.maxZ):"unconverted"==Z.tileSource&&(Z.fillZ=1)),null===Z.minZ||-1==Z.minZ?Z.minZ=Z.fitZ:0==Z.minZ&&(Z.minZ=Z.fillZ),(null===Z.maxZ||-1==Z.maxZ)&&(Z.maxZ=1),null===Z.initialZ||-1==Z.initialZ?Z.initialZ=e:0==Z.initialZ&&(Z.initialZ=t),Z.initialZ<Z.minZ&&(Z.initialZ=Z.minZ),Z.initialZ>Z.maxZ&&(Z.initialZ=Z.maxZ)},this.getViewW=function(){return en},this.getViewH=function(){return tn},this.getDisplayW=function(){return an},this.getDisplayH=function(){return rn},this.getImagePath=function(){return it},this.setImagePath=function(e){it=e},this.getViewportID=function(){return nt},this.getTierCount=function(){return Mt},this.getTileW=function(){return It},this.getTileH=function(){return zt},this.getTierCurrent=function(){return Ht},this.getTierBackfill=function(){return Bt},this.getTierBackfillDynamic=function(){return jt},this.getTierBackfillOversize=function(){return _t},this.getTierScale=function(){return Lt},this.getX=function(){var e=parseFloat(ct.left)-un,t=Tt.getZoom();return et-e/t},this.getY=function(){var e=parseFloat(ct.top)-cn,t=Tt.getZoom();return tt-e/t},this.getZoom=function(){return L(Ht,Lt)},this.getRotation=function(){return Z.imageR},this.getTiersScaleUpMax=function(){return Dt},this.getTiersScaleDownMax=function(){return Nt},this.getTilesCacheMax=function(){return Vt},this.getTierWs=function(){return $t.join(",")},this.getTierHs=function(){return Wt.join(", ")},this.getTierTileCounts=function(){return Gt.join(", ")},this.getTilesToLoad=function(){return xn},this.getTilesLoadingNames=function(){return""==An.join(", ")?"Current view loading complete":An.join(", ")},this.getTilesToDraw=function(){return Pn},this.getConstrainPan=function(){return Z.constrainPan},this.setConstrainPan=function(e){Z.constrainPan=0!=e,Z.constrainPanStrict=2==e?!0:!1,Z.constrainPan&&Tt.toggleConstrainPan(!0)},this.getSmoothPan=function(){return Z.smoothPan},this.setSmoothPan=function(e){Z.smoothPan=e},this.getSmoothPanEasing=function(){return Z.smoothPanEasing},this.setSmoothPanEasing=function(e){Z.smoothPanEasing=e},this.getSmoothPanGlide=function(){return Z.smoothPanGlide},this.setSmoothPanGlide=function(e){Z.smoothPanGlide=e},this.setVisibility=function(e){e=e?"inline-block":"none",ot&&!rt&&(rt=ot.style),rt&&(rt.display=e),lt&&!ct&&(ct=lt.style),ct&&(ct.display=e)},this.z619=function(t){t||(d(oi,yn),ai=!0),(!Z.imageSet||e==Z.imageSetStart||t)&&Mt>ni&&(d(ii,yn),ri=!0,Mt>ei&&(d(ti,yn),si=!0),Tt.setStatus("backfillPrecached",!0)),yn.sort(),yn=Z.Utils.arrayUnique(yn),Zn=yn.slice(0),Tt.traceDebugValues("tilesBackfillToPrecache",null,Zn.length),y(yn,U,"simple","image-backfill")},this.updateView=function(t){("undefined"==typeof e||null===e)&&(e=0);var n=Z.mouseIsDown||Z.buttonIsDown||Z.keyIsDown||Z.mouseWheelIsDown,i=Lt!=Ft||Tt.getZoom()!=Z.imageZ||Z.imageZ!=Z.priorZ,o=parseFloat(ct.left)!=un||parseFloat(ct.top)!=cn||Tt.getX()!=Z.imageX||Tt.getY()!=Z.imageY,a=Z.fullViewPrior;if(i||o||a||"undefined"!=typeof t&&t&&(!n||Z.animation)){if(!Z.imageSet||!Z.Viewer.getStatus("ready")||e>Z.viewportCurrentID-1&&e<Z.viewportCurrentID+1){B();var r=!1;if(t||parseFloat(Zt.width)!=gt.width){if(Z.useCanvas){Zt.width=gt.width+"px",Zt.height=gt.height+"px",Zt.left="0px",Zt.top="0px",vt.restore(),vt.save();try{vt.scale(Lt,Lt)}catch(s){Z.Utils.showMessage(Z.Utils.getResource("ERROR_SCALINGCANVASFORUNCONVERTEDIMAGE")),console.log("In function z630 scaling canvas:  "+s)}pt&&(jt?(ft.width=pt.width+"px",ft.height=pt.height+"px",ft.left=mn+"px",ft.top=gn+"px",ht.restore(),ht.save(),ht.scale(At,At)):(ft.width=dn+"px",ft.height=pn+"px",ft.left=mn+"px",ft.top=gn+"px"))}r=!0}if((t||parseFloat(ct.left)!=un||parseFloat(ct.top)!=cn)&&(r=parseFloat(ct.left)-un,n=parseFloat(ct.top)-cn,0!=Z.imageR&&(n=Z.Utils.rotatePoint(r,n,Z.imageR),r=n.x,n=n.y),ct.left=un+"px",ct.top=cn+"px",jt||(mn=parseFloat(ft.left)+r,gn=parseFloat(ft.top)+n,ft.left=mn+"px",ft.top=gn+"px"),a=Tt.getZoom(),Z.imageX=et=Z.imageX-r/a,Z.imageY=tt=Z.imageY-n/a,r=!0),r&&(f(gt,Ht,On,"centerOut",!1,"1a. Updating view: resetting display positions"),jt&&f(pt,Bt,vn,"simple",!1,"1b. Updating view: resetting backfill positions")),r=!1,"undefined"!=typeof t&&t||Lt!=Ft||Tt.getZoom()!=Z.imageZ||!Tt.getStatus("initialized")){for(Lt!=Ft&&(Z.imageZ=Tt.getZoom()),Z.imageZ<Z.minZ&&(Z.imageZ=Z.minZ),Z.imageZ>Z.maxZ&&(Z.imageZ=Z.maxZ),a=Dt,n=Mt;a/2>=Z.imageZ;)n--,a/=2;if(n=0>n-1?0:n-1,a=F(n,Z.imageZ),(n!=Ht||a!=Lt)&&(Z.useCanvas&&(vt.restore(),vt.save(),vt.scale(a,a)),Ht!=n&&(Xt=!0),Ht=n,Lt=a),Ft=Lt,"unconverted"!=Z.tileSource){jt=!1,Ht>Qn?(Bt=Ht-Jn,jt=!0):Bt=Ht>ei?ti:Ht>ni?ii:oi,tierBackfillScalePrior=At=F(Bt,Z.imageZ);var n=$t[Bt],a=Wt[Bt],l=Z.imageX*Z.imageZ,u=Z.imageY*Z.imageZ;jt?(n=di,dn=an*n,pn=rn*n,mn=-(an/n),gn=-(rn/n),fn=sn*n,hn=ln*n,pt.width=dn,pt.height=pn,ft.width=pt.width+"px",ft.height=pt.height+"px",ft.left=mn+"px",ft.top=gn+"px",Z.useCanvas&&(at&&(Ot=F(_t,Z.imageZ),st.restore(),st.save(),st.scale(Ot,Ot),0!=Z.imageR&&st.rotate(Z.imageR*Math.PI/180)),ht.restore(),ht.translate(fn,hn),ht.save(),ht.scale(At,At))):(dn=n*At,pn=a*At,mn=sn-l,gn=ln-u,pt.width=n,pt.height=a,Z.useCanvas&&(ft.width=dn+"px",ft.height=pn+"px"),ft.left=mn+"px",ft.top=gn+"px"),f(pt,Bt,vn,"simple",!1,"2. Updating view: changing tier - backfill")}!t&&Vt>0&&(r=!0)}else Tt.traceDebugValues("updateView-noChange");"unconverted"!=Z.tileSource&&jt?p(!0):at&&Z.Utils.clearDisplay(at)}Z.imageSet&&e!=Z.viewportCurrentID?(Tt.setStatus("displayLoaded",!0),Tt.setStatus("displayDrawn",!0)):("unconverted"!=Z.tileSource?(p(),f(gt,Ht,null,"centerOut",r,"3. Updating view: prior to loading of any new tiles")):"undefined"!=typeof Rt&&(t=-Z.imageX,r=-Z.imageY,Z.Utils.clearDisplay(gt),vt.drawImage(Rt,t,r)),0<An.length&&y(An,C,"centerOut","image-display"),Tt.syncViewportRelated()),o&&Z.Utils.validateCallback("viewPanned"),i&&Z.Utils.validateCallback("viewZoomed"),(o||i)&&Z.Utils.validateCallback("viewChanged")}},syncTransitionCanvas=function(){bt&&wt&&xt&&(bt.width=gt.width,bt.height=gt.height,wt.width=Zt.width,wt.height=Zt.height,wt.left=Zt.left,wt.top=Zt.top,xt.restore(),xt.save(),xt.translate(sn,ln),xt.scale(Lt,Lt))},this.loadUnconvertedImage=function(e){m(e)},this.getUnconvertedImage=function(){return Rt},this.createUnconvertedImageThumbnail=function(){if(Z.useCanvas){if("undefined"!=typeof Rt){var e=null,e=150/Z.imageW,t=Z.Utils.createContainerElement("canvas","tempCanvas","inline-block","absolute","visible",Z.imageW*e+"px",Z.imageH*e+"px","0px","0px","none","0px","transparent none","0px","0px","normal"),n=t.getContext("2d");try{n.scale(e,e),n.drawImage(Rt,0,0)}catch(i){console.log("In function initializeViewportContinue scaling canvas:  "+i)}return e=new Image,e.src=t.toDataURL("image/jpeg",Z.saveImageCompression),e}window.setTimeout(function(){createUnconvertedImageThumbnail()},100)}},this.formatTilePath=function(e,t,n,i){var o;if("ZoomifyImageFile"==Z.tileSource){o="offsetLoading";var a,r="loading",s="loading";if(1==tierTileOffsetsCount[e])r=Kt[e];else{var l=new x(e,t,n),u=l.chunkID+","+e+","+t+","+n+","+i+",offset";a=Z.Utils.arrayIndexOfObjectValue(tierTileOffsetChunks,"chunkID",l.chunkID),-1==a?(Tt.traceDebugValues("z532",l.chunkID+","+e+","+t+","+n+","+i),-1==Z.Utils.arrayIndexOf(qn,u)&&(qn[qn.length]=u),tierTileOffsetChunks[tierTileOffsetChunks.length]={chunkID:l.chunkID,chunk:"loading"},a=new Z.NetConnector,a.loadByteRange(it,l.chunkStart,l.chunkEnd,"offset",null,l.chunkID)):"loading"==tierTileOffsetChunks[a].chunk?-1==Z.Utils.arrayIndexOf(qn,u)&&(qn[qn.length]=u):"loading"!=tierTileOffsetChunks[a].chunk&&(a=tierTileOffsetChunks[a].chunk,r=Z.Utils.longValue(a,l.offsetStartInChunk))}1==tierTileByteCountsCount[e]?s=Qt[e]:(a=t+n*qt[e],2==tierTileByteCountsCount[e]?(e=Qt[e],s=0==a?e.substring(0,e.indexOf(",")):e.substring(e.indexOf(",")+1,e.length)):(l=new T(e,t,n),e=l.chunkID+","+e+","+t+","+n+","+i+",byteCount",a=Z.Utils.arrayIndexOfObjectValue(tierTileByteCountChunks,"chunkID",l.chunkID),-1==a?(-1==Z.Utils.arrayIndexOf(qn,e)&&(qn[qn.length]=e),tierTileByteCountChunks[tierTileByteCountChunks.length]={chunkID:l.chunkID,chunk:"loading"},a=new Z.NetConnector,a.loadByteRange(it,l.chunkStart,l.chunkEnd,"byteCount",null,l.chunkID)):"loading"==tierTileByteCountChunks[a].chunk?-1==Z.Utils.arrayIndexOf(qn,e)&&(qn[qn.length]=e):"loading"!=tierTileByteCountChunks[a].chunk&&(a=tierTileByteCountChunks[a].chunk,s=Z.Utils.intValue(a,l.bcStartInChunk)))),"loading"==r||isNaN(r)||"loading"==s||isNaN(s)||(o=it+"?"+r.toString()+","+s.toString())}else if("ZoomifyImageFolder"==Z.tileSource){for(o=n*qt[e]+t,r=0;e>r;r++)o+=Gt[r];e=it+"/TileGroup"+Math.floor(o/256)+"/"+e+"-"+t+"-"+n+"."+Z.tileType,(Z.browser==Z.browsers.IE&&9>Z.browserVersion||0==Vt)&&(e=Z.Utils.cacheProofPath(e)),o=e}return o},this.getClickCoordsInImage=function(e,t,n){e=Z.Utils.event(e);var i=null;if(e){var o=e.type;("undefined"==typeof n||null===n)&&("touchstart"==o||"touchend"==o||"touchcancel"==o?(touch=Z.Utils.getFirstTouch(e),"undefined"!=typeof touch&&(target=touch.target,n=new Z.Utils.Point(touch.pageX,touch.pageY))):(target=Z.Utils.target(e),relatedTarget=Z.Utils.relatedTarget(e),n=Z.Utils.getMousePosition(e))),"undefined"!=typeof n&&null!==n&&(e=V(n.x,n.y),i=P(e.x,e.y,t))}return i},this.getClickZoomCoords3D=function(e,t,n,i,o){var a=parseFloat(Z.Utils.getResource("z93TIERSKIPTHRESHOLD"));t=V(t.x,t.y),t=P(t.x,t.y,Z.imageZ);var r=L(n,i);return e=e.altKey,o?e?r=Z.fitZ:(o=F(n,Z.fitZ),a>i-o?r=Z.fitZ:i>1+a?r=L(n,1):n>0?r=L(n-1,1):"unconverted"==Z.tileSource&&(r=Z.fitZ)):e?r=1:1-a>i?r=L(n,1):Mt-1>n&&(r=L(n+1,1)),new Z.Utils.Point3D(t.x,t.y,r)},this.calculateCurrentCenterCoordinates=function(e,t,n){("undefined"==typeof e||null===e)&&(e=new Z.Utils.Point(parseFloat(ct.left),parseFloat(ct.top))),("undefined"==typeof n||null===n)&&(n=Z.imageR),0>n&&(n+=360),("undefined"==typeof t||null===t)&&(t=Tt.getZoom());var i=(e.x-un)/t;e=(e.y-cn)/t;var o,a;switch(n){case 0:o=Z.imageX-i,a=Z.imageY-e;break;case 90:o=Z.imageX-e,a=Z.imageY+i;break;case 180:o=Z.imageX+i,a=Z.imageY+e;break;case 270:o=Z.imageX+e,a=Z.imageY-i}return new Z.Utils.Point(o,a)},this.z542=function(e,t){return("undefined"==typeof e||null===e)&&(e=Ht),("undefined"==typeof t||null===t)&&(t=!1),new D(Tt.z541(t),e)},this.z541=function(e){var t=parseFloat(ct.left)-un,n=parseFloat(ct.top)-cn;if(Z.useCanvas)var i=parseFloat(ct.width)/ut.width,t=t/i,n=n/i;i=Tt.getZoom(),0!=t&&(t/=i),0!=n&&(n/=i);var o,a,r,t=Z.imageX-t,n=Z.imageY-n;return e?(e=-(en/2),o=en/2,a=-(tn/2),r=tn/2):(e=-(an/2),o=an/2,a=-(rn/2),r=rn/2),new N(t,n,e,o,a,r,i)},this.HotspotsAllBoundingBoxInPixels=function(){for(var e=new HotspotContext,t=Z.imageCenterX,n=Z.imageCenterX,i=Z.imageCenterY,o=Z.imageCenterY,a=0,r=hotspots.length;r>a;a++){var s=hotspots[a],l=new HotspotDimensions(s,e,null,!0),u=s.x-l.w/2,c=s.x+l.w/2,d=s.y-l.h/2,s=s.y+l.h/2;t>u&&(t=u),c>n&&(n=c),i>d&&(i=d),s>o&&(o=s)}e=parseInt(Z.Utils.getResource("DEFAULT_SAVEIMAGELABELMARGIN"),10),t-=e,i-=e,n+=e,o+=e,this.l=t,this.r=n,this.t=i,this.b=o,this.x=t+(n-t)/2,this.y=i+(o-i)/2},this.z468=function(e){var t=Z.imageW/Z.imageH>en/tn?en/Z.imageW:tn/Z.imageH;return(90==e||270==e)&&(t=Z.imageW/Z.imageH>en/tn?en/Z.imageH:tn/Z.imageW),t},this.calculateZoomToFill=function(e){var t=Z.imageW/Z.imageH>en/tn?tn/Z.imageH:en/Z.imageW;return(90==e||270==e)&&(t=Z.imageW/Z.imageH>en/tn?tn/Z.imageW:en/Z.imageH),t},this.calculateZoomForResize=function(e,t,n,i,o){var a=e,r=Z.imageW*e,s=Z.imageH*e;return t=i/t,n=o/n,i>r&&o>s?a=e:r==i&&o>s?a=-1:i>r&&s==o?a=-1:r>i&&o>=s?a=e*t:i>=r&&s>o?a=e*n:r>i&&s>o&&(i=1,t>=1&&n>=1?i=t>n?t:n:1>=t&&1>=n&&(i=n>t?t:n),a=e*i),a<Z.minZ&&(a=Z.minZ),a>Z.maxZ&&(a=Z.maxZ),a},this.z482=function(e,t){return L(e,t)},this.syncViewportToNavigator=function(e){var t=Z.imageR;0>t&&(t+=360);var n=A(e.x,e.y,Z.imageZ,t,"image");e=Z.imageY;var i=n.y,n=dX=Z.imageX-n.x;e=dY=e-i,0!=t&&(90==t?(n=-dY,e=dX):180==t?(n=-dX,e=-dY):270==t&&(n=dY,e=-dX)),t=n*Z.imageZ,e*=Z.imageZ,i=e+cn,ct.left=t+un+"px",ct.top=i+"px",at&&jt&&(Z.mobileDevice||Math.abs(t)>en/2||Math.abs(e)>tn/2)&&f(at,_t,vn,"simple",!1,"Updating backfill oversize display")},this.getStatus=function(e){return e=Z.Utils.arrayIndexOfObjectValue(St,"state",e),-1==e?!1:St[e].status},this.setStatus=function(e,t){var n=!1,i=Z.Utils.arrayIndexOfObjectValue(St,"state",e);-1==i?(n=t,St[St.length]={state:e,status:t}):(!St[i].status&&t&&(n=!0),St[i].status=t),n&&(Z.Utils.validateCallback(e+"Viewport"),Z.Viewer.validateViewerStatus(e))},this.traceDebugValues=function(e,t,n){switch(n="undefined"!=typeof n&&null!==n?n:null,t=null!==t?t:"",e){case"tilesToDisplay":In=n,Vn=Nn=Dn=zn=0,Pn=n,Rn=0,tilesTimeStart=(new Date).getTime(),Ln=0,window.clearTimeout(jn),jn=null,jn=window.setTimeout(H,$n);break;case"tilesInCache":zn=n;break;case"z581-image-display":Dn+=1;break;case"onTileLoad":Nn+=1,Rn=((new Date).getTime()-n)/1e3,Ln=Nn/Rn;break;case"z507":e=Z.Utils.arrayIndexOf(Fn,t),-1!=e&&(Fn.splice(e,1),Vn+=1,--Pn);break;case"tilesBackfillToPrecache":Sn=n;break;case"onTileBackfillPrecache":kn+=1;break;case"tilesBackfillToDisplay":Jt=En=n;break;case"z599":Cn+=1;break;case"displayBackfillTile":e=Z.Utils.arrayIndexOf(Zn,t),-1!=e&&(Zn.splice(e,1),Un+=1,--Jt)}},this.updateProgress=function(e,t){var n,i=Z;0==e&&0==t?(Z.Utils.validateCallback("loadingTilesComplete"),Z.Utils.validateCallback("loadingTilesCompleteGetLabelIDs"),n=void 0):(n=Math.round(100-t/e*100),n=Math.round(n/10)),i.updateViewPercent=n,Z.ToolbarDisplay&&Z.Toolbar.getInitialized()&&Z.Toolbar.updateProgress(e,t)},this.setDrawingColor=function(e,t){var n,i=Z.annotationFileShared?"0":nt.toString();switch(e){case"buttonColor0"+i:n="#FFFFFF";break;case"buttonColor1"+i:n="#FFFF00";break;case"buttonColor2"+i:n="#00FFFF";break;case"buttonColor3"+i:n="#800080";break;case"buttonColor4"+i:n="#008000";break;case"buttonColor5"+i:n="#FF0000";break;case"buttonColor6"+i:n="#0000FF";break;case"buttonColor7"+i:n="#000000"}captionTextColor=ctrlPtStrokeColor=lineStrokeColor=n,i="#FFFFFF"==n?"#000000":"#FFFFFF",t||null===hotspotCurrentID||1!=Z.editMode||"addLabel"!=Z.editing&&"editLabel"!=Z.editing||(Tt.modifyHotspot(hotspotCurrentID,"textColor",n,!0,!0),Tt.modifyHotspot(hotspotCurrentID,"backColor",i,!0,!0),Tt.modifyHotspot(hotspotCurrentID,"lineColor",n,!1,!0))},this.setView=function(e,t,n,i,o,a){j(e,t,n,i,o,a)},this.zoom=function(e){if("stop"!=e||"stop"!=Z.zooming){switch(e){case"out":Fi>=0&&(Fi-=Li);break;case"in":0>=Fi&&(Fi+=Li);break;case"stop":Fi=0}Z.zooming=0==Fi?"stop":Fi>0?"in":"out",0!=Fi?Ai||(Ai=window.setTimeout(_,Mi)):($(),Tt.updateView())}},this.pan=function(e){if(!("horizontalStop"==e&&"stop"==Z.panningX||"verticalStop"==e&&"stop"==Z.panningY)){switch(e){case"left":0>=Ti&&(Ti+=xi);break;case"up":0>=Si&&(Si+=xi);break;case"down":Si>=0&&(Si-=xi);break;case"right":Ti>=0&&(Ti-=xi);break;case"horizontalStop":Ti=0;break;case"verticalStop":Si=0;break;case"stop":Si=Ti=0}Z.panningX=0==Ti?"stop":Ti>0?"left":"right",Z.panningY=0==Si?"stop":Si>0?"up":"down",L(Ht,1),L(Ht,1),0!=Ti||0!=Si?Ai||(Ai=window.setTimeout(_,Mi)):($(),Tt.updateView())}},this.zoomAndPanToView=function(e,t,n,i,o,a,r){Tt.zoomAndPanAllStop(),Z.clickZoomAndPanBlock?Z.clickZoomAndPanBlock=!1:(("undefined"==typeof e||null===e)&&(e=Z.imageX),("undefined"==typeof t||null===t)&&(t=Z.imageY),("undefined"==typeof n||null===n)&&(n=Z.imageZ),("undefined"==typeof i||null===i)&&(i=Z.imageR),("undefined"==typeof o||null===o)&&(o=ji),("undefined"==typeof a||null===a)&&(a=_i),("center"==e||isNaN(parseFloat(e)))&&(e=Z.imageCenterX),("center"==t||isNaN(parseFloat(t)))&&(t=Z.imageCenterY),(-1==n||isNaN(parseFloat(n)))&&(t=Z.fitZ),("undefined"==typeof e||null===e)&&(e=Z.initialX),("undefined"==typeof t||null===t)&&(t=Z.initialY),("undefined"==typeof i||null===i)&&(i=Z.imageR),"undefined"==typeof n||null===n?n=Z.initialZ:n>1&&2>n&&0!=n%1?n=1:n>1?n/=100:n>.99&&1>n&&0!=100*n%1&&(n=1),t=A(e,t,n,i,"image"),e=t.x,t=t.y,n=O(n),(Math.round(e)!=Math.round(Z.imageX)||Math.round(t)!=Math.round(Z.imageY)||Math.round(1e5*n)!=Math.round(1e5*Z.imageZ)||Math.round(i)!=Math.round(Z.imageR))&&(Z.interactivityOff=!0,$i=0,X(e,t,n,i,o,a,r)))},this.zoomAndPanAllStop=function(e,t){Z.interactivityOff||(Xi&&Xi&&(window.clearTimeout(Xi),Xi=null),Z.tourPlaying&&t&&(Tt.tourStop(),e=!1),Z.slideshowPlaying&&t&&(Tt.slideshowStop(),e=!1),Z.smoothPan&&null!==Ni&&(Z.mouseIsDown||G(!0),e=!0),e||Tt.updateView())},this.syncViewportRelated=function(e,t,n,i){("undefined"==typeof n||n)&&(Z.ToolbarDisplay&&Z.Toolbar.getInitialized()&&(e=Tt.getZoom(),Z.Toolbar.syncSliderToViewportZoom(e)),Z.Utils.validateCallback("viewZoomingGetCurrentZoom")),("undefined"==typeof i||i)&&Z.Navigator&&Z.Navigator.getInitialized()&&Z.Navigator.syncToViewport()},this.z633=function(e,t){W(e,t)&&Tt.syncViewportRelated()},this.reset=function(e){e?Tt.zoomAndPanToView(Z.priorX,Z.priorY,Z.priorZ,Z.priorR):Tt.zoomAndPanToView(Z.initialX,Z.initialY,Z.initialZ,Z.initialR),B(!0)},this.toggleConstrainPan=function(e){if(Z.constrainPan="undefined"!=typeof e&&null!==e?e:!Z.constrainPan,Z.constrainPan){e=parseFloat(Zt.left);var t=parseFloat(Zt.top);e=A(e,t,Z.imageZ,Z.imageR,"container"),ct.left=e.x+"px",ct.top=e.y+"px",Tt.updateView()}},this.toggleSmoothPan=function(){G(),Z.smoothPan=!Z.smoothPan},this.toggleBackfill=function(){var e=document.getElementById("viewportBackfillDisplay"+nt.toString());e&&(e=e.style,e.display="none"==e.display?"inline-block":"none")},this.toggleDisplay=function(){var e=document.getElementById("viewportDisplay"+nt.toString());e&&(Zt=e.style,Zt.display="none"==Zt.display?"inline-block":"none")},this.toggleFullViewMode=function(e,t){Z.ToolbarDisplay&&Z.Toolbar.show(!1);var n=null,i=null;Z.fullViewPrior=Z.fullView,Z.fullView="undefined"!=typeof e&&null!==e?e:!Z.fullView;var o=document.body.style,a=document.documentElement.style,r=Z.ViewerDisplay.style,i=Z.Utils.getElementStyle(Z.pageContainer);Z.fullView?(qi=o.width,Yi=o.height,Gi=o.overflow,Ki=a.overflow,Qi=Z.Utils.stringValidate(i.backgroundColor)&&"transparent"!=i.backgroundColor?i.backgroundColor:Z.Utils.stringValidate(o.backgroundColor)&&"transparent"!=o.backgroundColor?o.backgroundColor:Z.Utils.getResource("z120"),Ji=r.zIndex,Z.fullScreenSupported&&!Z.fullPageVisible?(Wi=!0,Z.Utils.fullScreenView(Z.ViewerDisplay,!0),i=Z.Utils.getScreenSize()):(i=Z.Utils.getWindowSize(),Z.mobileDevice?(o.width=i.x,o.height=i.y):(o.width="100%",o.height="100%")),n=i.x,i=i.y,o.overflow="hidden",a.overflow="hidden",r.backgroundColor=Qi,r.position="fixed",r.zIndex="99999999"):(o.overflow=Gi,a.overflow=Ki,r.backgroundColor=Qi,r.position="relative",r.zIndex=Ji,Z.fullScreenSupported&&!Z.fullPageVisible&&Z.Utils.fullScreenView(Z.ViewerDisplay,!1,t),o.width=qi,o.height=Yi,n=parseFloat(i.width),i=parseFloat(i.height),isNaN(n)&&(n=Z.ViewerDisplay.clientWidth),isNaN(i)&&(i=Z.ViewerDisplay.clientHeight)),Z.autoResize||(Z.initialFullPage&&Tt.setSizeAndPosition(n,i),o=Z.viewportCurrent.calculateZoomForResize(Z.viewportCurrent.getZoom(),Z.viewerW,Z.viewerH,n,i),Z.Viewer.resizeViewer(n,i,o)),n=Z.fullView,o=document.getElementById("buttonFullView"),a=document.getElementById("buttonFullViewExit"),o&&a&&(o.style.display=n?"none":"inline-block",a.style.display=n?"inline-block":"none"),Z.fullViewPrior=!1},this.fullScreenEscapeHandler=function(){Wi?Wi=!1:Tt.toggleFullViewMode(!1,!0)},this.mouseWheelHandler=function(e){if(Z.mouseWheelIsDown=!0,Z.mouseWheelCompleteTimer&&window.clearTimeout(Z.mouseWheelCompleteTimer),Z.mouseWheelCompleteTimer=window.setTimeout(Z.Viewer.z586,Z.mouseWheelCompleteDuration),"zoom"==Z.sliderFocus){var t=Tt.z482(Ht,Lt*(1+(e>0?Li:-Li)));constrainedZ=O(t),constrainedZ!=Z.imageZ&&(Z.zooming=e>0?"in":0>e?"out":"stop",Tt.z633(constrainedZ))}}},Z.ZoomifyToolbar=function(e){function t(){window.clearInterval(z),z=null;var e=document.getElementById("progressTextBoxCenteredDiv");e&&(e=e.firstChild)&&(e.nodeValue="")}function n(e){4>Z.toolbarVisible&&!Z.mobileDevice||8==Z.toolbarVisible?i(e):o(!e)}function i(e){g&&(g.display=e?"inline-block":"none")}function o(e){if(Z.ToolbarMinimized=e,g){var t=document.getElementById("buttonContainer"),n=document.getElementById("toolbarBackground"),i=document.getElementById("buttonMinimize"),o=document.getElementById("buttonExpand"),a=document.getElementById("logoDivider"),r=0;o&&!b&&(r=parseFloat(o.style.left)+parseFloat(o.style.width)+4);var s=Z.toolbarCurrentW;e?(t&&(t.style.display="none"),i&&o&&!b&&(a&&(a.style.display="none"),i.style.display="none",o.style.display="inline-block"),g.width=r+"px",n&&(n.style.width=r+"px")):(t&&(t.style.display="inline-block"),i&&o&&!b&&(a&&(a.style.display="inline-block"),i.style.display="inline-block",o.style.display="none"),g.width=s+"px",n&&(n.style.width=s+"px"))}}function a(e){if("undefined"!=typeof trszS&&"undefined"!=typeof btszS){e=(e-Z.minZ)/(Z.maxZ-Z.minZ);var t=parseFloat(trszS.left),n=parseFloat(trszS.left)+parseFloat(trszS.width)-parseFloat(btszS.width)-t;btszS.left=e*n+t+"px"}}function r(e){"undefined"!=typeof btsZ&&(C=!0,e=Z.Utils.getMousePosition(e),btsZ.mouseXPrior=e.x,btsZ.mouseYPrior=e.y)}function s(){if("undefined"!=typeof trszS&&"undefined"!=typeof btsZ&&"undefined"!=typeof btszS){var t=parseFloat(trszS.left),n=parseFloat(trszS.left)+parseFloat(trszS.width)-parseFloat(btszS.width),i=parseFloat(btszS.left)+(I.x-btsZ.mouseXPrior);t>i?i=t:i>n?i=n:btsZ.mouseXPrior=I.x,btszS.left=i+"px",t=Z.minZ+(i-t)/(n-t)*(Z.maxZ-Z.minZ),n=t-e.getZoom(),Z.zooming=n>0?"in":0>n?"out":"stop",e.z633(t)}}function l(t){if(t=Z.Utils.event(t)){var n=t.type,i=Z.Utils.target(t);if(i){var o=i.parentNode;if(o){var a=o;tbID=o.id}}i=Z.Utils.relatedTarget(t)}if("mousedown"==n&&e&&"buttonAudioOn"!=tbID&&"buttonAudioMuted"!=tbID&&e.zoomAndPanAllStop(!1,!0),(!Z.interactivityOff||"mousedown"!=n&&"mouseup"!=n||"buttonRotateClockwise"==tbID||"buttonRotateCounterwise"==tbID)&&(!i||"[object HTMLSelectElement]"!=i&&"[object HTMLOptionElement]"!=i)&&!Z.Utils.isRightMouseButton(t)){Z.touchSupport&&t.preventDefault(),(tbID&&-1!=tbID.indexOf("viewportContainer")||C)&&(C&&(o=document.getElementById("buttonSliderZoom")),o&&(tbID=o.id));var i=o,p=n;if(-1!=i.id.indexOf("button")&&-1==i.id.indexOf("buttonContainer")){var f=i.firstChild,h=i.childNodes[1],m=i.childNodes[2];f&&h&&m&&(f=f.style,h=h.style,m=m.style,f.visibility=h.visibility=m.visibility="hidden","mouseover"==p&&"buttonSliderZoom"==i.id&&C?m.visibility="visible":"mouseover"==p||"mouseup"==p?h.visibility="visible":"mousedown"==p||"mousemove"==p||"touchstart"==p||"MSPointerDown"==p?m.visibility="visible":("mouseout"==p||"touchend"==p||"touchcancel"==p||"MSPointerUp"==p)&&(f.visibility="visible"))}if(tbID&&"buttonBackground"!=tbID&&n)switch(n){case"mouseover":"trackSliderZoom"!=tbID&&"trackSliderImageSet"!=tbID?(Z.Utils.removeEventListener(o.childNodes[0],"mouseover",l),Z.Utils.addEventListener(o.childNodes[1],"mousedown",l),Z.Utils.addEventListener(o.childNodes[1],"mouseout",l),C&&a&&Z.Utils.addEventListener(a.childNodes[0],"mouseup",l),"buttonZoomIn"==tbID||"buttonSliderZoom"==tbID||"buttonZoomOut"==tbID?Z.sliderFocus="zoom":("buttonImageSetPrior"==tbID||"buttonSliderImageSet"==tbID||"buttonImageSetNext"==tbID)&&(Z.sliderFocus="imageSet")):(Z.Utils.addEventListener(o.childNodes[0],"mouseout",l),Z.sliderFocus="trackSliderImageSet"==tbID?"imageSet":"zoom");break;case"mousedown":Z.buttonIsDown=!0,!Z.fullView&&document.activeElement&&document.activeElement.blur(),"trackSliderZoom"!=tbID&&"trackSliderImageSet"!=tbID&&(Z.Utils.removeEventListener(o.childNodes[1],"mousedown",l),Z.Utils.removeEventListener(o.childNodes[1],"mouseout",l),Z.Utils.addEventListener(o.childNodes[2],"mouseup",l),Z.Utils.addEventListener(o.childNodes[2],"mouseout",l),"buttonSliderZoom"==tbID&&(r(t),c(t),Z.Utils.addEventListener(document,"mousemove",c),U||(U=window.setInterval(s,E)),Z.Utils.addEventListener(document,"mouseup",l)),"buttonSliderImageSet"==tbID&&(z652ImageSet(t),z650ImageSet(t),Z.Utils.addEventListener(document,"mousemove",z650ImageSet),V||(V=window.setInterval(sliderSlideImageSet,N)),Z.Utils.addEventListener(document,"mouseup",l))),e&&u(t,tbID);break;case"mouseup":Z.buttonIsDown=!1,Z.Utils.removeEventListener(o.childNodes[2],"mouseup",l),Z.Utils.removeEventListener(o.childNodes[2],"mouseout",l),Z.Utils.addEventListener(o.childNodes[1],"mousedown",l),Z.Utils.addEventListener(o.childNodes[1],"mouseout",l),C&&a&&Z.Utils.removeEventListener(a.childNodes[0],"mouseup",l),e&&u(t,tbID);
break;case"mouseout":"trackSliderZoom"!=tbID&&"trackSliderImageSet"!=tbID?(Z.Utils.removeEventListener(o.childNodes[1],"mousedown",l),Z.Utils.removeEventListener(o.childNodes[1],"mouseout",l),Z.Utils.addEventListener(o.childNodes[0],"mouseover",l),e&&u(t,tbID),("buttonImageSetPrior"==tbID||"buttonSliderImageSet"==tbID||"trackSliderImageSet"==tbID||"buttonImageSetNext"==tbID||"buttonZoomIn"==tbID||"buttonSliderZoom"==tbID||"buttonZoomOut"==tbID)&&(Z.sliderFocus=2==Z.mouseWheel?"imageSet":"zoom")):(Z.Utils.removeEventListener(o.childNodes[0],"mouseout",l),Z.sliderFocus=2==Z.mouseWheel?"imageSet":"zoom");break;case"touchstart":"buttonSliderZoom"==tbID&&(r(t),d(t),Z.Utils.addEventListener(document,"touchmove",d),U||(U=window.setInterval(s,E))),"buttonSliderImageSet"==tbID&&(z652ImageSet(t),z654ImageSet(t),Z.Utils.addEventListener(document,"touchmove",z654ImageSet),V||(V=window.setInterval(sliderSlideImageSet,N))),Z.Utils.addEventListener(o,"touchend",l),Z.Utils.addEventListener(o,"touchcancel",l),e&&u(t,tbID);break;case"touchend":Z.Utils.addEventListener(o,"touchstart",l),e&&u(t,tbID);break;case"touchcancel":Z.Utils.addEventListener(o,"touchstart",l),e&&u(t,tbID);break;case"MSPointerDown":"buttonSliderZoom"==tbID&&(r(t),d(t),Z.Utils.addEventListener(document,"MSPointerMove",d),U||(U=window.setInterval(s,E))),"buttonSliderImageSet"==tbID&&(z652ImageSet(t),z654ImageSet(t),Z.Utils.addEventListener(document,"MSPointerMove",z654ImageSet),V||(V=window.setInterval(sliderSlideImageSet,N))),Z.Utils.addEventListener(o,"MSPointerUp",l),e&&u(t,tbID);break;case"MSPointerUp":Z.Utils.addEventListener(o,"MSPointerDown",l),e&&u(t,tbID)}}}function u(t,n){var i=t.type,o=Z.annotationFileShared?"0":h;if("mousedown"==i||"touchstart"==i){var a=t.altKey,i=document.activeElement.id;switch(!Z.Utils.stringValidate(i)||i!="poiNameTextElement"+h&&i!="labelNameTextElement"+h&&"captionTextElement"!=i&&"commentTextElement"!=i&&"tooltipTextElement"!=i&&"clickURLTextElement"!=i&&i!="noteNameTextElement"+h&&i!="noteTextElement"+h||document.getElementById(i).blur(),n){case"buttonMinimize":p.minimize(!0),Z.Navigator&&Z.Navigator.setVisibility(!1);break;case"buttonExpand":p.minimize(!1),Z.Navigator&&Z.Navigator.setVisibility(!0);break;case"buttonZoomOut":a||e.zoom("out");break;case"trackSliderZoom":"undefined"!=typeof trsZ&&"undefined"!=typeof trszS&&(a=Z.Utils.getElementPosition(trsZ),a=Z.Utils.getMousePosition(t).x-a.x,i=parseFloat(trszS.width),a=Z.minZ+(a-0)/(i-0)*(Z.maxZ-Z.minZ),a<Z.minZ+.1&&(a=Z.minZ),a>Z.maxZ-.1&&(a=Z.maxZ),i=a-e.getZoom(),Z.zooming=i>0?"in":0>i?"out":"stop",e.z633(a),Z.zooming="stop",e.updateView());break;case"buttonZoomIn":a||e.zoom("in");break;case"buttonPanLeft":e.pan("left");break;case"buttonPanUp":e.pan("up");break;case"buttonPanDown":e.pan("down");break;case"buttonPanRight":e.pan("right");break;case"buttonReset":e.reset(a);break;case"buttonHelp":Z.Utils.showHelp(Z.Utils.getResource("z32"))}}else if("mouseup"==i||"touchend"==i||"touchcancel"==i)if("buttonSliderZoom"==n||C){for(U&&(window.clearInterval(U),U=null),C&&(Z.Utils.removeEventListener(document,"mousemove",c),Z.Utils.removeEventListener(document,"mouseup",l),Z.Utils.removeEventListener(document,"touchmove",d)),a=Z.ToolbarDisplay.childNodes,i=0,o=a.length;o>i;i++){var r=a[i],s=r.id;if(s&&-1!=s.indexOf("button"))if("buttonContainer"!=s&&"buttonContainerImageFilter"!=s)Z.Utils.setButtonDefaults(r);else for(var r=r.childNodes,s=0,u=r.length;u>s;s++){var f=r[s],m=f.id;m&&-1!=m.indexOf("button")&&Z.Utils.setButtonDefaults(f)}}C=!1,Z.zooming="stop",e.updateView()}else"buttonZoomOut"==n||"buttonZoomIn"==n?e.zoom("stop"):"buttonPanLeft"==n||"buttonPanRight"==n?(e.pan("horizontalStop"),"buttonPanLeft"==n&&a&&e.toggleSmoothPan()):"buttonPanUp"==n||"buttonPanDown"==n?e.pan("verticalStop"):n=="buttonLabelScaleDown"+o||n=="buttonLabelScaleUp"+o?e.labelScale("stop"):"buttonFullView"==n?e.toggleFullViewMode(!0):"buttonFullViewExit"==n&&e.toggleFullViewMode(!1);else"mouseout"==i&&("buttonZoomOut"==n||"buttonZoomIn"==n?e.zoom("stop"):"buttonPanLeft"==n||"buttonPanRight"==n?e.pan("horizontalStop"):"buttonPanUp"!=n&&"buttonPanDown"!=n||e.pan("verticalStop"))}function c(e){I=new Z.Utils.Point(e.clientX,e.clientY)}function d(e){(e=Z.Utils.getFirstTouch(e))&&(I=new Z.Utils.Point(e.pageX,e.pageY))}var p=this,f=!1,h=e.getViewportID().toString();Z.skinPath=Z.Utils.stringRemoveTrailingSlashCharacters(Z.skinPath),(new Z.NetConnector).loadXML(Z.skinPath+"/"+Z.Utils.getResource("z200"));var m,g,v,y,b,w,x,T=[],S=[],k=[],E=parseInt(Z.Utils.getResource("z205ZOOM"),10),C=!1,U=null,I=null,z=null,D=null,N=parseInt(Z.Utils.getResource("z205IMAGESET"),10),V=null;this.getInitialized=function(){return f},this.getSkinArray=function(){return T},this.getSkinSizes=function(){return k},this.show=function(e){n(e)},this.setVisibility=function(e){i(e)},this.minimize=function(e){o(e)},this.showProgress=function(){var e=document.getElementById("progressTextBox");e&&(e=e.style)&&(e.display="inline-block")},this.hideProgress=function(){var e=document.getElementById("progressTextBox");e&&(e=e.style)&&(e.display="none")},this.updateProgress=function(e,n){if(Z.progressVisible){z&&window.clearInterval(z);var i,o=document.getElementById("progressTextBoxCenteredDiv");o&&(o=o.firstChild)&&(0==e||0==n?(o.nodeValue="llllllllll",z=window.setInterval(t,parseInt(Z.Utils.getResource("z182")),10)):(i=Math.round(100-n/e*100),i=Math.round(i/10),o.nodeValue=Z.Utils.stringMultiply("l",i)))}},this.parseSkinXML=function(t){Z.skinMode=t.getElementsByTagName("SETUP")[0].attributes.getNamedItem("SKINMODE").nodeValue;var i,o;1==Z.skinMode||0==Z.skinMode&&!Z.mobileDevice?(i=t.getElementsByTagName("SETUP")[0].attributes.getNamedItem("FOLDERSTANDARD").nodeValue,o="SIZESSTANDARD"):(i=t.getElementsByTagName("SETUP")[0].attributes.getNamedItem("FOLDERLARGE").nodeValue,o="SIZESLARGE");var r=t.getElementsByTagName("SETUP")[0].attributes.getNamedItem("PROGRESSCOLOR");"undefined"!=typeof r&&null!==r&&(D=t.getElementsByTagName("SETUP")[0].attributes.getNamedItem("PROGRESSCOLOR").nodeValue),r=[],r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("TOOLBARW").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("TOOLBARH").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("LOGOW").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("LOGOH").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("DIVIDERW").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("DIVIDERH").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("BUTTONW").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("BUTTONH").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("BUTTONSPAN").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("SLIDERBUTTONW").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("SLIDERBUTTONH").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("SLIDERTRACKW").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("SLIDERTRACKH").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("SLIDERSPAN").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("PROGRESSW").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("PROGRESSH").nodeValue),r[r.length]=parseFloat(t.getElementsByTagName(o)[0].attributes.getNamedItem("PROGRESSFONTSIZE").nodeValue);var s,u,c;if(o="edit"==Z.editMode?161:"markup"==Z.editMode?152:Z.imageFiltersVisible?100:Z.screensaver||Z.tourPath||Z.slidePath||Z.imageSetPath?77:Z.rotationVisible?58:Z.measureVisible?51:0<Z.helpVisible?45:Z.fullScreenVisible||Z.fullPageVisible?45:Z.resetVisible?35:Z.panButtonsVisible?32:Z.sliderZoomVisible?19:Z.minimizeVisible?14:Z.logoVisible?8:6,s=t.getElementsByTagName("FILES")[0].attributes.getNamedItem("SKIN0"),null!==s&&(u=s.nodeValue),s=t.getElementsByTagName("FILES")[0].attributes.getNamedItem("SKIN"+o.toString()),null!==s&&(c=s.nodeValue),"undefined"!=typeof u&&Z.Utils.stringValidate(u)&&"undefined"!=typeof c&&Z.Utils.stringValidate(c)){for(u=!1,c=0,o+=1;o>c;c++)s=t.getElementsByTagName("FILES")[0].attributes.getNamedItem("SKIN"+c).nodeValue,Z.Utils.stringValidate(s)?S[c]=i+"/"+s:(S[c]="null",u=!0);u&&Z.Utils.showMessage(Z.Utils.getResource("z279")),T=S,Z.ToolbarDisplay=Z.Utils.createContainerElement("div","ToolbarDisplay","inline-block","absolute","visible","1px","1px","0px","1px","none","0px","transparent none","0px","0px","normal"),g=Z.ToolbarDisplay.style,t=parseInt(Z.Utils.getResource("z230"),10),g.zIndex=(t+1).toString(),t=new Z.Utils.Graphic("toolbarBackground",Z.skinPath,S[0],"1px","1px","0px","0px"),parseFloat(Z.Utils.getResource("z82")),Z.Utils.getResource("z83NOALPHA"),Z.ToolbarDisplay.appendChild(t.elmt),k=r,Z.logoVisible&&(Z.Utils.stringValidate(Z.logoCustomPath)?(r=Z.Utils.cacheProofPath(Z.logoCustomPath),r=new Z.Utils.Graphic("toolbarLogo",r,null,"1px","1px","1px","1px")):r=new Z.Utils.Graphic("toolbarLogo",Z.skinPath,S[7],"1px","1px","1px","1px"),Z.Utils.stringValidate(Z.logoLinkURL)?(t=document.createElement("a"),t.setAttribute("href",Z.logoLinkURL),t.setAttribute("target",Z.Utils.getResource("z427TARGET")),t.setAttribute("title",Z.Utils.getResource("z360")),t.setAttribute("outline","none"),t.appendChild(r.elmt),Z.ToolbarDisplay.appendChild(t)):(r.elmt.setAttribute("title",Z.Utils.getResource("z427DISPLAY")),Z.ToolbarDisplay.appendChild(r.elmt)),0==Z.toolbarVisible||1==Z.toolbarVisible)&&(r=new Z.Utils.Graphic("logoDivider",Z.skinPath,S[8],"1px","1px","1px","1px"),Z.ToolbarDisplay.appendChild(r.elmt)),r=Z.Utils.createContainerElement("div","buttonContainer","inline-block","absolute","visible","1px","1px","0px","0px","none","0px","transparent none","0px","0px","normal","default"),Z.ToolbarDisplay.appendChild(r),Z.Utils.addEventListener(r,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(r,"mouseover",p.backgroundEventsHandler),Z.Utils.addEventListener(r,"touchstart",Z.Utils.preventDefault),t=new Z.Utils.Graphic("buttonBackground",Z.skinPath,S[0],"1px","1px","0px","0px"),r.appendChild(t.elmt),Z.Utils.setOpacity(t.elmt,"0","#FBFAFA"),(0!=Z.toolbarVisible&&1!=Z.toolbarVisible||Z.mobileDevice)&&Z.minimizeVisible&&(t=new Z.Utils.Button("buttonMinimize",null,Z.skinPath,S[9],S[10],S[11],"1px","1px","1px","1px","mouseover",l,"z363"),Z.ToolbarDisplay.appendChild(t.elmt),t=new Z.Utils.Button("buttonExpand",null,Z.skinPath,S[12],S[13],S[14],"1px","1px","1px","1px","mouseover",l,"z341"),Z.ToolbarDisplay.appendChild(t.elmt)),t=new Z.Utils.Button("buttonZoomOut",null,Z.skinPath,S[1],S[2],S[3],"1px","1px","1px","1px","mouseover",l,"z400"),r.appendChild(t.elmt),Z.sliderZoomVisible&&(t=new Z.Utils.Graphic("trackSliderZoom",Z.skinPath,S[15],"1px","1px","0px","0px","z385"),r.appendChild(t.elmt),Z.Utils.addEventListener(t.elmt,"mousedown",l),Z.Utils.addEventListener(t.elmt,"touchstart",l),Z.Utils.addEventListener(t.elmt,"mouseover",l),t=new Z.Utils.Button("buttonSliderZoom",null,Z.skinPath,S[17],S[18],S[19],"1px","1px","1px","1px","mouseover",l,"z385"),r.appendChild(t.elmt)),t=new Z.Utils.Button("buttonZoomIn",null,Z.skinPath,S[4],S[5],S[6],"1px","1px","1px","1px","mouseover",l,"z399"),r.appendChild(t.elmt),Z.panButtonsVisible&&(t=new Z.Utils.Graphic("panDivider",Z.skinPath,S[20],"1px","1px","1px","1px"),r.appendChild(t.elmt),t=new Z.Utils.Button("buttonPanLeft",null,Z.skinPath,S[21],S[22],S[23],"1px","1px","1px","1px","mouseover",l,"z370"),r.appendChild(t.elmt),t=new Z.Utils.Button("buttonPanUp",null,Z.skinPath,S[24],S[25],S[26],"1px","1px","1px","1px","mouseover",l,"z372"),r.appendChild(t.elmt),t=new Z.Utils.Button("buttonPanDown",null,Z.skinPath,S[27],S[28],S[29],"1px","1px","1px","1px","mouseover",l,"z369"),r.appendChild(t.elmt),t=new Z.Utils.Button("buttonPanRight",null,Z.skinPath,S[30],S[31],S[32],"1px","1px","1px","1px","mouseover",l,"z371"),r.appendChild(t.elmt)),Z.resetVisible&&(t=new Z.Utils.Button("buttonReset",null,Z.skinPath,S[33],S[34],S[35],"1px","1px","1px","1px","mouseover",l,"z378"),r.appendChild(t.elmt)),(Z.fullScreenVisible||Z.fullPageVisible)&&(null===Z.editMode&&(t=new Z.Utils.Graphic("fullViewDivider",Z.skinPath,S[36],"1px","1px","1px","1px"),r.appendChild(t.elmt)),t=new Z.Utils.Button("buttonFullViewExit",null,Z.skinPath,S[40],S[41],S[42],"1px","1px","1px","1px","mouseover",l,"z391EXIT"),r.appendChild(t.elmt),t=new Z.Utils.Button("buttonFullView",null,Z.skinPath,S[37],S[38],S[39],"1px","1px","1px","1px","mouseover",l,"z391"),r.appendChild(t.elmt)),(1==Z.helpVisible||3==Z.helpVisible)&&(t=new Z.Utils.Button("buttonHelp",null,Z.skinPath,S[43],S[44],S[45],"1px","1px","1px","1px","mouseover",l,"z342"),r.appendChild(t.elmt)),Z.progressVisible&&(t=Z.Utils.createContainerElement("div","progressTextBox","inline-block","absolute","hidden","1px","1px","1px","1px","none","0px","transparent none","0px","0px","normal",null,!0),i=k[16],r.appendChild(t),r=document.createTextNode(Z.Utils.getResource("z183")),t.appendChild(Z.Utils.createCenteredElement(r,"progressTextBoxCenteredDiv")),null===D&&(D=Z.Utils.getResource("z183COLOR")),Z.Utils.setTextNodeStyle(r,D,"verdana",i+"px","none","normal","normal","normal","normal","1em","left","none"),Z.Utils.disableTextInteraction(r)),Z.ViewerDisplay.appendChild(Z.ToolbarDisplay),Z.toolbarW=k[0],Z.toolbarCurrentW=-1==Z.toolbarW?Z.viewerW:Z.toolbarW,Z.toolbarH=m=k[1],p.setSizeAndPosition(Z.toolbarCurrentW,Z.toolbarH,0,1==Z.toolbarPosition?Z.viewerH-m:0),e&&e.getStatus("initialized")&&(1==Z.toolbarVisible&&(e.setSizeAndPosition(Z.viewerW,Z.viewerH-Z.toolbarH,0,0),e.validateXYZDefaults(!0),e.setView(Z.initialX,Z.initialY,Z.initialZ)),r=e.getZoom(),a(r),e.setDrawingColor("buttonColor0"+h,!0)),n(1==Z.toolbarVisible||2==Z.toolbarVisible||4==Z.toolbarVisible||7==Z.toolbarVisible),Z.Utils.addEventListener(Z.ToolbarDisplay,"mouseover",Z.Utils.stopPropagation),f||(f=!0,Z.Utils.validateCallback("toolbarInitialized"),Z.Viewer.validateViewerReady("toolbarInitialized"))}else Z.Utils.showMessage(Z.Utils.getResource("z278"))},this.setSizeAndPosition=function(e,t,n,i){"undefined"==typeof e||null===e?e=0<Z.toolbarVisible?Z.toolbarCurrentW:0:Z.toolbarCurrentW=e,("undefined"==typeof t||null===t)&&(t=0<Z.toolbarVisible?m:0),("undefined"==typeof n||null===n)&&(n=0),("undefined"==typeof i||null===i)&&(i=1==Z.toolbarPosition?Z.viewerH-m:0),g=Z.ToolbarDisplay.style,g.width=e+"px",g.height=t+"px",g.left=n+"px",g.top=i+"px";var o=k[2],a=k[3],r=k[4],s=k[5],l=k[6],u=k[7],c=k[8],d=k[9],p=k[10],f=k[11],h=k[12],T=k[13];n=k[14],i=k[15];var S=0,E=(t-a)/2+1,C=(t-s)/2,U=(t-u)/2,I=1.3*U,z=U+4,D=U+2,N=1==Z.logoVisible?0:c/2,V=1==Z.logoVisible?0:c/2,P=c-(l-r),R=2,L=0;Z.panButtonsVisible&&(R+=4,L+=1),Z.resetVisible&&(R+=1),(Z.fullScreenVisible||Z.fullPageVisible)&&(R+=1,L+=1),Z.helpVisible&&(R+=1,Z.fullScreenVisible||Z.fullPageVisible||(L+=1)),L=R*c+L*P,Z.sliderZoomVisible&&(L+=T),v=y=b=w=!1;var R=(1==Z.logoVisible?o+2:0)+(0!=Z.toolbarVisible&&1!=Z.toolbarVisible&&0!=Z.minimizeVisible?c:0),F=1==Z.panButtonsVisible?4*c+P:0,A=1==Z.resetVisible?c:0,O=R+20+L+20+n;O>e&&(v=!0,O-T>e&&(y=!0,O-T-n>e&&(b=!0,O-T-n-R>e&&(x=!0,O-T-n-R-A>e&&(w=!0,L-=F),L-=A)),n=0),L-=T),F=(e-L)/2-20+3,(R=document.getElementById("toolbarBackground"))&&(R.style.width=e+"px",R.style.height=t+"px",R.firstChild.style.width=e+"px",R.firstChild.style.height=t+"px"),(R=document.getElementById("buttonContainer"))&&(R.style.width=L+40+"px",R.style.height=t+"px",R.style.left=F+"px"),(L=document.getElementById("buttonBackground"))&&(L.style.width=e+"px",Z.Utils.graphicSize(L,parseFloat(R.style.width),parseFloat(R.style.height)),L.style.left="0px"),(L=document.getElementById("toolbarLogo"))&&(F=L.style)&&(b?F.display="none":(F.display="inline-block",Z.Utils.graphicSize(L,o,a),F.left=S+"px",F.top=E+"px",S+=o+2,(o=document.getElementById("logoDivider"))&&(Z.Utils.graphicSize(o,r,s),o=o.style,o.left=S+"px",o.top=C+"px"))),0!=Z.toolbarVisible&&1!=Z.toolbarVisible&&(o=document.getElementById("buttonMinimize"),a=document.getElementById("buttonExpand"),o&&a&&(E=o.style,L=a.style,E&&L&&(b?(E.display="none",L.display="none"):(E.display="inline-block",L.display="inline-block",Z.Utils.buttonSize(o,l,u),Z.Utils.buttonSize(a,l,u),E.left=S+N+"px",E.top=I+"px",L.left=S+V+"px",L.top=I+"px")))),S=20,(I=document.getElementById("buttonZoomOut"))&&(Z.Utils.buttonSize(I,l,u),I=I.style,I.left=S+"px",I.top=U+"px",S+=c),trsZ=document.getElementById("trackSliderZoom"),btsZ=document.getElementById("buttonSliderZoom"),trsZ&&btsZ&&(trszS=trsZ.style,btszS=btsZ.style,trszS&&btszS&&(v?(trszS.display="none",btszS.display="none"):(trszS.display="inline-block",btszS.display="inline-block",Z.Utils.graphicSize(trsZ,f,h),trszS.left=S-2+"px",trszS.top=z+"px",Z.Utils.buttonSize(btsZ,d,p),btszS.left=parseFloat(trszS.left)+"px",btszS.top=D+"px",S+=T))),(d=document.getElementById("buttonZoomIn"))&&(Z.Utils.buttonSize(d,l,u),d=d.style,d.left=S+"px",d.top=U+"px",S+=c+1),!w&&(d=document.getElementById("panDivider"))&&(Z.Utils.graphicSize(d,r,s),d=d.style,d.left=S+"px",d.top=C+"px",S+=P,(d=document.getElementById("buttonPanLeft"))&&(Z.Utils.buttonSize(d,l,u),d=d.style,d.left=S+"px",d.top=U+"px",S+=c),(d=document.getElementById("buttonPanUp"))&&(Z.Utils.buttonSize(d,l,u),d=d.style,d.left=S+"px",d.top=U+"px",S+=c),(d=document.getElementById("buttonPanDown"))&&(Z.Utils.buttonSize(d,l,u),d=d.style,d.left=S+"px",d.top=U+"px",S+=c),(d=document.getElementById("buttonPanRight"))&&(Z.Utils.buttonSize(d,l,u),d=d.style,d.left=S+"px",d.top=U+"px",S+=c)),!x&&(d=document.getElementById("buttonReset"))&&(Z.Utils.buttonSize(d,l,u),d=d.style,d.left=S+"px",d.top=U+"px",S+=c+1),(d=document.getElementById("fullViewDivider"))&&(Z.Utils.graphicSize(d,r,s),r=d.style,r.left=S+"px",r.top=C+"px",S+=P),(C=document.getElementById("buttonFullViewExit"))&&(Z.Utils.buttonSize(C,l,u),C=C.style,C.left=S+"px",C.top=U+"px",C.display=Z.fullView?"inline-block":"none"),(C=document.getElementById("buttonFullView"))&&(Z.Utils.buttonSize(C,l,u),C=C.style,C.left=S+"px",C.top=U+"px",S+=c+1,C.display=Z.fullView?"none":"inline-block"),(1==Z.helpVisible||3==Z.helpVisible)&&(c=document.getElementById("buttonHelp"))&&(Z.Utils.buttonSize(c,l,u),l=c.style,l.left=S+"px",l.top=U+"px"),(S=document.getElementById("progressTextBox"))&&(S=S.style)&&(y?S.display="none":(S.display="inline-block",S.width=n+"px",S.height=i+"px",S.left=e-parseFloat(R.style.left)-parseFloat(S.width)+"px",S.top=(t-parseFloat(S.height))/2+"px"))},this.syncSliderToViewportZoom=function(e){a(e)},this.z457=function(e){l(e)},this.backgroundEventsHandler=function(e){if(e=Z.Utils.event(e),e=Z.Utils.relatedTarget(e)){var t=e.parentNode;t&&(t=t.id)&&(C||-1==t.indexOf("button")||-1!=t.indexOf("buttonContainer")||Z.Utils.setButtonDefaults(e.parentNode))}}},Z.ZoomifyNavigator=function(e){function t(n,i){var o="undefined"!=typeof i&&null!==i?!1:!0,a=o?e:i;"unconverted"!=Z.tileSource?("ZoomifyImageFile"==Z.tileSource?P=a.formatTilePath(0,0,0):"ZoomifyImageFolder"==Z.tileSource&&(P=Z.Utils.cacheProofPath(a.getImagePath()+"/TileGroup0/0-0-0."+Z.tileType)),V=null,V=new Image,V.onload=n,V.onerror=f,"offsetLoading"!=P?(o||(F[F.length]={id:i.getViewportID().toString(),image:V}),"ZoomifyImageFile"==Z.tileSource?(new Z.NetConnector).loadImage(P,Z.Utils.createCallback(null,n),"navigator",null):V.src=P):window.setTimeout(function(){t(n)},100)):"undefined"!=typeof unconvertedImage&&null!==unconvertedImage?(V=a.createUnconvertedImageThumbnail(unconvertedImage),o&&"function"==typeof n?n():F[F.length]="undefined"!=typeof i?{id:i.getViewportID().toString(),image:V}:{id:null,image:null}):window.setTimeout(function(){t(n,i)},100)}function n(e,t){"ZoomifyImageFile"==Z.tileSource&&(V=t);var i=Z.Utils.createContainerElement("div","testImageContainer","inline-block","absolute","hidden",A+"px",O+"px","0px","0px","none","0px","transparent none","0px","0px","normal",null,!0);if(i.appendChild(V),i.removeChild(V),i=null,i=V.height,0!=V.width&&0!=i){Z.NavigatorDisplay=Z.Utils.createContainerElement("div","NavigatorDisplay","inline-block","absolute","hidden",A+"px",O+"px",M+"px",H+"px","solid","1px","transparent none","0px","0px","normal",null,!0),T=Z.NavigatorDisplay,S=T.style,Z.slideshow&&Z.Utils.setOpacity(T,0),i=parseInt(Z.Utils.getResource("z230"),10),S.zIndex=(i+2).toString();var i=parseFloat(Z.Utils.getResource("z82")),o=Z.Utils.getResource("z83"),r=Z.Utils.getResource("z83NOALPHA"),o=Z.Utils.createContainerElement("div","navigatorBackground","inline-block","absolute","hidden",A+"px",O+"px","0px","0px","none","0px",o,"0px","0px","normal",null,!0);Z.Utils.setOpacity(o,i,r),Z.NavigatorDisplay.appendChild(o),k=o,E=k.style,i=Z.Utils.createContainerElement("div","navigatorImageContainer","inline-block","absolute","hidden",A+"px",O+"px","0px","0px","none","0px","transparent none","0px","0px","normal",null,!0),i.appendChild(V),V.alt=Z.Utils.getResource("z439"),Z.NavigatorDisplay.appendChild(i),C=i,U=C.style,I=V,i=I.width,r=I.height,o=Z.Utils.createContainerElement("div","navigatorRectangle","inline-block","absolute","hidden",A+1+"px",O+1+"px",M+"px",H+"px","solid","1px","transparent none","0px","0px","normal",null,!0),o.style.borderColor=Z.Utils.stringValidateColorValue(Z.navigatorRectangleColor),Z.NavigatorDisplay.appendChild(o),D=o,N=D.style,Z.ViewerDisplay.appendChild(Z.NavigatorDisplay),a(A,O,M,H,B,i,r),l(1==Z.navigatorVisible||2==Z.navigatorVisible),Z.Utils.addEventListener(T,"mouseover",Z.Utils.stopPropagation),Z.Utils.addEventListener(T,"mousedown",h),Z.Utils.addEventListener(T,"touchstart",v),Z.Utils.addEventListener(T,"touchmove",y),Z.Utils.addEventListener(T,"touchend",b),Z.Utils.addEventListener(T,"touchcancel",w),R||(R=!0,Z.Utils.validateCallback("navigatorInitialized"),Z.Viewer.validateViewerReady("navigatorInitialized")),u()}else window.setTimeout(function(){n(e,t)},100)}function i(e){if(Z.NavigatorDisplay)if(Z.slideshow&&Z.Utils.setOpacity(Z.NavigatorDisplay,0),"ZoomifyImageFile"==Z.tileSource&&(V=e),C&&V&&0<V.width&&0<V.height){e=V.width;var t=V.height;C.appendChild(V),I=Z.NavigatorDisplay.childNodes[1].firstChild,a(A,O,M,H,B,e,t),e=Z.ToolbarDisplay&&"inline-block"==Z.ToolbarDisplay.style.display&&!Z.ToolbarMinimized||"undefined"!=typeof slideList&&null!==slideList&&"visible"==slideList.style.visibility,l((1==Z.navigatorVisible||2==Z.navigatorVisible)&&e),e=parseInt(Z.Utils.getResource("z230"),10),Z.NavigatorDisplay.style.zIndex=(e+2).toString(),u()}else window.setTimeout(function(){i()},100)}function o(){R&&(x&&(window.clearInterval(x),x=null),T&&S&&k&&E&&C&&U&&I&&D&&N||(T=Z.NavigatorDisplay,S=T.style,k=Z.NavigatorDisplay.firstChild,E=k.style,C=Z.NavigatorDisplay.childNodes[1],U=C.style,I=Z.NavigatorDisplay.childNodes[1].firstChild,D=Z.NavigatorDisplay.childNodes[2],N=D.style))}function a(e,t,n,i,o,a,s){o||(o=B),("undefined"==typeof e||null===e)&&(e=Z.navigatorW),("undefined"==typeof t||null===t)&&(t=Z.navigatorH),("undefined"==typeof n||null===n)&&(n=0),("undefined"==typeof i||null===i)&&(i=0),T||(T=Z.NavigatorDisplay),S||(S=T.style),I=T.childNodes[1].firstChild,0==I.width&&"undefined"!==a&&null!==a&&(I.width=a),0==I.height&&"undefined"!==s&&null!==s&&(I.height=s),T&&S&&I&&(o&&(e=1,e=0==o?Z.viewerW/Z.viewerH:I.width/I.height,e*=t),S.width=e+"px",S.height=t+"px",S.left=n+"px",S.top=i+"px",r(e,t))}function r(e,t){I||(I=Z.NavigatorDisplay.childNodes[1].firstChild),I&&0!=I.width&&0!=I.height?(E||(E=Z.NavigatorDisplay.firstChild.style),U||(U=Z.NavigatorDisplay.childNodes[1].style),E&&U&&(E.width=e+"px",E.height=t+"px",s(e,t),U.width=I.width+"px",U.height=I.height+"px",U.left=(e-I.width)/2+"px",U.top=(t-I.height)/2+"px",u())):window.setTimeout(function(){r(e,t)},100)}function s(e,t){if(I||(I=Z.NavigatorDisplay.childNodes[1].firstChild),I){var n=I.width,i=I.height,o=n/i,a=e/n,r=t/i;r>=a?(n=e,i=e/o,navImageT=(t-e/n*i)/2):a>r&&(i=t,n=t*o,navImageL=(e-t/i*n)/2),I.width=n,I.height=i}}function l(e){S||(S=Z.NavigatorDisplay.style),S&&(S.display=e?"inline-block":"none")}function u(){if(e&&e.getStatus("initialized")){c();var t=e.calculateCurrentCenterCoordinates();d(t)}}function c(){if(I&&N){var t=I.width/Z.imageW,n=I.height/Z.imageH,i=e.getZoom(),n=Z.viewerH*n/i;N.width=Z.viewerW*t/i+"px",N.height=n+"px"}}function d(e){if(I&&N&&U){("undefined"==typeof e||null===e||0==e.x&&0==e.y)&&(e=new Z.Utils.Point(Z.imageX,Z.imageY)),("undefined"==typeof z||null===z)&&(z=Z.imageZ);var t=Z.imageR;0>t&&(t+=360);var n=parseFloat(I.width),i=parseFloat(I.height),t=Z.Utils.rotatePoint(n/Z.imageW*e.x-n/2,i/Z.imageH*e.y-i/2,-t);e=t.x-parseFloat(N.width)/2,n=t.y-parseFloat(N.height)/2,t=parseFloat(S.width)/2,n=parseFloat(S.height)/2+n-1,N.left=t+e+"px",N.top=n+"px"}}function p(){if(I&&N&&U){("undefined"==typeof z||null===z)&&(z=Z.imageZ);var t=Z.imageR;0>t&&(t+=360);var n=parseFloat(N.left),i=parseFloat(N.top),o=parseFloat(S.width)/2,a=parseFloat(S.height)/2,i=i-a,n=n-o+parseFloat(N.width)/2,o=i+parseFloat(N.height)/2,t=Z.Utils.rotatePoint(n,o,t),n=parseFloat(I.width),o=parseFloat(I.height),i=n/Z.imageW,t=new Z.Utils.Point((t.x+n/2)/i,(t.y+o/2)/i);e.syncViewportToNavigator(t)}}function f(){Z.Utils.showMessage(Z.Utils.getResource("z271"))}function h(t){Z.interactivityOff||(e.zoomAndPanAllStop(!1,!0),T&&D&&N&&(t=Z.Utils.event(t),D.mouseXPrior=t.clientX,D.mouseYPrior=t.clientY,dragPtStart=new Z.Utils.Point(t.clientX,t.clientY),Z.Utils.addEventListener(T,"mousemove",m),Z.Utils.addEventListener(T,"mouseup",g),Z.Utils.addEventListener(document,"mouseup",g)))}function m(e){if(!Z.interactivityOff&&D&&N){var t=parseFloat(N.left),n=parseFloat(N.top);return N.left=t+(e.clientX-D.mouseXPrior)+"px",N.top=n+(e.clientY-D.mouseYPrior)+"px",D.mouseXPrior=e.clientX,D.mouseYPrior=e.clientY,p(),!1}}function g(t){if(!Z.interactivityOff&&T&&D&&N){document.mousemove=null,document.mouseup=null,Z.Utils.removeEventListener(T,"mousemove",m),Z.Utils.removeEventListener(T,"mouseup",g),Z.Utils.removeEventListener(document,"mouseup",g),t=Z.Utils.event(t);var n=new Z.Utils.Point(t.clientX,t.clientY);4>Z.Utils.calculatePointsDistance(dragPtStart.x,dragPtStart.y,n.x,n.y)&&(n=Z.Utils.getElementPosition(Z.NavigatorDisplay),N.left=t.clientX-n.x-parseFloat(N.width)/2+"px",N.top=t.clientY-n.y-parseFloat(N.height)/2+"px"),p(),e.updateView()}}function v(e){!Z.interactivityOff&&(e.preventDefault(),T&&D&&N&&(e=Z.Utils.getFirstTouch(e)))&&(e=new Z.Utils.Point(e.pageX,e.pageY),dragPtStart=new Z.Utils.Point(e.x,e.y),D.mouseXPrior=e.x,D.mouseYPrior=e.y)}function y(e){if(!Z.interactivityOff&&(e.preventDefault(),Z.mousePan)){if(D&&N&&(e=Z.Utils.getFirstTouch(e))){e=new Z.Utils.Point(e.pageX,e.pageY);var t=parseFloat(N.left),n=parseFloat(N.top);N.left=t+(e.x-D.mouseXPrior)+"px",N.top=n+(e.y-D.mouseYPrior)+"px",D.mouseXPrior=e.x,D.mouseYPrior=e.y,p()}return!1}}function b(t){if(!Z.interactivityOff&&T&&D&&N){if(t=Z.Utils.getFirstTouch(t)){t=new Z.Utils.Point(t.pageX,t.pageY);var n=new Z.Utils.Point(t.x,t.y);Z.Utils.calculatePointsDistance(dragPtStart.x,dragPtStart.y,n.x,n.y)<(Z.mobileDevice?6:3)&&(n=Z.Utils.getElementPosition(Z.NavigatorDisplay),N.left=t.x-n.x-parseFloat(N.width)/2+"px",N.top=t.y-n.y-parseFloat(N.height)/2+"px")}p(),e.updateView()}}function w(t){if(!Z.interactivityOff&&T&&D&&N){if(t=Z.Utils.getFirstTouch(t)){t=new Z.Utils.Point(t.pageX,t.pageY);var n=new Z.Utils.Point(t.x,t.y);Z.Utils.calculatePointsDistance(dragPtStart.x,dragPtStart.y,n.x,n.y)<(Z.mobileDevice?6:3)&&(n=Z.Utils.getElementPosition(Z.NavigatorDisplay),N.left=t.x-n.x-parseFloat(N.width)/2+"px",N.top=t.y-n.y-parseFloat(N.height)/2+"px")}p(),e.updateView()}}var x,T,S,k,E,C,U,I,D,N,V,P,R=!1,L=e.getViewportID().toString(),F=[],A=Z.navigatorW,O=Z.navigatorH,M=Z.navigatorL,H=Z.navigatorT,B=Z.navigatorFit;t(n),this.z556=function(e,t){n(e,t)},this.setImage=function(e){C&&V&&0<C.childNodes.length&&(C.innerHTML=""),"undefined"==typeof F||null===F||0==F.length?t(i):(e=Z.Utils.arrayIndexOfObjectValue(F,"id",L),-1!=e&&(V=F[e].image,i(V)))},this.getInitialized=function(){return R},this.setVisibility=function(e){l(e)},this.syncToViewport=function(){u()},this.z657=function(){c()},this.z658=function(e){d(e)},this.z682=function(){R?o():x=window.setInterval(o,300)},this.setSizeAndPosition=function(e,t,n,i,o,r,s){a(e,t,n,i,o,r,s)}},Z.NetConnector=function(){function e(e,n,i){var a=e.substring(0,e.indexOf("?")),r=parseFloat(e.substring(e.indexOf("?")+1,e.indexOf(",")));e=parseFloat(e.substring(e.indexOf(",")+1,e.length)),r=new Z.Utils.Range(r,r+e),t(a,o,r,n,i)}function t(e,t,o,a,r,s){var l=n();if(l){var u="function"==typeof t;if(u){var c=t;t=function(){window.setTimeout(Z.Utils.createCallback(null,c,l),1)},l.onreadystatechange=function(){4==l.readyState&&(l.onreadystatechange=new Function,t())}}try{"undefined"==typeof o||null===o?(l.open("GET",e,u),l.send(null)):"undefined"!=typeof a&&null!==a&&"ZoomifyImageFile"==Z.tileSource&&("tile"!=a&&(e=Z.Utils.cacheProofPath(e)),l.open("GET",e,!0),l.responseType="arraybuffer",Z.Utils.defineObjectProperty(l,"zType",{value:a,writable:!1,enumerable:!1,configurable:!1}),Z.Utils.defineObjectProperty(l,"zTile",{value:r,writable:!1,enumerable:!1,configurable:!1}),Z.Utils.defineObjectProperty(l,"zChunkNumber",{value:s,writable:!1,enumerable:!1,configurable:!1}),Z.browser==Z.browsers.SAFARI&&l.setRequestHeader("If-Modified-Since","Thu, 01 Dec 1994 16:00:00 GMT"),l.setRequestHeader("Range","bytes="+o.start.toString()+"-"+o.end.toString()),l.send(null))}catch(d){i(d,e,a),l=null,console.log(d)}}else Z.Utils.showMessage(Z.Utils.getResource("z295"))}function n(){var e=null;switch(Z.xmlHttpRequestSupport){case"XMLHttpRequest":e=new XMLHttpRequest;break;case"Msxml2.XMLHTTP.6.0":e=new ActiveXObject("Msxml2.XMLHTTP.6.0");break;case"Msxml2.XMLHTTP.3.0":e=new ActiveXObject("Msxml2.XMLHTTP.3.0");break;case"Microsoft.XMLHTTP":e=new ActiveXObject("Microsoft.XMLHTTP")}return e}function i(e,t,n){1==Z.localUse&&(Z.browser==Z.browsers.CHROME||Z.browser==Z.browsers.OPERA||Z.browser==Z.browsers.IE&&11==Z.browserVersion||Z.browser==Z.browsers.SAFARI&&7<=Z.browserVersion)?Z.Utils.showMessage(Z.Utils.getResource("z288"),!0):1==Z.localUse&&"ZoomifyImageFile"==Z.tileSource?Z.Utils.showMessage(Z.Utils.getResource("z290"),!0):-1!=t.toLowerCase().indexOf(".zif")?Z.Utils.showMessage(Z.Utils.getResource("z256-ZIFBYTERANGE")+n+".",!1,d,"center"):-1!=t.indexOf("ImageProperties.xml")?Z.Utils.showMessage(Z.Utils.getResource("z256-IMAGEXML"),!0,null,"left"):-1!=t.toLowerCase().indexOf("reply_data")?Z.Utils.showMessage(Z.Utils.getResource("z256-IMAGEOFFSET"),!1,d,"center"):-1!=t.indexOf(Z.Utils.getResource("z200"))?Z.Utils.showMessage(Z.Utils.getResource("z256-TOOLBARSKINSXML"),!0,null,"left"):Z.Utils.showMessage(Z.Utils.getResource("z256"),!1,c,"center")}function o(e,t){if(e)if(200!==e.status&&0!==e.status&&206!==e.status){var n=e.status,i=404==n?"Not Found":e.statusText;Z.Toolbar&&!Z.Toolbar.getInitialized()?Z.Utils.showMessage(Z.Utils.getResource("z256-TOOLBARSKINSXML"),!0,null,"left"):"ZoomifyImageFile"==Z.tileSource?Z.Utils.showMessage(Z.Utils.getResource("z273RANGEREQUESTS")+n+" - "+i,!0,null,"left"):Z.Utils.showMessage(Z.Utils.getResource("z273")+n+" - "+i,!1,c,"center")}else if(n=null,n=null!==Z.annotationPath&&".json"==Z.annotationPath.toLowerCase().substring(Z.annotationPath.length-5,Z.annotationPath.length),e.response&&e.zType&&"ZoomifyImageFile"==Z.tileSource){if(Z.Viewport)if(n=new Z.Utils.createUint8Array(e.response,0),"header"==e.zType)if("undefined"==typeof t||null===t)Z.Viewport.parseZIFHeader(n);else for(var i=0,o=Z.imageSetLength;o>i;i++)t==i&&Z["Viewport"+i.toString()].parseZIFHeader(n);else if("offset"==e.zType)if("undefined"==typeof t||null===t)Z.Viewport.parseZIFOffsetChunk(n,e.zChunkNumber);else for(i=0,o=Z.imageSetLength;o>i;i++)t==i&&Z["Viewport"+i.toString()].parseZIFOffsetChunk(n,e.zChunkNumber);else if("byteCount"==e.zType)if("undefined"==typeof t||null===t)Z.Viewport.parseZIFByteCountChunk(n,e.zChunkNumber);else for(i=0,o=Z.imageSetLength;o>i;i++)t==i&&Z["Viewport"+i.toString()].parseZIFByteCountChunk(n,e.zChunkNumber);else if("image"==e.zType.substring(0,5))p--,Z.Viewport.parseZIFImage(n,e.zTile,e.zType);else if("navigator"==e.zType)if("undefined"==typeof t||null===t)Z.viewportCurrent.parseZIFImage(n,e.zTile,e.zType);else for(i=0,o=Z.imageSetLength;o>i;i++)t==i&&Z["Viewport"+i.toString()].parseZIFImage(n,e.zTile,e.zType);else Z.Utils.showMessage(Z.Utils.getResource("z256-ZIFBYTES"),!1,d,"center")}else e.responseXML&&e.responseXML.documentElement&&!n?(n=e.responseXML,a(n,t)):e.responseText&&(n=e.responseText,"ZoomifyImageFolder"==Z.tileSource?(n=Z.Utils.xmlConvertTextToDoc(n),a(n,t)):"ZoomifyImageFile"==Z.tileSource&&(n=Z.Utils.xmlConvertTextToDoc(n),a(n,t)));
else Z.Utils.showMessage(Z.Utils.getResource("z272"),!1,c,"center")}function a(e){if(e&&e.documentElement){var t=e.documentElement.tagName;"IMAGE_PROPERTIES"==t||"ZIFHEADER"==t?("ZoomifyImageFile"==Z.tileSource||"ZoomifyImageFolder"==Z.tileSource)&&Z.Viewport&&Z.Viewport.z602(e):"SKINDATA"==t?Z.Toolbar&&Z.Toolbar.parseSkinXML(e):Z.Utils.showMessage(Z.Utils.getResource("z296"),!0)}else Z.Utils.showMessage(Z.Utils.getResource("z293"),!0)}function r(t,n,i,o){return f>p?(p++,"ZoomifyImageFile"==Z.tileSource&&("undefined"!=typeof o&&null!==o||"navigator"==i)?e(t,i,o):(n=Z.Utils.createCallback(null,s,n),new l(t,n,i).start()),!0):(-1==Z.Utils.arrayIndexOfObjectValue(g,"sc",t)&&(g[g.length]={sc:t,cb:n,ct:i,t:o},u||(u=window.setInterval(function(){var e=g[0];r(e.sc,e.cb,e.ct,e.t)&&(g=Z.Utils.arraySplice(g,0,1)),0==g.length&&u&&(window.clearInterval(u),u=null)},m))),!1)}function s(e,t,n){if(p--,"function"==typeof e)try{e(n)}catch(i){Z.Utils.showMessage(i.name+Z.Utils.getResource("z245")+t+" "+i.message,!0)}}function l(e,t,n){function i(n){o.onload=null,o.onabort=null,o.onerror=null,a&&window.clearTimeout(a),window.setTimeout(function(){t(e,n?o:null)},1)}var o=null,a=null;this.start=function(){o=new Image;var t=function(){i(!1)};o.onload=function(){i(!0)},o.onabort=t,o.onerror=t,a=window.setTimeout(function(){console.log(Z.Utils.getResource("z253")),i(!1),Z.Viewport.traceDebugValues("imageRequestTimeout",n+" timeout: "+e)},h),o.src=e}}var u,c=parseInt(Z.Utils.getResource("z268"),10),d=parseInt(Z.Utils.getResource("z268MEDIUM"),10),p=0,f=parseInt(Z.Utils.getResource("z140"),10),h=parseFloat(Z.Utils.getResource("z139")),m=Z.Utils.getResource("DEFAULT_IMAGELOADQUEUEDELAY"),g=[];this.loadXML=function(e,n){"undefined"==typeof n||null===n?t(e,o,null):t(e,function(e){o(e,n)},null)},this.loadByteRange=function(e,n,i,a,r,s){n=new Z.Utils.Range(n,i),t(e,o,n,a,r,s)},this.loadImage=function(e,t,n,i){r(e,t,n,i)}},Z.Utils={addCrossBrowserMethods:function(){document.addEventListener?(this.disableTextInteraction=function(e){if(e){var t=e.parentNode.style;t&&(e.parentNode.unselectable="on",t.userSelect="none",t.MozUserSelect="none",t.webkitUserSelect="none",t.webkitTouchCallout="none",t.webkitTapHighlightColor="transparent")}},this.renderQuality=function(e,t){t&&e.style.setProperty("image-rendering","high"==t?"optimizeQuality":"optimizeSpeed",null)},this.setOpacity=function(e,t,n){Z.alphaSupported?e.style.opacity=t:n&&(e.style.backgroundColor=n)}):document.attachEvent&&(this.disableTextInteraction=function(e){e&&(e.parentNode.unselectable="on",e.parentNode.onselectstart=function(){return!1})},this.renderQuality=function(e,t){t&&(e.style.msInterpolationMode="high"==t?"bicubic":"nearest-neighbor")},this.setOpacity=function(e,t,n){Z.alphaSupported?(t*=100,e.style.zoom=1,e.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+t+")",e.style.filter="alpha(opacity="+t+")",100==t&&(e.style.filter="")):n&&(e.style.backgroundColor=n)})},addCrossBrowserEvents:function(){document.addEventListener?(this.addEventListener=function(e,t,n){e&&("mousewheel"==t&&e.addEventListener("DOMMouseScroll",n,!1),e.addEventListener(t,n,!1))},this.removeEventListener=function(e,t,n){e&&("mousewheel"==t&&e.removeEventListener("DOMMouseScroll",n,!1),e.removeEventListener(t,n,!1))},this.event=function(e){return e},this.target=function(e){return e.target},this.relatedTarget=function(e){return e.relatedTarget},this.isRightMouseButton=function(e){var t=!1;return(2==e.which||3==e.which)&&(t=!0),t},this.preventDefault=function(e){e.preventDefault()},this.stopPropagation=function(e){e.stopPropagation()}):document.attachEvent&&(this.addEventListener=function(e,t,n){if(-1==this._findListener(e,t,n)){var i=function(){var t=window.event;Function.prototype.call?n.call(e,t):(e._currentListener=n,e._currentListener(t),e._currentListener=null)};e.attachEvent("on"+t,i),t={target:e,eventName:t,handler:n,handler2:i};var i=(e.document||e).parentWindow,o="l"+this._listenerCounter++;i._allListeners||(i._allListeners={}),i._allListeners[o]=t,e._listeners||(e._listeners=[]),e._listeners[e._listeners.length]=o,i._unloadListenerAdded||(i._unloadListenerAdded=!0,i.attachEvent("onunload",this._removeAllListeners))}},this.removeEventListener=function(e,t,n){if(e&&(n=this._findListener(e,t,n),-1!=n)){var i=(e.document||e).parentWindow,o=e._listeners[n];e.detachEvent("on"+t,i._allListeners[o].handler2),e._listeners=Z.Utils.arraySplice(e._listeners,n,1),delete i._allListeners[o]}},this.event=function(){return window.event},this.target=function(e){return e.srcElement},this.relatedTarget=function(e){var t=null;return"mouseover"==e.type?t=e.fromElement:"mouseout"==e.type&&(t=e.toElement),t},this.isRightMouseButton=function(e){var t=!1;return 2==e.button&&(t=!0),t},this.preventDefault=function(e){e&&(e.returnValue=!1)},this.stopPropagation=function(e){e.cancelBubble=!0},this._findListener=function(e,t,n){var i=e._listeners;if(!i)return-1;e=(e.document||e).parentWindow;for(var o=i.length-1;o>=0;o--){var a=e._allListeners[i[o]];if(a&&a.eventName==t&&a.handler==n)return o}return-1},this._removeAllListeners=function(){for(id in this._allListeners){var e=this._allListeners[id];e.target.detachEvent("on"+e.eventName,e.handler2),delete this._allListeners[id]}},this._listenerCounter=0)},declareGlobals:function(){Z.pageContainerID=null,Z.imagePath=null,Z.skinPath=null,Z.skinMode=null,Z.parameters=null,Z.cacheProofCounter=0,Z.timerCounter=0,Z.browsers=null,Z.browser=null,Z.browserVersion=null,Z.scaleThreshold=null,Z.canvasSupported=null,Z.cssTransformsSupported=null,Z.cssTransformProperty=null,Z.cssTransformNoUnits=null,Z.alphaSupported=null,Z.renderQuality=null,Z.rotationSupported=null,Z.fullScreenSupported=null,Z.arrayMapSupported=null,Z.arraySpliceSupported=null,Z.float32ArraySupported=null,Z.uInt8ArraySupported=null,Z.xmlHttpRequestSupport=null,Z.definePropertySupported=null,Z.responseArraySupported=null,Z.responseArrayPrototyped=!1,Z.touchSupport=null,Z.mobileDevice=null,Z.localUse=null,Z.zifSupported=null,Z.onReady=null,Z.onAnnotationReady=null,Z.initialX=null,Z.initialY=null,Z.initialZ=null,Z.initialZoom=null,Z.minZ=null,Z.minZoom=null,Z.maxZ=null,Z.maxZoom=null,Z.zoomSpeed=null,Z.panSpeed=null,Z.smoothPan=null,Z.smoothPanEasing=null,Z.smoothPanGlide=null,Z.autoResize=null,Z.fadeInSpeed=null,Z.toolbarVisible=null,Z.toolbarAutoShowHide=null,Z.toolbarW=null,Z.toolbarH=null,Z.toolbarPosition=null,Z.navigatorVisible=null,Z.navigatorW=null,Z.navigatorWidth=null,Z.navigatorH=null,Z.navigatorHeight=null,Z.navigatorL=null,Z.navigatorLeft=null,Z.navigatorT=null,Z.navigatorTop=null,Z.navigatorFit=null,Z.navigatorRectangleColor=null,Z.clickZoom=null,Z.doubleClickZoom=null,Z.doubleClickDelay=null,Z.clickPan=null,Z.clickZoomAndPanBlock=!1,Z.mousePan=null,Z.keys=null,Z.constrainPan=null,Z.panBuffer=null,Z.constrainPanStrict=null,Z.tooltipsVisible=null,Z.helpVisible=0,Z.watermarkPath=null,Z.copyrightPath=null,Z.hotspots=!1,Z.hotspotPath=null,Z.hotspotFolder=null,Z.hotspotListTitle=null,Z.hotspotsDrawOnlyInView=!0,Z.captionBoxes=!1,Z.screensaver=!1,Z.screensaverSpeed=null,Z.tour=!1,Z.tourPath=null,Z.tourListTitle=null,Z.tourPlaying=null,Z.tourStop=!1,Z.slideshow=!1,Z.slidePath=null,Z.slideListTitle=null,Z.slideshowPlaying=null,Z.slideTransitionTimeout=null,Z.slideTransitionSpeed=null,Z.slideOpacity=0,Z.audioContent=!1,Z.audioMuted=!1,Z.annotations=!1,Z.annotationPath=null,Z.annotationPanelVisible=null,Z.annotationPanelVisibleState=!1,Z.annotationFolder=null,Z.annotationXMLText=null,Z.annotationJSONObject=null,Z.annotationsAddMultiple=null,Z.annotationsAutoSave=null,Z.saveButtonVisible=null,Z.labelClickSelect=null,Z.simplePath=!1,Z.noPost=!1,Z.noPostDefaults=!1,Z.unsavedEditsTest=!0,Z.maskVisible=null,Z.maskingSelection=!1,Z.maskFadeTimeout=null,Z.maskFadeSpeed=null,Z.maskOpacity=0,Z.maskClearOnUserAction=null,Z.externalEditPermissionFunction=null,Z.annotationSort="none",Z.saveHandlerPath=null,Z.saveImageHandlerPath=null,Z.saveImageFull=null,Z.postingXML=!1,Z.postingImage=!1,Z.minimizeVisible=null,Z.sliderZoomVisible=null,Z.sliderVisible=null,Z.panButtonsVisible=null,Z.resetVisible=null,Z.fullViewVisible=null,Z.fullScreenVisible=null,Z.fullPageVisible=null,Z.initialFullPage=null,Z.fullPageInitial=null,Z.measureVisible=!1,Z.captionTextColor=null,Z.captionBackColor=null,Z.polygonLineColor=null,Z.polygonFillColor=null,Z.captionTextVisible=!0,Z.captionBackVisible=!0,Z.polygonFillVisible=!0,Z.polygonLineVisible=!0,Z.rotationVisible=null,Z.initialR=null,Z.initialRotation=null,Z.virtualPointerVisible=null,Z.crosshairsVisible=null,Z.rulerVisible=null,Z.units=null,Z.unitsPerImage=null,Z.pixelsPerUnit=null,Z.sourceMagnification=null,Z.magnification=null,Z.rulerListType=null,Z.rulerW=null,Z.rulerWidth=null,Z.rulerH=null,Z.rulerHeight=null,Z.rulerL=null,Z.rulerLeft=null,Z.rulerT=null,Z.rulerTop=null,Z.coordinatesVisible=null,Z.saveImageFull=null,Z.saveImageFilename=null,Z.saveImageFormat=null,Z.saveImageCompression=null,Z.saveImageBackColor=null,Z.imageFiltersVisible=null,Z.initialImageFilters=null,Z.progressVisible=null,Z.messagesVisible=null,Z.logoVisible=null,Z.logoLink=null,Z.logoLinkURL=null,Z.logoCustomPath=null,Z.canvas=null,Z.debug=null,Z.imageProperties=null,Z.serverIP=null,Z.serverPort=null,Z.tileHandlerPath=null,Z.tileHandlerPathFull=null,Z.tileW=null,Z.tileH=null,Z.tileType="jpg",Z.tilesPNG=null,Z.freehandVisible=null,Z.textVisible=null,Z.iconVisible=null,Z.rectangleVisible=null,Z.polygonVisible=null,Z.annotationPathProvided=!1,Z.saveHandlerProvided=!1,Z.imageSetPathProvided=!1,Z.saveImageHandlerProvided=!1,Z.tileSource=null,Z.tileSourceMultiple=null,Z.focal=null,Z.quality=null,Z.markupMode=null,Z.editMode=null,Z.editing=null,Z.labelMode="view",Z.editModePrior=Z.editMode,Z.sliderFocus="zoom",Z.animation=!1,Z.animationPath=null,Z.animationCount=0,Z.animationAxis=null,Z.animator=null,Z.slidestack=!1,Z.slidestackPath=null,Z.imageSet=!1,Z.imageSetPath=null,Z.imageSetLength=null,Z.imageSetListPosition=null,Z.imageSetListTitle=null,Z.imageSetStart=null,Z.imageSetLoop=null,Z.sliderImageSetVisible=null,Z.mouseWheelParmeterProvided=null,Z.mouseWheel=null,Z.imageSetHotspotPath=null,Z.hotspotFileShared=!1,Z.imageSetAnnotationPath=null,Z.annotationFileShared=!1,Z.Viewer=null,Z.ViewerDisplay=null,Z.Viewport=null,Z.Toolbar=null,Z.ToolbarDisplay=null,Z.ToolbarMinimized=!1,Z.TooltipDisplay=null,Z.Navigator=null,Z.NavigatorDisplay=null,Z.MessageDisplay=null,Z.messages=null,Z.messageDisplayList=[],Z.overlayMessage=null,Z.CoordinatesDisplay=null,Z.coordinates=null,Z.coordinatesSave=null,Z.CopyrightDisplay=null,Z.AnnotationPanelDisplay=null,Z.imageW=null,Z.imageH=null,Z.imageCenterX=null,Z.imageCenterY=null,Z.imageX=0,Z.imageY=0,Z.imageZ=0,Z.imageR=0,Z.priorX=0,Z.priorY=0,Z.priorZ=0,Z.priorR=0,Z.preventDupCall=!1,Z.fitZ=null,Z.fillZ=null,Z.zooming="stop",Z.panningX="stop",Z.panningY="stop",Z.fullView=!1,Z.fullViewPrior=!1,Z.interactivityOff=!1,Z.useCanvas=!0,Z.specialStorageEnabled=null,Z.callbacks=[],Z.updateViewPercent=0,Z.TraceDisplay=null,Z.traces=null,Z.mouseIsDown=!1,Z.buttonIsDown=!1,Z.keyIsDown=!1,Z.mouseWheelIsDown=!1,Z.mouseWheelCompleteDuration=null,Z.mouseWheelCompleteTimer=null,Z.mouseOutDownPoint=null,Z.viewportCurrentID=0,Z.viewportCurrent=null,Z.viewportChangeTimeout=null},detectBrowserFeatures:function(){Z.browsers={UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5};var e=Z.browsers.UNKNOWN,t=0,n=1e4,i=navigator.appName,o=navigator.appVersion,a=!1,r=!1,s=navigator.userAgent.toLowerCase();if("Microsoft Internet Explorer"==i&&window.attachEvent&&window.ActiveXObject)t=s.indexOf("msie"),e=Z.browsers.IE,t=parseFloat(s.substring(t+5,s.indexOf(";",t))),a="undefined"!=typeof document.documentMode;else if("Netscape"==i&&-1!=s.indexOf("trident"))e=Z.browsers.IE,t=11;else if("Netscape"==i&&window.addEventListener){var l=s.indexOf("firefox"),i=s.indexOf("safari"),o=s.indexOf("chrome");l>=0?(e=Z.browsers.FIREFOX,t=parseFloat(s.substring(l+8)),n=1e4):i>=0&&(n=s.substring(0,i).lastIndexOf("/"),e=o>=0?Z.browsers.CHROME:Z.browsers.SAFARI,t=parseFloat(s.substring(n+1,i)),n=1e4),i=new Image,i.style.getPropertyValue&&(r=i.style.getPropertyValue("image-rendering"))}else"Opera"==i&&window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera)&&(e=Z.browsers.OPERA,t=parseFloat(o));var u;if(window.XMLHttpRequest)netReq=new XMLHttpRequest,u="XMLHttpRequest";else if(window.ActiveXObject)for(i=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],o=0,l=i.length;l>o;o++)try{netReq=new ActiveXObject(i[o]),u=i[o];break}catch(c){}for(var d,p,i=("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype),o=document.createElement("canvas"),o=!(!o.getContext||!o.getContext("2d")),l=!(e==Z.browsers.SAFARI&&4>t||e==Z.browsers.CHROME&&2>t),o=o&&l,l=!(e==Z.browsers.CHROME&&2>t),r=a||r?"high":null,f=(document.documentElement||{}).style||{},a=!1,h=["transform","WebkitTransform","MozTransform","OTransform","msTransform"];d=h.shift();)if("undefined"!=typeof f[d]){a=!0,p=/webkit/i.test(d);break}f=a,h=!1,("undefined"!=typeof document.cancelFullScreen||"undefined"!=typeof document.webkitCancelFullScreen||"undefined"!=typeof document.mozCancelFullScreen||"undefined"!=typeof document.oCancelFullScreen||"undefined"!=typeof document.msCancelFullScreen||"undefined"!=typeof document.msExitFullscreen)&&(h=!0);var m=Array.prototype.map,g=Array.prototype.splice,v=!1;try{new Float32Array(1),v=!0}catch(y){}var b=!1;try{new Uint8Array(1),b=!0}catch(w){}var x=!1;if("function"==typeof Object.defineProperty)try{Object.defineProperty({},"x",{}),x=!0}catch(T){}var S,k="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,s=-1<s.indexOf("android")||-1<s.indexOf("iphone")||-1<s.indexOf("ipad")||-1<s.indexOf("ipod");switch(window.location.protocol){case"http:":S=!1;break;case"https:":S=!1;break;case"file:":S=!0;break;default:S=null}var E=!(Z.browser==Z.browsers.IE&&9>Z.browserVersion||Z.browser==Z.browsers.OPERA&&15>Z.browserVersion||Z.browser==Z.browsers.CHROME&&25>Z.browserVersion&&Z.browser==Z.browsers.FIREFOX&&20>Z.browserVersion&&Z.browser==Z.browsers.SAFARI&&5>Z.browserVersion);Z.browser=e,Z.browserVersion=t,Z.scaleThreshold=n,Z.xmlHttpRequestSupport=u,Z.responseArraySupported=i,Z.canvasSupported=o,Z.useCanvas=Z.canvasSupported,Z.imageFiltersVisible=!Z.useCanvas&&Z.imageFiltersVisible?!1:Z.imageFiltersVisible,Z.cssTransformsSupported=a,Z.cssTransformProperty=d,Z.cssTransformNoUnits=p,Z.alphaSupported=l,Z.renderQuality=r,Z.rotationSupported=f,Z.fullScreenSupported=h,Z.arrayMapSupported=m,Z.arraySpliceSupported=g,Z.float32ArraySupported=v,Z.uInt8ArraySupported=b,Z.definePropertySupported=x,Z.touchSupport=k,Z.mobileDevice=s,Z.localUse=S,Z.zifSupported=E},parseParameters:function(e){var t=[];if("object"==typeof e)t=e;else if("string"==typeof e){e=e.split("&");for(var n=0,i=e.length;i>n;n++){var o=e[n],a=o.indexOf("=");if(a>0){var r=o.substring(0,a),o=o.substring(a+1);t[r]=o}}}return t},parametersToDelimitedString:function(e,t){var n,i="";for(n in e)i+=n+"="+e[n].toString()+t;return i=i.slice(0,-1)},setParameters:function(e){var t=this.getResource("z287"),n=this.getResource("z110"),i=this.getResource("z109"),o=this.getResource("z108"),n=n!=i?!0:!1;n||(Z.logoLinkURL=Z.Utils.getResource("z427"));var a=this.getResource("z187"),r=this.getResource("z186"),i=this.getResource("z185"),a=a!=r?!0:!1,s=this.getResource("z215"),r=this.getResource("z214"),l=this.getResource("z213");Z.specialStorageEnabled=s!=r?!0:!1;var u=this.getResource("z107"),c=this.getResource("z106"),s=this.getResource("z105"),u=u!=c?!0:!1;if(Z.skinPath=this.getResource("z201"),Z.skinMode=this.getResource("z199"),isNaN(parseFloat(this.getResource("z143")))||(Z.initialX=parseFloat(this.getResource("z143"))),isNaN(parseFloat(this.getResource("z144")))||(Z.initialY=parseFloat(this.getResource("z144"))),isNaN(parseFloat(this.getResource("z145")))||(Z.initialZ=parseFloat(this.getResource("z145"))),isNaN(parseFloat(this.getResource("z163")))||(Z.minZ=parseFloat(this.getResource("z163"))),isNaN(parseFloat(this.getResource("z153")))||(Z.maxZ=parseFloat(this.getResource("z153"))),isNaN(parseFloat(this.getResource("z241")))||(Z.zoomSpeed=parseFloat(this.getResource("z241"))),isNaN(parseFloat(this.getResource("z175")))||(Z.panSpeed=parseFloat(this.getResource("z175"))),isNaN(parseFloat(this.getResource("z111")))||(Z.fadeInSpeed=parseFloat(this.getResource("z111"))),Z.navigatorVisible=parseInt(this.getResource("z171"),10),Z.navigatorW=parseInt(this.getResource("z172"),10),Z.navigatorH=parseInt(this.getResource("z167"),10),Z.navigatorL=parseInt(this.getResource("z168"),10),Z.navigatorT=parseInt(this.getResource("z170"),10),Z.navigatorFit=this.getResource("z166"),Z.navigatorRectangleColor=this.getResource("z169"),Z.clickZoom="0"!=this.getResource("z93"),Z.doubleClickZoom="0"!=this.getResource("DEFAULT_DOUBLECLICKZOOM"),Z.doubleClickDelay=parseFloat(this.getResource("DEFAULT_DOUBLECLICKDELAY")),Z.clickPan="0"!=this.getResource("z92"),Z.mousePan="0"!=this.getResource("z164"),Z.constrainPan="0"!=this.getResource("z95"),Z.panBuffer=parseFloat(this.getResource("z173")),Z.constrainPanStrict="0"!=this.getResource("z95STRICT"),Z.smoothPan=Z.useCanvas&&"0"!=this.getResource("DEFAULT_SMOOTHPAN"),Z.smoothPanEasing=parseInt(this.getResource("DEFAULT_SMOOTHPANEASING"),10),Z.smoothPanGlide=parseInt(this.getResource("DEFAULT_SMOOTHPANGLIDE"),10),Z.keys="0"!=this.getResource("z146"),Z.canvas="0"!=this.getResource("z88"),Z.debug=parseInt(this.getResource("z104"),10),Z.toolbarVisible=parseInt(this.getResource("z223"),10),Z.toolbarAutoShowHide=0!=Z.toolbarVisible&&1!=Z.toolbarVisible&&6!=Z.toolbarVisible&&7!=Z.toolbarVisible&&8!=Z.toolbarVisible,Z.toolbarPosition=parseFloat(this.getResource("z222")),Z.logoVisible="0"!=this.getResource("z150"),Z.logoCustomPath=this.getResource("z149"),Z.minimizeVisible="0"!=this.getResource("z162"),Z.sliderZoomVisible="0"!=this.getResource("DEFAULT_SLIDERZOOMVISIBLE"),Z.mouseWheel=parseInt(this.getResource("DEFAULT_MOUSEWHEEL"),10),Z.panButtonsVisible="0"!=this.getResource("z174"),Z.resetVisible="0"!=this.getResource("DEFAULT_RESETVISIBLE"),Z.tooltipsVisible="0"!=this.getResource("z224"),Z.helpVisible=parseInt(this.getResource("z128"),10),Z.progressVisible="0"!=this.getResource("z184"),Z.fullViewVisible="0"!=this.getResource("z121"),Z.fullScreenVisible="0"!=this.getResource("z119"),Z.fullPageVisible="0"!=this.getResource("z118"),Z.initialFullPage="0"!=this.getResource("z141"),Z.measureVisible="0"!=this.getResource("z157"),Z.rotationVisible="0"!=this.getResource("z190"),Z.initialR=this.getResource("DEFAULT_INITIALR"),"object"==typeof e&&null!==e)for(var d in e)if("function"!=typeof e[d]||"zOnAnnotationReady"===d||"zOnReady"===d)if("undefined"==typeof Z[Z.Utils.stringLowerCaseFirstLetter(d.substr(1))])alert(t+" "+d);else if(pValue=e[d],n||"zNavigatorVisible"==d)switch(d){case"zOnAnnotationReady":"function"==typeof pValue&&Z.setCallback("annotationPanelInitialized",pValue);break;case"zOnReady":"function"==typeof pValue&&Z.setCallback("readyViewer",pValue);break;case"zInitialX":isNaN(parseFloat(pValue))||(Z.initialX=parseFloat(pValue));break;case"zInitialY":isNaN(parseFloat(pValue))||(Z.initialY=parseFloat(pValue));break;case"zInitialZoom":"fit"==pValue&&(pValue="-1"),"fill"==pValue&&(pValue="0"),isNaN(parseFloat(pValue))||(Z.initialZ=parseFloat(pValue),Z.initialZ&&0<Z.initialZ&&100>=Z.initialZ&&(Z.initialZ/=100));break;case"zMinZoom":"fit"==pValue&&(pValue="-1"),"fill"==pValue&&(pValue="0"),isNaN(parseFloat(pValue))||(Z.minZ=parseFloat(pValue),Z.minZ&&0<Z.minZ&&100>=Z.minZ&&(Z.minZ/=100));break;case"zMaxZoom":isNaN(parseFloat(pValue))||(Z.maxZ=parseFloat(pValue),Z.maxZ&&-1!=Z.maxZ&&(Z.maxZ/=100));break;case"zNavigatorVisible":Z.navigatorVisible=parseInt(pValue,10);break;case"zToolbarVisible":Z.toolbarVisible=parseInt(pValue,10),Z.toolbarAutoShowHide=0!=Z.toolbarVisible&&1!=Z.toolbarVisible&&6!=Z.toolbarVisible&&7!=Z.toolbarVisible&&8!=Z.toolbarVisible;break;case"zLogoVisible":"0"==pValue&&(Z.logoVisible=!1);break;case"zMinimizeVisible":"0"==pValue&&(Z.minimizeVisible=!1);break;case"zSliderVisible":"0"==pValue&&(Z.sliderZoomVisible=!1);break;case"zPanButtonsVisible":"0"==pValue&&(Z.panButtonsVisible=!1);break;case"zResetVisible":"0"==pValue&&(Z.resetVisible=!1);break;case"zFullViewVisible":"1"==pValue?(Z.fullScreenVisible=!0,Z.fullPageVisible=!1):"0"==pValue&&(Z.fullScreenVisible=!1,Z.fullPageVisible=!1);break;case"zFullScreenVisible":"0"==pValue&&(Z.fullScreenVisible=!1,Z.fullPageVisible=!1);break;case"zFullPageVisible":"1"==pValue&&(Z.fullScreenVisible=!1,Z.fullPageVisible=!0);break;case"zInitialFullPage":"1"==pValue&&(Z.initialFullPage=!0);break;case"zFullPageInitial":alert(Z.Utils.getResource("z275")+" zFullPageInitial is now zInitialFullPage");break;case"zProgressVisible":"0"==pValue&&(Z.progressVisible=!1);break;case"zTooltipsVisible":"0"==pValue&&(Z.tooltipsVisible=!1);break;case"zHelpVisible":Z.helpVisible=parseInt(pValue,10);break;case"zNavigatorRectangleColor":Z.navigatorRectangleColor=pValue;break;case"zSkinPath":Z.skinPath=pValue;break;default:if(a)switch(d){default:if(u)switch(d){default:Z.specialStorageEnabled==r&&alert(l+" "+d)}else alert(s+" "+d)}else alert(i+" "+d)}else alert(o+" "+d);(Z.Utils.stringValidate(Z.annotationPath)||Z.Utils.stringValidate(Z.saveHandlerPath)||Z.Utils.stringValidate(Z.saveImageHandlerPath))&&(u?Z.Utils.stringValidate(Z.saveHandlerPath)&&(e=Z.saveImageHandlerPath,Z.saveHandlerPath=Z.saveHandlerPath,Z.saveImageHandlerPath=e):(Z.annotationPath="",alert(s))),Z.Utils.validateImagePath()},resetParametersXYZ:function(e){if(isNaN(parseFloat(this.getResource("z143")))||(Z.initialX=parseFloat(this.getResource("z143"))),isNaN(parseFloat(this.getResource("z144")))||(Z.initialY=parseFloat(this.getResource("z144"))),isNaN(parseFloat(this.getResource("z145")))||(Z.initialZ=parseFloat(this.getResource("z145"))),isNaN(parseFloat(this.getResource("z163")))||(Z.minZ=parseFloat(this.getResource("z163"))),isNaN(parseFloat(this.getResource("z153")))||(Z.maxZ=parseFloat(this.getResource("z153"))),this.stringValidate(e))for(var t=0,n=e.length;n>t;t++){var i=e[t],o=i.indexOf("=");if(o>0){var a=i.substring(0,o),i=i.substring(o+1);if(this.stringValidate(i))switch(a){case"zInitialX":isNaN(parseFloat(i))||(Z.initialX=parseFloat(i));break;case"zInitialY":isNaN(parseFloat(i))||(Z.initialY=parseFloat(i));break;case"zInitialZoom":"fit"==i&&(i="-1"),"fill"==i&&(i="0"),isNaN(parseFloat(i))||(Z.initialZ=parseFloat(i),Z.initialZ&&0<Z.initialZ&&100>=Z.initialZ&&(Z.initialZ/=100));break;case"zMinZoom":"fit"==i&&(i="-1"),"fill"==i&&(i="0"),isNaN(parseFloat(i))||(Z.minZ=parseFloat(i),Z.minZ&&0<Z.minZ&&100>=Z.minZ&&(Z.minZ/=100));break;case"zMaxZoom":isNaN(parseFloat(i))||(Z.maxZ=parseFloat(i),Z.maxZ&&-1!=Z.maxZ&&(Z.maxZ/=100))}}}},validateImagePath:function(e){e="undefined"!=typeof e&&Z.Utils.stringValidate(e)?e:Z.imagePath,null!==e?(this.getResource("z213"),-1!=e.toLowerCase().indexOf(".zif")?Z.zifSupported?(Z.tileSource="ZoomifyImageFile",Z.Utils.validateResponseArrayFunctionality()):alert(this.getResource("z16")):-1!=e.toLowerCase().indexOf(".jpg")||-1!=e.toLowerCase().indexOf(".png")?Z.tileSource="unconverted":Z.Utils.stringValidate(Z.tileHandlerPath)||(Z.tileSource="ZoomifyImageFolder")):(Z.imageSet||Z.slideshow)&&(Z.tileSourceMultiple=!0)},clearImageParameters:function(){Z.imagePath=null,Z.parameters=null,Z.initialX=null,Z.initialY=null,Z.initialZ=null,Z.minZ=null,Z.maxZ=null,Z.initialR=null,Z.imageProperties=null,Z.tileW=null,Z.tileH=null,Z.tileType="jpg",Z.annotationPathProvided=!1,Z.imageSetPathProvided=!1,Z.tileSource=null,Z.tileSourceMultiple=null,Z.imageW=null,Z.imageH=null,Z.imageCenterX=null,Z.imageCenterY=null,Z.imageX=0,Z.imageY=0,Z.imageZ=0,Z.imageR=0,Z.priorX=0,Z.priorY=0,Z.priorZ=0,Z.priorR=0,Z.fitZ=null,Z.fillZ=null,Z.zooming="stop",Z.panningX="stop",Z.panningY="stop",Z.fullView=!1,Z.fullViewPrior=!1},getResource:function(e){var t="";switch(e){case"z110":t="Enable Express parameters";break;case"z109":t="Changing This Violates License Agreement";break;case"z108":t="Support for this parameter is enabled only in the Zoomify Image Viewer included in the Zoomify HTML5 Express, Pro, and Enterprise editions: ";break;case"z187":t="Changing This Violates License Agreement";break;case"z186":t="Changing This Violates License Agreement";break;case"z185":t="Support for this parameter is enabled only in the Zoomify Image Viewer included in the Zoomify HTML5 Pro and Enterprise editions: ";break;case"z215":t="Changing this violates License Agreement";break;case"z214":t="Changing this violates License Agreement";break;case"z213":t="Support for Zoomify Image File (PFF) storage and other special storage options is enabled only in the Zoomify Image Viewer included in the Zoomify HTML5 Enterprise edition.";break;case"z107":t="Changing this violates License Agreement";break;case"z106":t="Changing this violates License Agreement";break;case"z105":t="Support for this parameter is enabled only in the Zoomify Image Viewer included in the Zoomify HTML5 Enterprise edition: ";break;case"z125":t="0";break;case"z124":t="8192";break;case"z90":t="1024";break;case"z221":t="256";break;case"z219":t="256";break;case"z140":t="300";break;case"z139":t="60000";break;case"DEFAULT_IMAGELOADQUEUEDELAY":t="100";break;case"z218":t="1.15";break;case"z220":t="300";break;case"z81":t="6";break;case"z78":t="3";break;case"z80":t="5";break;case"z77":t="3";break;case"z79":t="3";break;case"z76":t="2";break;case"z75":t="0";break;case"z173":t=Z.mobileDevice?"1":"1.5",Z.rotationVisible&&(t="2");break;case"z173UNCONVERTED":t=Z.mobileDevice?Z.rotationVisible?"2":"1":"10";break;case"DEFAULT_z310SIZEMAXBROWSER":t="10000";break;case"DEFAULT_z310SIZEMAXFIREFOX":t="4000";break;case"DEFAULT_z310SIZEMAXIMAGESET":t="1000";break;case"z74":t=Z.mobileDevice?"1":"2";break;case"z88":t="1";break;case"z230":t="2000";break;case"DEFAULT_VALIDATEVIEWRETRYLIMIT":t="2";break;case"DEFAULT_VALIDATEVIEWRETRYDELAY":t="1000";break;case"z104":t="0";break;case"z175":t="5";break;case"z176":t="10";break;case"z241":t="5";break;case"z242":t="0.02";break;case"z238":t="30";break;case"z240":t="20";break;case"z239":t="800";break;case"z93TIERSKIPTHRESHOLD":t="0.2";break;case"z122":t="10";break;case"DEFAULT_AUTORESIZESKIPDURATION":t="10";break;case"DEFAULT_MOUSEWHEEL":t="1";break;case"DEFAULT_MOUSEWHEELANIMATION":t="1";break;case"z165":t="300";break;case"z111":t="5";break;case"z112":t="0.067";break;case"z146":t="1";break;case"z164":t="1";break;case"z92":t="1";break;case"z93":t="1";break;case"DEFAULT_DOUBLECLICKZOOM":t="1";break;case"DEFAULT_DOUBLECLICKDELAY":t="250";break;case"z95":t="1";break;case"z95STRICT":t="0";break;case"DEFAULT_SMOOTHPAN":t="1";break;case"DEFAULT_SMOOTHPANEASING":t="2";break;case"DEFAULT_SMOOTHPANGLIDE":t="2";break;case"z143":t=null;break;case"z144":t=null;break;case"z145":t=null;break;case"z163":t=null;break;case"z153":t="1";break;case"z83":t="#FBFAFA";break;case"z83NOALPHA":t="#FBFAFA";break;case"z83LIGHT":t="#FEFEFE";break;case"z82":t="0.75";break;case"z86":t="0.75";break;case"z87":t="#C0C0C0";break;case"z200":t="skinFiles.xml";break;case"z201":t="Assets/Skins/Default";break;case"z199":t="0";break;case"z171":t="2";break;case"z172":t="150";break;case"z167":t="100";break;case"z168":t="-1";break;case"z170":t="-1";break;case"z166":t=null;break;case"z169":t="#0000FF";break;case"z223":t="4";break;case"z222":t="1";break;case"z224":t="1";break;case"z128":t="1";break;case"z150":t="1";break;case"z149":t=null;break;case"z162":t="1";break;case"DEFAULT_SLIDERZOOMVISIBLE":t="1";break;case"z205ZOOM":t="10";break;case"z174":t="1";break;case"DEFAULT_RESETVISIBLE":t="1";break;case"z121":t="1";break;case"z119":t="1";break;case"z120":t="white";break;case"z118":t="0";break;case"z141":t="0";break;case"z232":t="Assets/VirtualPointer/virtualPointer.png";break;case"z157":t="undefined"==typeof Z.parameters||null===Z.parameters||"undefined"!=typeof Z.parameters.zMeasureVisible&&"0"==Z.parameters.zMeasureVisible||!("undefined"!=typeof Z.parameters.zMarkupMode&&"1"==Z.parameters.zMarkupMode||"undefined"!=typeof Z.parameters.zEditMode&&"1"==Z.parameters.zEditMode)?"0":"1";break;case"DEFAULT_FULLVIEWEXITEXTERNALBUTTONCOLOR":t="	#F8F8F8";break;case"z190":t="0";break;case"DEFAULT_INITIALR":t="0";break;case"z184":t="1";break;case"z182":t="500";break;case"z183":t=" ";break;case"z183COLOR":t="#000000";break;case"z127":t="lightgray";break;case"z126":t="white";break;case"z159":t="lightgray";break;case"z158":t="white";break;case"z16":t="Viewing Zoomify Images stored in the ZIF format requires a newer browser version. Please consider upgrading to the current release of your browser.";break;case"z8":t="\nClick the '?' button for help.";break;case"ERROR_ERROR":t="error";break;case"z268LONG":t="9000";break;case"z268":t="3000";break;case"z268MEDIUM":t="1500";break;case"z268SHORT":t="750";break;case"z287":t="Parameter unrecognized or deprecated - see the Parameters List documentation: ";break;case"z275":t="Parameter deprecated - please replace: ";break;case"z288":t="Recent versions of most browsers allow dynamic content loading (such as viewing of Zoomify Images) only from a web server.  Please change your browser settings (see READ ME FIRST file for details) or use FireFox or an earlier version of your browser for local viewing.";break;case"z290":t="Browsers allow ZIF file viewing only from a web server.  Please use Zoomify Image folders for local viewing.";break;case"z249":t="Image failed to load: possible invalid path, missing image, or network error.";break;case"z280":t="Sorry!  Part of this view is not refreshing.  The network may be slow, or the website may be missing a file:  ";break;case"ERROR_VALIDATEVIEW":t="Sorry!  Part of this view is not refreshing. The network\nmay be slow, or the website may be missing a file.  ";break;case"z280-ZIF":t="Sorry!  Part of this view is not refreshing.  The network may be slow, or the ZIF file may be faulty:  ";break;case"z256-ZIFBYTERANGE":t="Error loading image: ZIF file data request failed. Request content type: ";break;case"z256-ZIFBYTES":t="Error loading image: ZIF file invalid.";break;case"z295":t="Browser does not support XMLHttpRequest.";break;case"z256-IMAGEXML":t="Error loading image: please make sure image path in web page matches image folder location on webserver.";break;case"z256-TOOLBARSKINSXML":t="Error loading toolbar - skin files not found: please verify that the folders 'Assets/Skins/Default' are in same folder as the web page displaying the Viewer, or add zSkinPath parameter to web page. The zSkinPath parameter may be required if using a content management system such as Drupal, Joomla, or WordPress.";break;case"z256":t="Error making network request:\npossible invalid path or network error.";break;case"z272":t="Error related to network security: ";break;case"z273":t="Error related to network status: ";break;case"z273RANGEREQUESTS":t="Network error. If using ZIF storage, setting MIME type on web server may be necessary. See READ ME FIRST file in ZIF Storage folder or contact Support: ";break;case"z244":t=" converting XML text to XML doc (DOMParser): ";break;case"z294":t="Browser does not support XML DOM.";break;case"z293":t="XML Doc invalid.";break;case"z296":t="XML invalid.";break;case"z255":t="Image XML invalid.";break;case"z252":t="Image properties XML invalid.";break;case"z250":t="Image properties invalid.";break;case"z251":t="Image properties parameter invalid.";break;case"z254":t="Image tile count does not match value in image XML. If the count is invalid display problems can result.";break;case"z245":t=" while executing callback: ";break;case"z253":t="\nImage tile request not fulfilled within time period expected";break;case"ERROR_UNCONVERTEDIMAGEPATHINVALID":t="Unconverted JPEG or PNG image failed to load: possible invalid path, missing image, or network error.";break;case"ERROR_TRANSLATINGCANVASFORUNCONVERTEDIMAGE":t="\nTranslation of canvas failed";break;case"ERROR_SCALINGCANVASFORUNCONVERTEDIMAGE":t="\nScaling of canvas failed";break;case"ERROR_SETTINGTRANSFORMONCANVASFORUNCONVERTEDIMAGE":t="\nTransform on canvas failed";break;case"z271":t="Navigator image failed to load: possible invalid path, missing image, or network error.";break;case"z278":t="Skin XML invalid.";break;case"z279":t="The skin XML file has one or more faulty name lines.";break;case"z283":t="Unknown element style - no known method to identify.";break;case"z284":t="Unknown mouse position - no known method to calculate.";break;case"z285":t="Unknown mouse scroll - no known method to calculate.";
break;case"z286":t="Unknown window size - no known method to calculate.";break;case"z360":t="Launch Zoomify Website";break;case"z363":e="",Z.hotspots?e="\nAlt-Click: Toggle Hotspot Visibility":Z.annotations&&(e="\nAlt-Click: Toggle Label Visibility"),t="Minimize Toolbar"+e;break;case"z341":e="",Z.hotspots?e="\nAlt-Click: Toggle Hotspot Visibility":Z.annotations&&(e="\nAlt-Click: Toggle Label Visibility"),t="Expand Toolbar"+e;break;case"z400":t="Zoom Out";break;case"z385":t="Zoom In And Out";break;case"z399":t="Zoom In";break;case"z370":t="Pan Left";break;case"z372":t="Pan Up";break;case"z369":t="Pan Down";break;case"z371":t="Pan Right";break;case"z378":t="Reset Initial View\nAlt-Click: Prior View";break;case"z391":t="Enter Full View";break;case"z391EXIT":t="Exit Full View";break;case"z391EXITEXTERNAL":t="Exit Full View";break;case"z342":t="Show Help";break;case"z342MARKUP":t="Show Markup Help";break;case"z342ANNOTATION":t="Show Annotation Help";break;case"z342OK":t="Close Help Display";break;case"z362":t="Accept And Close Message";break;case"z361":t="Decline And Close Message";break;case"z427DISPLAY":t="www.zoomify.com";break;case"z427":t="http://www.zoomify.com";break;case"z427TARGET":t="_blank";break;case"z439":t="Navigator Bird's Eye View";break;case"z420":t="X";break;case"z422":t="430";break;case"z421":t="300";break;case"z423":t="OK";break;case"z437":t="430";break;case"z436":t="84";break;case"z435":t="Cancel";break;case"z438":t="OK";break;case"z32":t="<p align=%22center%22><font face=%22Arial,Helvetica,sans-serif%22><strong>Viewer Help</strong></font></p><p align=%22justify%22><font face=%22Arial,Helvetica,sans-serif%22>To explore this image, simply click the image to zoom, double-click to zoom out, or click-drag to pan.<br><br>The Navigator thumbnail overview can also be clicked or click-dragged to pan.<br><br>Use the Toolbar for exact navigation - if using a mouse, hold it over any button to see a helpful tip.</font></p>";break;default:t="Unexpected resource request"}return t},clearDisplay:function(e){if(e)if(Z.useCanvas&&"CANVAS"==e.tagName)Z.Utils.clearCanvas(e);else for(;e.hasChildNodes();)e.removeChild(e.lastChild)},clearCanvas:function(e){e=e.getContext("2d"),e.save();try{e.setTransform(1,0,0,1,0,0)}catch(t){Z.Utils.showMessage(Z.Utils.getResource("ERROR_SETTINGTRANSFORMONCANVASFORUNCONVERTEDIMAGE")),console.log("In function clearCanvas setting transform on canvas:  "+t)}e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},createCallback:function(e,t){for(var n=[],i=2,o=arguments.length;o>i;i++)n[n.length]=arguments[i];return function(){for(var i=n.concat([]),o=0,a=arguments.length;a>o;o++)i[i.length]=arguments[o];return t.apply(e,i)}},validateCallback:function(e){var t=Z.callbacks.slice(0);Z.Utils.functionCallWithDelay(function(){Z.Utils.validateCallbackDelayed(e,t)},10)},validateCallbackDelayed:function(e,t){for(var n=0,i=t.length;i>n;n++){var o=t[n];if(o&&o.callbackEvent==e&&"object"==typeof o&&"function"==typeof o.callbackFunction)switch(e){case"viewZoomingGetCurrentZoom":var a=Z.Viewport.getZoom();o.callbackFunction(a);break;case"viewUpdateCompleteGetLabelIDs":a=Z.Viewport.getLabelIDsInCurrentView(!1,!0,!0),o.callbackFunction(a);break;case"viewUpdateCompleteGetLabelInternalIDs":a=Z.Viewport.getLabelIDsInCurrentView(!0,!0,!0),o.callbackFunction(a);break;default:o.callbackFunction()}}Z.Utils.arrayClear(t)},getContainerSize:function(e,t){var n=Z.Utils.getElementStyle(e),i=parseFloat(n.width),o=parseFloat(n.height);return Z.Utils.stringValidate(n.width)&&-1!=n.width.indexOf("%")&&(i=parseFloat(Z.Utils.getElementStyleProperty(e,"width"))),Z.Utils.stringValidate(n.height)&&-1!=n.height.indexOf("%")&&(o=parseFloat(Z.Utils.getElementStyleProperty(e,"height"))),isNaN(i)&&(i=t.clientWidth),isNaN(o)&&(o=t.clientHeight),(0==i||0==o)&&(winDimensions=Z.Utils.getWindowSize(),0==i&&(e.parentNode.style.width=winDimensions.x+"px",i=e.clientWidth),0==o&&(e.parentNode.style.height=winDimensions.y+"px",o=e.clientHeight)),new Z.Utils.Point(i,o)},createContainerElement:function(e,t,n,i,o,a,r,s,l,u,c,d,p,f,h,m,g){var v=document.createElement(e);return this.stringValidate(t)&&(v.id=t),t=v.style,t.display=this.stringValidate(n)?n:"inline-block",t.position=this.stringValidate(i)?i:"static",t.overflow=this.stringValidate(o)?o:"hidden","canvas"==e?(this.stringValidate(a)&&v.setAttribute("width",a),this.stringValidate(r)&&v.setAttribute("height",r)):(this.stringValidate(a)&&(t.width=a),this.stringValidate(r)&&(t.height=r)),this.stringValidate(s)&&(t.left=s),this.stringValidate(l)&&(t.top=l),t.borderStyle=this.stringValidate(u)?u:"none",t.borderWidth=this.stringValidate(c)?c:"0px",t.borderColor="#696969",t.background=this.stringValidate(d)?d:"transparent none",t.margin=this.stringValidate(p)?p:"0px",t.padding=this.stringValidate(f)?f:"0px",t.whiteSpace=this.stringValidate(h)?h:"normal",this.stringValidate(m)&&(t.cursor=m),"undefined"!==g&&g&&(Z.Utils.addEventListener(v,"touchstart",Z.Utils.preventDefault),Z.Utils.addEventListener(v,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(v,"contextmenu",Z.Utils.preventDefault)),v},createCenteredElement:function(e,t){var n=this.createContainerElement("div"),i=[];i[i.length]='<div style="#position:relative; display:table; height:100%; width:100%; border:none; margin:0px; padding:0px; overflow:hidden; text-align:left;">',i[i.length]='<div style="#position:absolute; display:table-cell; #top:50%; width:100%; border:none; margin:0px; padding:0px; vertical-align:middle;">',i[i.length]='<div id="'+t+'"; style="#position:relative; width:100%; #top:-50%; border:none; margin:0px; padding:0px; text-align:center;"></div></div></div>',n.innerHTML=i.join("");for(var i=n=n.firstChild,o=n.getElementsByTagName("div");0<o.length;)i=o[0],o=i.getElementsByTagName("div");return i.appendChild(e),n},createTextElement:function(e,t,n,i,o,a,r,s,l,u,c,d,p,f,h,m,g,v){return n=Z.Utils.createContainerElement("div","textBoxFor-"+e,"inline-block","absolute","hidden",n,i,o,a,s,l,"white","0px",r,"normal"),i=document.createElement("textarea"),n.appendChild(i),o=i.style,i.id=e,i.value=t,i.readOnly=u,o.width="100%",o.height="100%",o.margin="0",o.border="0",this.stringValidate(c)&&(o.fontFamily=c),this.stringValidate(d)&&(o.fontSize=d),this.stringValidate(p)&&(o.resize=p),this.stringValidate(f)&&(i.columns=f),this.stringValidate(h)&&(i.rows=h),this.stringValidate(m)&&(o.overflowX=m),this.stringValidate(g)&&(o.overflowY=g),this.stringValidate(v)&&(i.wrap=v,"off"==v&&(o.whiteSpace="nowrap")),n},getChildElementByID:function(e,t){for(var n=null,i=0,o=e.childNodes.length;o>i&&(n=e.childNodes[i],n.id!=t)&&(n=Z.Utils.getChildElementByID(n,t),null===n);i++);return n},getElementPosition:function(e){for(var t=0,n=0,i="fixed"==this.getElementStyle(e).position,o=this.getOffsetParent(e,i);o;)t+=e.offsetLeft,n+=e.offsetTop,i&&(e=this.getPageScroll(),t+=e.x,n+=e.y),e=o,i="fixed"==this.getElementStyle(e).position,o=this.getOffsetParent(e,i);return new this.Point(t,n)},getOffsetParent:function(e,t){return t&&e!=document.body?document.body:e.offsetParent},getElementSize:function(e){return new this.Point(e.clientWidth,e.clientHeight)},getElementStyle:function(e){return e.currentStyle?e.currentStyle:window.getComputedStyle?window.getComputedStyle(e,""):void this.showMessage(this.getResource("z283"))},getElementStyleProperty:function(e,t){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.currentStyle?e.currentStyle[t]:void this.showMessage(this.getResource("z283"))},isElementFluid:function(e){var t,n,i,o,a,r=e.cloneNode(!1);return i=n=!1,window.getComputedStyle?value=window.getComputedStyle(r,null).width:r.currentStyle&&(value=r.currentStyle.width),"undefined"!=typeof value&&null!==value&&""!==value?n=-1!=value.toString().indexOf("%")||"auto"==value:(r.style.margin="0",r.style.padding="0",r.style.maxWidth="none",r.style.minWidth="none",t=document.createElement("testContainer"),t.style.display="block",t.style.width="800px",t.style.padding="0",t.style.margin="0",t.appendChild(r),e.parentNode.insertBefore(t,e),n=r.offsetWidth,t.style.width="900px",r.offsetWidth==n?(e.parentNode.removeChild(t),n=!1):(o=Math.floor(.125*n),a=Math.floor(100/900*r.offsetWidth),e.parentNode.removeChild(t),n=o==a?!0:!1)),0==i&&(window.getComputedStyle?value=window.getComputedStyle(r,null).height:r.currentStyle&&(value=r.currentStyle.height),"undefined"!=typeof value&&null!==value&&""!=value?i=-1!=value.toString().indexOf("%")||"auto"==value:(r.style.margin="0",r.style.padding="0",r.style.maxHeight="none",r.style.minHeight="none",t=document.createElement("testContainer"),t.style.display="block",t.style.height="800px",t.style.padding="0",t.style.margin="0",t.appendChild(r),e.parentNode.insertBefore(t,e),i=r.offsetHeight,t.style.height="900px",r.offsetHeight==i?(e.parentNode.removeChild(t),i=!1):(o=Math.floor(.125*i),a=Math.floor(100/900*r.offsetHeight),e.parentNode.removeChild(t),i=o==a?!0:!1))),n||i},getEventTargetCoords:function(e){return getElementPosition(Z.Utils.target(e))},getFirstTouch:function(e){var t=null,n=e.touches;return e=e.changedTouches,"undefined"!=typeof n?t=n[0]:"undefined"!=typeof e&&(t=e[0]),t},getMousePosition:function(e){var t=0,n=0;return"DOMMouseScroll"==e.type&&Z.browser==Z.browsers.FIREFOX&&3>Z.browserVersion?(t=e.screenX,n=e.screenY):"number"==typeof e.pageX?(t=e.pageX,n=e.pageY):"number"==typeof e.clientX?(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop):this.showMessage(this.getResource("z284")),new this.Point(t,n)},getMouseScroll:function(e){var t=0;return"number"==typeof e.wheelDelta?t=e.wheelDelta:"number"==typeof e.detail?t=-1*e.detail:this.showMessage(this.getResource("z285")),t?t/Math.abs(t):0},getPageScroll:function(){var e=0,t=0,n=document.documentElement||{},i=document.body||{};return"number"==typeof window.pageXOffset?(e=window.pageXOffset,t=window.pageYOffset):i.scrollLeft||i.scrollTop?(e=i.scrollLeft,t=i.scrollTop):(n.scrollLeft||n.scrollTop)&&(e=n.scrollLeft,t=n.scrollTop),new this.Point(e,t)},getScreenSize:function(){return new this.Point(screen.width,screen.height)},getWindowSize:function(){var e=0,t=0,n=document.documentElement||{},i=document.body||{};return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):n.clientWidth||n.clientHeight?(e=n.clientWidth,t=n.clientHeight):i.clientWidth||i.clientHeight?(e=i.clientWidth,t=i.clientHeight):this.showMessage(this.getResource("z286")),new this.Point(e,t)},Button:function(e,t,n,i,o,a,r,s,l,u,c,d,p,f,h,m,g,v,y,b){if(e=Z.Utils.createContainerElement("span",e,"inline-block","absolute","hidden",r,s,l,u,f,h,m,g,v,y,b),Z.Utils.stringValidate(t)){var w=document.createTextNode(t);e.appendChild(Z.Utils.createCenteredElement(w)),Z.Utils.setTextNodeStyle(w,"black","verdana","13px","none","normal","normal","normal","normal","1em","center","none")}else{n=Z.Utils.stringRemoveTrailingSlashCharacters(n);var x=Z.Utils.createGraphicElement(n+"/"+i),T=Z.Utils.createGraphicElement(n+"/"+o),S=Z.Utils.createGraphicElement(n+"/"+a);x.style.width=T.style.width=S.style.width=r,x.style.height=T.style.height=S.style.height=s,x.style.position=T.style.position=S.style.position="absolute",Z.browser==Z.browsers.FIREFOX&&3>Z.browserVersion&&(x.style.top=T.style.top=S.style.top=""),T.style.visibility=S.style.visibility="hidden",x.alt=T.alt=S.alt="","undefined"!=typeof p&&Z.Utils.stringValidate(p)&&(x.alt=Z.Utils.getResource(p)),e.appendChild(x),e.appendChild(T),e.appendChild(S)}Z.Utils.addEventListener(e,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(e,"mouseover",Z.Utils.stopPropagation),Z.Utils.addEventListener(e,"mousedown",Z.Utils.stopPropagation),Z.Utils.addEventListener(e,"mouseup",Z.Utils.stopPropagation),Z.Utils.addEventListener(e,"mouseout",Z.Utils.stopPropagation),"undefined"!=typeof imageUp&&(Z.Utils.addEventListener(x,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(T,"contextmenu",Z.Utils.preventDefault),Z.Utils.addEventListener(S,"contextmenu",Z.Utils.preventDefault)),Z.Utils.addEventListener(e,"touchstart",Z.Utils.preventDefault),Z.Utils.addEventListener(e,"touchend",Z.Utils.preventDefault),Z.Utils.addEventListener(e,"touchcancel",Z.Utils.preventDefault),Z.Utils.stringValidate(t)||(Z.Utils.disableTextInteraction(w),Z.Utils.addEventListener(e,"contextmenu",Z.Utils.preventDefault)),Z.tooltipsVisible&&Z.Utils.stringValidate(p)&&(e.title=Z.Utils.getResource(p)),Z.Utils.setButtonHandler(e,c,d),this.elmt=e},buttonSize:function(e,t,n){var i=e.style;i.width=t+"px",i.height=n+"px",n=e.firstChild,i=e.childNodes[1],e=e.childNodes[2],n&&i&&e&&(n.style.width=i.style.width=e.style.width=t+"px",n.style.height=i.style.height=e.style.height=t+"px")},setButtonDefaults:function(e){Z.Utils.clearButtonSettings(e),Z.Utils.setButtonState(e,"up"),Z.Utils.setButtonHandler(e,"mouseover",Z.Toolbar.z457)},clearButtonSettings:function(e){var t=e.firstChild,n=e.childNodes[1],i=e.childNodes[2];t&&n&&i&&(t.style.visibility=n.style.visibility=i.style.visibility="hidden",Z.Utils.removeEventListener(t,"mouseover",Z.Toolbar.z457),Z.Utils.removeEventListener(n,"mousedown",Z.Toolbar.z457),Z.Utils.removeEventListener(n,"mouseout",Z.Toolbar.z457),Z.Utils.removeEventListener(i,"mouseup",Z.Toolbar.z457),Z.Utils.removeEventListener(e,"touchstart",Z.Toolbar.z457),Z.Utils.removeEventListener(e,"touchend",Z.Toolbar.z457),Z.Utils.removeEventListener(e,"touchcancel",Z.Toolbar.z457)),Z.Utils.removeEventListener(e,"mouseover",Z.Toolbar.z457),Z.Utils.removeEventListener(e,"mousedown",Z.Toolbar.z457),Z.Utils.removeEventListener(e,"mouseout",Z.Toolbar.z457),Z.Utils.removeEventListener(e,"mouseup",Z.Toolbar.z457)},setButtonState:function(e,t){var n="up"==t?e.firstChild:"down"==t?e.childNodes[1]:e.childNodes[2];n&&(n.style.visibility="visible")},setButtonHandler:function(e,t,n){n="undefined"!==n?n:Z.Toolbar.z457;var i="undefined"!==t?t:"mouseover";"mouseover"==t&&"undefined"!=typeof e.firstChild?e=e.firstChild:("mousedown"!=t||"undefined"==typeof e.childNodes[1])&&("mouseup"==t&&"undefined"!=typeof e.childNodes[2]?e=e.childNodes[2]:"mouseout"==t&&"undefined"!=typeof e.childNodes[1]&&(e=e.childNodes[1])),Z.Utils.addEventListener(e,"mousedown"==t?"touchstart":"touchend",n),Z.Utils.addEventListener(e,i,n)},Graphic:function(e,t,n,i,o,a,r,s){t=Z.Utils.stringRemoveTrailingSlashCharacters(t),t=Z.Utils.createGraphicElement(n?t+"/"+n:t),n=t.style,n.width=i,n.height=o,t.alt="undefined"!=typeof s&&Z.Utils.stringValidate(s)?Z.Utils.getResource(s):"",n=Z.Utils.createContainerElement("span",e,"inline-block","absolute","hidden",i,o,a,r,"none","0px","transparent none","0px","0px","normal"),n.appendChild(t),this.elmt=n,Z.Utils.addEventListener(t,"mousedown",Z.Utils.preventDefault),Z.Utils.addEventListener(t,"touchstart",Z.Utils.preventDefault),Z.Utils.addEventListener(t,"contextmenu",Z.Utils.preventDefault)},createGraphicElement:function(e){var t=this.createContainerElement("img"),n=null;return Z.browser==Z.browsers.IE&&7>Z.browserVersion?(n=this.createContainerElement("span",null,"inline-block"),t.onload=function(){n.style.width=n.style.width||t.width+"px",n.style.height=n.style.height||t.height+"px",t=t.onload=null},n.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+e+'", sizingMethod="scale")'):(n=t,n.src=e),n},graphicSize:function(e,t,n){var i=e.style;i.width=t+"px",i.height=n+"px",e=e.firstChild.style,e.width=t+"px",e.height=n+"px"},Point:function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},Point3D:function(e,t,n){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof n?n:0},Range:function(e,t){this.start="number"==typeof e?e:0,this.end="number"==typeof t?t:0},stringValidate:function(e){return"undefined"!=typeof e&&null!==e&&""!==e&&"null"!==e},stringLowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},stringMultiply:function(e,t){var n=Math.ceil(Math.log(t)/Math.LN2),i=e;do i+=i;while(0<--n);return i.slice(0,e.length*t)},stringRemoveTrailingSlashCharacters:function(e){return"/"==e.slice(-1,e.length)?e.slice(0,e.length-1):e},stringUnescapeAmpersandCharacters:function(e){return e=e.replace(/\n/g,""),e=e.replace(/&#38;/g,"&"),e=e.replace(/&#038;/g,"&"),e=e.replace(/&amp;/g,"&")},setTextNodeStyle:function(e,t,n,i,o,a,r,s,l,u,c,d){e=e.parentNode.style,e.color=t,e.fontFamily=n,e.fontSize=i,e.fontSizeAdjust=o,e.fontStyle=a,e.fontStretch=r,e.fontVariant=s,e.fontWeight=l,e.lineHeight=u,e.textAlign=c,e.textDecoration=d},stringValidateColorValue:function(e){return Z.Utils.stringValidate(e)||(e="#000000"),0!=e.indexOf("#")&&(e="#"+e),e},xmlConvertTextToDoc:function(e){var t=null;if(window.ActiveXObject)try{t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)}catch(n){this.showMessage(n.name+this.getResource("z244")+n.message)}else if(window.DOMParser)try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(i){this.showMessage(i.name+this.getResource("z244")+i.message)}else this.showMessage(this.getResource("z294"));return t},arrayClear:function(e){if(e)for(;0<e.length;)e.pop()},arrayIndexOf:function(e,t,n){n?0>n&&(n=Math.max(0,e.length+n)):n=0;for(var i=e.length;i>n;n++)if(e[n]===t)return n;return-1},arrayIndexOfObjectValue:function(e,t,n,i){if("undefined"!=typeof e){i?0>i&&(i=Math.max(0,e.length+i)):i=0;for(var o=e.length;o>i;i++)if(e[i][t]===n)return i}return-1},arrayIndexOfObjectTwoValues:function(e,t,n,i,o,a){if("undefined"!=typeof e){i?0>i&&(i=Math.max(0,e.length+i)):i=0;for(var r=e.length;r>i;i++)if(e[i][t]===n&&e[i][o].toString()===a.toString())return i}return-1},arrayIndexOfObjectValueSubstring:function(e,t,n,i,o){i?0>i&&(i=Math.max(0,e.length+i)):i=0;for(var a=e.length;a>i;i++)if(o){if(-1!=e[i][t].toLowerCase().indexOf(n))return i}else if(-1!=e[i][t].indexOf(n))return i;return-1},arraySplice:function(e,t,n){if(Z.arraySpliceSupported)if(3<arguments.length)for(var i=3,o=arguments.length;o>i;i++)e.splice(t,n,arguments[i]);else e.splice(t,n);else{0>n&&(n=0);var a=[];if(3<arguments.length)for(i=3,o=arguments.length;o>i;i++)a[a.length]=arguments[i];for(var i=Z.Utils.arraySubarray(e,0,t),r=Z.Utils.arraySubarrayLen(e,t,n),o=Z.Utils.arraySubarray(e,t+n),a=i.concat(a,o),i=e.length=0,o=a.length;o>i;i++)e[e.length]=a[i];e=r}return e},arraySubarraySimple:function(e,t){return this.slice(e,t)},arraySortNumericAscending:function(e){return e.sort(function(e,t){return e-t}),e},arraySubarray:function(e,t,n){if(0>t&&(t=0),(!n||n>e.length)&&(n=e.length),t==n)return[];for(var i=[];n>t;t++)i[i.length]=e[t];return i},arraySubarrayLen:function(e,t,n){if(t>=e.length||n&&0>=n)return[];0>t&&(t=Math.abs(t)>e.length?0:e.length+t),(!n||n+t>e.length)&&(n=e.length-t);for(var i=[],o=t;t+n>o;o++)i[i.length]=e[o];return i},arrayToArrayOfStrings:function(e){for(var t=[],n=0,i=e.length;i>n;n++)t[n]="undefined"!=typeof e[n]&&"undefined"!=e[n]&&null!==e[n]?e[n].toString():"";return t},arrayUnique:function(e){for(var t=1;t<e.length;)e[t-1]==e[t]?e=Z.Utils.arraySplice(e,t,1):t++;return e},arrayUniqueByObjectValue:function(e,t){if("undefined"!=typeof e)for(var n=1;n<e.length;)e[n-1][t]==e[n][t]?e=Z.Utils.arraySplice(e,n,1):n++;return e},calculatePointsDistance:function(e,t,n,i){return Math.sqrt((e-=n)*e+(t-=i)*t)},fullScreenView:function(e,t,n){("undefined"==typeof n||null===n)&&(n=!1),t?(t=document.documentElement,t.requestFullScreen?(e.requestFullScreen(),Z.Utils.addEventListener(document,"fullscreenchange",Z.Viewport.fullScreenEscapeHandler)):t.mozRequestFullScreen?(e.mozRequestFullScreen(),Z.Utils.addEventListener(document,"mozfullscreenchange",Z.Viewport.fullScreenEscapeHandler)):t.webkitRequestFullScreen?(e.webkitRequestFullScreen(),Z.Utils.addEventListener(document,"webkitfullscreenchange",Z.Viewport.fullScreenEscapeHandler)):t.msRequestFullscreen&&(e.msRequestFullscreen(),Z.Utils.addEventListener(document,"MSFullscreenChange",Z.Viewport.fullScreenEscapeHandler))):document.cancelFullScreen?(n||document.cancelFullScreen(),Z.Utils.removeEventListener(document,"fullscreenchange",Z.Viewport.fullScreenEscapeHandler)):document.msExitFullscreen?(n||document.msExitFullscreen(),Z.Utils.removeEventListener(document,"MSFullscreenChange",Z.Viewport.fullScreenEscapeHandler)):document.mozCancelFullScreen?(n||document.mozCancelFullScreen(),Z.Utils.removeEventListener(document,"mozfullscreenchange",Z.Viewport.fullScreenEscapeHandler)):document.webkitCancelFullScreen&&(n||document.webkitCancelFullScreen(),Z.Utils.removeEventListener(document,"webkitfullscreenchange",Z.Viewport.fullScreenEscapeHandler))},rotatePoint:function(e,t,n){var i=Math.PI/180*-n;return n=e*Math.cos(i)-t*Math.sin(i),e=e*Math.sin(i)+t*Math.cos(i),new Z.Utils.Point(n,e)},rotateElement:function(e,t,n){(t!=Z.imageR||n)&&(t="rotate("+t.toString()+"deg)",e.transform=t,e.msTransform=t,e.mozTransform=t,e.webkitTransform=t,e.oTransform=t)},getDisplayPositionRotated:function(e,t){("undefined"==typeof t||null===t)&&(t=Z.imageR),0>t&&(t+=360);var n=parseFloat(e.width)/2,i=parseFloat(e.height)/2,o=Z.Utils.rotatePoint,a=new Z.Utils.Point(0,0);return 0!=t&&(90==t?a=o(-n,i,-t):180==t?a=o(n,i,-t):270==t&&(a=o(n,-i,-t)),a.x+=n,a.y+=i),new Z.Utils.Point(a.x,a.y)},intValue:function(e,t){return(e[t]+(e[t+1]<<8)|e[t+2]<<16)+16777216*e[t+3]},longValue:function(e,t){var n=(e[t]+(e[t+1]<<8)|e[t+2]<<16)+16777216*e[t+3];return 0!=e[t+4]&&(n+=4294967296*e[t+4]),n},shortValue:function(e,t){return e[t]+(e[t+1]<<8)},createUint8Array:function(e,t){return Z.uInt8ArraySupported?new Uint8Array(e,t):new Z.Utils.TypedArray(e,t)},TypedArray:function(e){var t;if("number"==typeof e){t=Array(e);for(var n=0;e>n;++n)t[n]=0}else t=e.slice(0);return t.subarray=Z.Utils.arraySubarraySimple,t.buffer=t,t.byteLength=t.length,t.set=Z.Utils.setSimple,"object"==typeof e&&e.buffer&&(t.buffer=e.buffer),t},setSimple:function(e,t){2>arguments.length&&(t=0);for(var n=0,i=e.length;i>n;++n,++t)this[t]=255&e[n]},encodeBase64:function(e){var t,n,i,o,a=0,r=0,s="",s=[];if(!e)return e;do t=e[a++],n=e[a++],i=e[a++],o=t<<16|n<<8|i,t=o>>18&63,n=o>>12&63,i=o>>6&63,o&=63,s[r++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o);while(a<e.length);return s=s.join(""),e=e.length%3,(e?s.slice(0,e-3):s)+"===".slice(e||3)},validateResponseArrayFunctionality:function(){"ZoomifyImageFile"!=Z.tileSource||Z.responseArraySupported||Z.responseArrayPrototyped||(Z.Utils.defineObjectProperty(XMLHttpRequest.prototype,"response",{get:function(){return new VBArray(this.responseBody).toArray()}}),Z.responseArrayPrototyped=!0)},defineObjectProperty:function(e,t,n){Z.definePropertySupported?Object.defineProperty(e,t,n):(delete e[t],"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),"value"in n&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=n.value))},createImageElementFromBytes:function(e,t){function n(){i.onload=null,i.onabort=null,i.onerror=null,o&&window.clearTimeout(o),window.setTimeout(function(){t(i)},1)}var i=new Image,o=null,a=parseFloat(this.getResource("z139")),r=function(){n(!1)};i.onload=function(){n(!0)},i.onabort=r,i.onerror=r,o=window.setTimeout(function(){console.log(Z.Utils.getResource("z253")),n(!1)},a),i.src=e},cacheProofPath:function(e){return e+="?t"+(new Date).getTime().toString()+"n"+Z.cacheProofCounter.toString(),Z.cacheProofCounter+=1,e},easing:function(e,t,n,i){return t-=e,1>(n/=i/2)?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},functionCallWithDelay:function(e,t){window.setTimeout(e,t)},nodeIsInViewer:function(e){for(var t=!1;0==t&&e;)e.id&&"ViewerDisplay"==e.id?t=!0:e=e.parentNode;return t},roundToFixed:function(e,t){var n=Math.round(e).toString().length,n=t-n,n=Math.pow(10,0>n?0:n);return e=Math.round(e*n)/n},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},getSign:function(e){return e?0>e?-1:1:0},configureHelpDisplay:function(){var e=80,t=80,n=parseInt(this.getResource("z422"),10),i=parseInt(this.getResource("z421"),10);n>=Z.viewerW&&(n=Z.viewerW-e,e-=40),i>=Z.viewerH&&(i=Z.viewerH-t,t-=40);var e=Z.viewerW-n-e,o=Z.viewerH-i-t,a=this.getResource("z127"),t=this.getResource("z126");Z.HelpDisplay=this.createContainerElement("div","HelpDisplay","inline-block","absolute","hidden",n+"px",i+"px",e+"px",o+"px","solid","1px",a,"0px","0px","normal",null,!0),Z.ViewerDisplay.appendChild(Z.HelpDisplay),e=Z.Utils.createContainerElement("div","helpTextBox","inline-block","absolute",null,n-50+"px",i-74+"px","4px","4px","solid","1px","white","0px","20px",null),e.style.overflowY="auto",Z.HelpDisplay.appendChild(e),Z.help=document.getElementById("helpTextBox"),e=parseInt(Z.Utils.getResource("z230"),10),Z.HelpDisplay.style.zIndex=(e+9).toString(),i=i-18-5,n-=66,e=this.getResource("z423"),n=new Z.Utils.Button("buttonHelpOk",e,null,null,null,null,"56px","18px",n+"px",i+"px","mousedown",this.helpOkButtonHandler,"z342OK","solid","1px",t,"0px","0px"),Z.HelpDisplay.appendChild(n.elmt)},helpOkButtonHandler:function(){return Z.Utils.hideHelp(),!0},showHelp:function(e){Z.HelpDisplay||Z.Utils.configureHelpDisplay(),Z.help&&(Z.help.innerHTML=unescape(e),Z.HelpDisplay.style.display="inline-block",document.getElementById("buttonHelpOk").style.display="inline-block")},hideHelp:function(){Z.HelpDisplay.style.display="none"},configureMessageDisplay:function(){var e=parseInt(this.getResource("z437"),10),t=parseInt(this.getResource("z436"),10),n=Z.viewerH-t-40,i=this.getResource("z159"),o=this.getResource("z158");Z.MessageDisplay=this.createContainerElement("div","MessageDisplay","inline-block","absolute","hidden",e+"px",t+"px","40px",n+"px","solid","1px",i,"0px","0px","normal",null,!0),Z.ViewerDisplay.appendChild(Z.MessageDisplay),n=parseInt(Z.Utils.getResource("z230"),10),Z.MessageDisplay.style.zIndex=(n+10).toString(),n=Z.Utils.createTextElement("messageBox","",e-18+"px",t-40+"px","4px","4px","4px","solid","1px",!0,"verdana","12px","none",null,1,"auto","auto",null),Z.MessageDisplay.appendChild(n),Z.messages=document.getElementById("messageBox"),t=t-18-5,e-=66,n=this.getResource("z438"),o=new Z.Utils.Button("buttonMessageOk",n,null,null,null,null,"56px","18px",e+"px",t+"px","mousedown",this.messageOkButtonHandler,"z362","solid","1px",o,"0px","0px"),Z.MessageDisplay.appendChild(o.elmt)},messageOkButtonHandler:function(){return Z.Utils.hideMessage(),!0},messageCancelButtonHandler:function(){return Z.Utils.hideMessage(),!1},showMessage:function(e,t,n,i,o){if(Z.messagesVisible){Z.MessageDisplay||Z.Utils.configureMessageDisplay(),Z.MessageDisplay.messageTimer&&window.clearTimeout(MessageDisplay.messageTimer);var a=!0;o&&(-1!=Z.Utils.arrayIndexOf(Z.messageDisplayList,e)?a=!1:Z.messageDisplayList[Z.messageDisplayList.length]=e),a&&(Z.messages&&(Z.messages.value=e),Z.MessageDisplay.style.display="inline-block","undefined"!=typeof i&&null!==i&&(e=document.getElementById("textBoxFor-messageBox"))&&(e.firstChild.style.textAlign=i),i=document.getElementById("buttonMessageOk"),e=parseInt(this.getResource("z436"),10),"undefined"!=typeof t&&null!==t&&t?(i.style.display="inline-block",Z.MessageDisplay.style.height=e+"px"):(i.style.display="none",Z.MessageDisplay.style.height=e-22+"px"),"undefined"!=typeof n&&null!==n&&!isNaN(n))&&("undefined"!=typeof Z.MessageDisplay.messageTimer&&null!==Z.MessageDisplay.messageTimer&&window.clearTimeout(Z.MessageDisplay.messageTimer),("undefined"==typeof n||null===n)&&(n=3e3),Z.MessageDisplay.messageTimer=window.setTimeout(Z.Utils.hideMessageTimerHandler,n))}},getMessage:function(){var e="";return Z.messages&&Z.Utils.stringValidate(Z.messages.value)&&(e=Z.messages.value),e},hideMessage:function(){Z.MessageDisplay&&(Z.MessageDisplay.style.display="none")},hideMessageTimerHandler:function(){Z.MessageDisplay.messageTimer&&(window.clearTimeout(Z.MessageDisplay.messageTimer),Z.MessageDisplay.messageTimer=null),Z.Utils.hideMessage()},uploadProgress:function(e){var t=Z.saveImageMessage;e.lengthComputable?(e=Math.round(100*e.loaded/e.total),t+=e.toString()+"%"):t+=Z.Utils.getResource("ALERT_IMAGESAVEUNABLETOCOMPUTEPROGRESS"),Z.Utils.showMessage(t,!1,"none","center")}};